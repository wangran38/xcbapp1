{"version":3,"sources":["uni-app:///main.js","webpack:///E:/xcbh5/xcbh5/test/subPackages/settings/addAddress/addAddress.vue?f613","webpack:///E:/xcbh5/xcbh5/test/subPackages/settings/addAddress/addAddress.vue?3c1a","webpack:///E:/xcbh5/xcbh5/test/subPackages/settings/addAddress/addAddress.vue?099d","webpack:///E:/xcbh5/xcbh5/test/subPackages/settings/addAddress/addAddress.vue?0804","uni-app:///subPackages/settings/addAddress/addAddress.vue","webpack:///E:/xcbh5/xcbh5/test/subPackages/settings/addAddress/addAddress.vue?6445","webpack:///E:/xcbh5/xcbh5/test/subPackages/settings/addAddress/addAddress.vue?cb09"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","mixins","components","fegionSelection","data","mapKey","selectedCountry","multiArray","area_id","multiIndex","isEdit","formData","phone","phonename","address","isshow","error","region","detail","location","latitude","longitude","markers","onLoad","uni","altitude","isHighAccuracy","highAccuracy","type","success","console","id","iconPath","width","height","fail","methods","selectLocation","fetchCities","api","response","fetchAreas","fetchMarkets","Limit","map","fetchProvinces","level","limit","bindMultiPickerChange","selectedCityIndex","selectedCityId","selectedCountryIndex","initializePicker","provinces","cities","areas","countries","bindMultiPickerColumnChange","column","value","selectedProvince","selectedCity","selectedContinent","toggleDefault","validateForm","handleSubmit","res","title","icon","setTimeout"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,mBAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAmI;AACnI;AAC8D;AACL;AACsC;;;AAG/F;AACqK;AACrK,gBAAgB,+KAAU;AAC1B,EAAE,gFAAM;AACR,EAAE,iGAAM;AACR,EAAE,0GAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,qGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAomB,CAAgB,8nBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;AC2DxnB;AAIA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eAKA;EACAC;EACAC;IACAC;EACA;EACAC;IACA;MACAC;MACAC;MACAC,aACA,IACA,IACA,GACA;MAEAC;MAAA;MACAC;MACAC;MACAC;QACAH;QAAA;QACAI;QAAA;QACAC;QAAA;QACAC;QAAA;QACAC;MACA;;MACAC;QACAH;QACAD;QACAK;QACAC;MACA;MACAC;QACAC;QACAC;MACA;MACAC;IAGA;EACA;EACAC;IAAA;IACA;IACA;IACA;IACA;IACA;IACAC;MACAC;MACAC;MACAC;MACAC;MACAC;QACA;QACA;QACA;QAEA;QAEAC;QACA;UAAAC;UAAAV;UAAAD;UAAAY;UAAAC;UAAAC;QAAA;QACAJ;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;MACA;MACAK;QACAL;MACA;IACA;IAEA;IACA;;IAEA;MACA;MACA;IACA;EAGA;EACAM;IACAC;MAAA;MACAb;QACAK;UACA;QACA;QACAM;UACAL;QACA;MACA;IAC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","file":"subPackages/settings/addAddress/addAddress.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './subPackages/settings/addAddress/addAddress.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./addAddress.vue?vue&type=template&id=2fb4599a&scoped=true&\"\nvar renderjs\nimport script from \"./addAddress.vue?vue&type=script&lang=js&\"\nexport * from \"./addAddress.vue?vue&type=script&lang=js&\"\nimport style0 from \"./addAddress.vue?vue&type=style&index=0&id=2fb4599a&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2fb4599a\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"subPackages/settings/addAddress/addAddress.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./addAddress.vue?vue&type=template&id=2fb4599a&scoped=true&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./addAddress.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./addAddress.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"address-edit-page\">\r\n\t\t<!-- 头部 -->\r\n\t\t<!-- \t\t<view class=\"app-bar\">\r\n\t\t\t<text class=\"title\">{{ isEdit ? '编辑地址' : '新增地址' }}</text>\r\n\t\t</view> -->\r\n\r\n\t\t<map :latitude=\"location.latitude\" :longitude=\"location.longitude\" :markers=\"markers\" style=\"width: 100%; height: 100vh; position: absolute; \"  v-if=\"mapKey\"></map>\r\n\t\t<scroll-view  scroll-y class=\"form-container\" style=\"margin-top: 150rpx;\">\r\n\t\t\t<view class=\"form-item\">\r\n\t\t\t\t<text class=\"label\">收货人</text>\r\n\t\t\t\t<input v-model=\"formData.phonename\" placeholder=\"请输入收货人姓名\" class=\"input\"\r\n\t\t\t\t\t:class=\"{ error: error.phonename }\" />\r\n\t\t\t\t<text v-if=\"error.phonename\" class=\"error-msg\">请输入收货人姓名</text>\r\n\t\t\t</view>\r\n\r\n\t\t\t<view class=\"form-item\">\r\n\t\t\t\t<text class=\"label\">联系电话</text>\r\n\t\t\t\t<input v-model=\"formData.phone\" placeholder=\"请输入手机号码\" type=\"number\" class=\"input\"\r\n\t\t\t\t\t:class=\"{ error: error.phone }\" />\r\n\t\t\t\t<text v-if=\"error.phone\" class=\"error-msg\">请输入正确手机号</text>\r\n\t\t\t</view>\r\n\r\n\t\t\t<view class=\"form-item\">\r\n\t\t\t\t<text class=\"label\">所在地区</text>\r\n\t\t\t\t\t<picker class=\"picker\" mode=\"multiSelector\" :range=\"multiArray\" :value=\"multiIndex\"\r\n\t\t\t\t\t\t@change=\"bindMultiPickerChange\" @columnchange=\"bindMultiPickerColumnChange\">\r\n\t\t\t\t\t\t<view class=\"picker-text\">\r\n\t\t\t\t\t\t\t{{ multiArray[0][multiIndex[0]] }} - {{ multiArray[1][multiIndex[1]] }}\r\n\t\t\t\t\t\t\t-{{ selectedCountry === 'overseas' ? '' : multiArray[2][multiIndex[2]] }}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</picker>\r\n\t\t\t\t\r\n\t\t\t\t<text v-if=\"error.region\" class=\"error-msg\">请选择所在地区</text>\r\n\t\t\t</view>\r\n\r\n\t\t\t<view class=\"form-item\">\r\n\t\t\t\t<text class=\"label\">详细地址</text>\r\n\t\t\t\t<!-- <button @click=\"selectLocation\" style=\"margin-left: -44rpx;\">位置选择</button> -->\r\n\t\t\t\t<textarea  v-model=\"formData.address\" placeholder=\"街道、楼牌号等详细信息\" class=\"textarea\"\r\n\t\t\t\t\t:class=\"{ error: error.address }\"   @click=\"selectLocation\"/>\r\n\t\t\t</view>\r\n\r\n\t\t\t<view class=\"form-item switch-item\">\r\n\t\t\t\t<text class=\"label\">默认地址</text>\r\n\t\t\t\t<switch :checked=\"formData.isshow == 1 ? false:true\" @change=\"toggleDefault\" color=\"#1a73e8\" />\r\n\t\t\t</view>\r\n\t\t\t<view class=\"save-footer\">\r\n\t\t\t\t<button class=\"save-btn\" @click=\"handleSubmit\">保存地址</button>\r\n\t\t\t</view>\r\n\t\t</scroll-view>\r\n\r\n\r\n\r\n\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tmyMixin\r\n\t} from '@/utils/public.js'\r\n\timport fegionSelection from '@/components/fegionSelection/fegionSelection.vue'\r\n\timport {\r\n\t\tapi,\r\n\t\tlocationsKey\r\n\t} from '@/api/index.js'\r\n\r\n\texport default {\r\n\t\tmixins: [myMixin],\r\n\t\tcomponents: {\r\n\t\t\tfegionSelection: fegionSelection\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tmapKey: false,\r\n\t\t\t\tselectedCountry: 'china',\r\n\t\t\t\tmultiArray: [\r\n\t\t\t\t\t[],\r\n\t\t\t\t\t[],\r\n\t\t\t\t\t[]\r\n\t\t\t\t],\r\n\r\n\t\t\t\tarea_id: null, // 所在区域id\r\n\t\t\t\tmultiIndex: [0, 0, 0],\r\n\t\t\t\tisEdit: false,\r\n\t\t\t\tformData: {\r\n\t\t\t\t\tarea_id: null, // 所在区域id\r\n\t\t\t\t\tphone: null, // 手机号\r\n\t\t\t\t\tphonename: null, // 收货人姓名\r\n\t\t\t\t\taddress: null, // 详细地址\r\n\t\t\t\t\tisshow: 1 // 是否为默认地址\r\n\t\t\t\t},\r\n\t\t\t\terror: {\r\n\t\t\t\t\tphonename: false,\r\n\t\t\t\t\tphone: false,\r\n\t\t\t\t\tregion: false,\r\n\t\t\t\t\tdetail: false\r\n\t\t\t\t},\r\n\t\t\t\tlocation: {\r\n\t\t\t\t\tlatitude: null,\r\n\t\t\t\t\tlongitude: null,\r\n\t\t\t\t},\r\n\t\t\t\tmarkers:[]\r\n\r\n\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad(options) {\r\n\t\t\t// api.addressResolution({\r\n\t\t\t// \taddress: '海南省琼海市会山镇大缴村'\r\n\t\t\t// }).then(data => {\r\n\t\t\t// \tconsole.log(data)\r\n\t\t\t// })\r\n\t\t\tuni.getLocation({\r\n\t\t\t\taltitude: true,\r\n\t\t\t\tisHighAccuracy: true,\r\n\t\t\t\thighAccuracy: true,\r\n\t\t\t\ttype: 'gcj02',\r\n\t\t\t\tsuccess:(res)=> {\r\n\t\t\t\t\tthis.location.longitude = res.longitude\r\n\t\t\t\t\t// 确保能看到标记点\r\n\t\t\t\t\tthis.location.latitude = res.latitude-0.005\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.mapKey = true\r\n\t\t\t\t\t\r\n\t\t\t\t\tconsole.log(this.location)\r\n\t\t\t\t\tthis.markers.push({id:1,longitude:this.location.longitude,latitude:this.location.latitude+0.005,iconPath:'../../../static/selectlocation.png',width:30,height:30})\r\n\t\t\t\t\tconsole.log(this.markers)\r\n\t\t\t\t\t// 强制更新（针对小程序平台）\r\n\t\t\t\t\t// this.$forceUpdate();\r\n\t\t\t\t\t// uni.request({\r\n\t\t\t\t\t// \turl:'https://restapi.amap.com/v3/assistant/coordinate/convert?parameters',\r\n\t\t\t\t\t// \tmethod:'get',\r\n\t\t\t\t\t// \tdata:{\r\n\t\t\t\t\t// \t\tkey:locationsKey,\r\n\t\t\t\t\t// \t\tlocaltion:`${res.longitude},${res.latitude}`\r\n\t\t\t\t\t// \t},\r\n\t\t\t\t\t// \tsuccess:(res)=>{\r\n\t\t\t\t\t// \t\tconsole.log(res)\r\n\t\t\t\t\t// \t}\r\n\t\t\t\t\t// })\r\n\t\t\t\t},\r\n\t\t\t\tfail(e) {\r\n\t\t\t\t\tconsole.log(e)\r\n\t\t\t\t}\r\n\t\t\t})\r\n\r\n\t\t\tthis.initializePicker()\r\n\t\t\t// console.log(options)\r\n\r\n\t\t\tif (JSON.parse(options.isEdit)) {\r\n\t\t\t\tthis.isEdit = true\r\n\t\t\t\tthis.formData = JSON.parse(options.jsonData)\r\n\t\t\t}\r\n\r\n\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tselectLocation() {\r\n\t\t\t\tuni.chooseLocation({\r\n\t\t\t\t\tsuccess:(res)=>{\r\n\t\t\t\t\t\tthis.formData.address = res.address\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail(e) {\r\n\t\t\t\t\t\tconsole.log(e)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tasync fetchCities(provinceId) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst response = await api.citytree(provinceId);\r\n\t\t\t\t\tif (response.code === 200 && Array.isArray(response.data)) {\r\n\t\t\t\t\t\tthis.cityList = response.data;\r\n\t\t\t\t\t\treturn response.data;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconsole.error('No cities data found');\r\n\t\t\t\t\t\treturn [];\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.error('Failed to fetch cities:', error);\r\n\t\t\t\t\treturn [];\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tasync fetchAreas(cityId) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst response = await api.citytree(cityId);\r\n\t\t\t\t\tif (response.code === 200 && Array.isArray(response.data)) {\r\n\t\t\t\t\t\tthis.districtList = response.data;\r\n\t\t\t\t\t\treturn response.data;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconsole.error('No areas data found');\r\n\t\t\t\t\t\treturn [];\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.error('Failed to fetch areas:', error);\r\n\t\t\t\t\treturn [];\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tasync fetchMarkets(areaId) {\r\n\t\t\t\t// console.log('请求市场数据的 areaId:', areaId); // 确认 areaId 是否正确\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst Limit = 100;\r\n\t\t\t\t\tconst response = await api.marketlist(areaId, Limit);\r\n\t\t\t\t\tif (response.code === 200 && Array.isArray(response.data.listdata)) {\r\n\t\t\t\t\t\tthis.marketList = response.data.listdata.map(item => item.marketname);\r\n\t\t\t\t\t\tthis.marketIdMap = response.data.listdata.reduce((map, item) => {\r\n\t\t\t\t\t\t\tmap[item.marketname] = item.id;\r\n\t\t\t\t\t\t\treturn map;\r\n\t\t\t\t\t\t}, {});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconsole.error('No market data found');\r\n\t\t\t\t\t\tthis.marketList = [];\r\n\t\t\t\t\t\tthis.marketIdMap = {};\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.error('Failed to fetch markets:', error);\r\n\t\t\t\t\tthis.marketList = [];\r\n\t\t\t\t\tthis.marketIdMap = {};\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tasync fetchProvinces() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst response = await api.citylist({\r\n\t\t\t\t\t\tlevel: 1,\r\n\t\t\t\t\t\tlimit: 100\r\n\t\t\t\t\t});\r\n\t\t\t\t\tif (response.code === 200) {\r\n\t\t\t\t\t\tthis.provinceList = response.data.listdata;\r\n\t\t\t\t\t\treturn this.provinceList;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthrow new Error('Failed to fetch provinces');\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.error('Failed to fetch provinces:', error);\r\n\t\t\t\t\tthrow error;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tasync bindMultiPickerChange(e) {\r\n\t\t\t\tthis.multiIndex = e.detail.value;\r\n\t\t\t\tif (this.selectedCountry === 'china') {\r\n\t\t\t\t\tconst selectedCityIndex = this.multiIndex[1];\r\n\t\t\t\t\tconst selectedCityId = this.cityList[selectedCityIndex]?.id || null;\r\n\t\t\t\t\tif (selectedCityId) {\r\n\t\t\t\t\t\tawait this.fetchAreas(selectedCityId);\r\n\t\t\t\t\t\tthis.area_id = this.districtList[this.multiIndex[2]]?.id || null;\r\n\t\t\t\t\t\tawait this.fetchMarkets(this.area_id);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (this.selectedCountry === 'overseas') {\r\n\t\t\t\t\tconst selectedCountryIndex = this.multiIndex[0];\r\n\t\t\t\t\tthis.overseasCountryId = this.overseasCountries[selectedCountryIndex]?.id || null;\r\n\t\t\t\t\tconst selectedCityIndex = this.multiIndex[1];\r\n\t\t\t\t\tif (this.overseasCountryId) {\r\n\t\t\t\t\t\tawait this.fetchOverseasCities(this.overseasCountryId);\r\n\t\t\t\t\t\tthis.overseasCityId = this.overseasCities[selectedCityIndex]?.id || null;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tasync initializePicker() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tif (this.selectedCountry === 'china') {\r\n\t\t\t\t\t\tconst provinces = await this.fetchProvinces();\r\n\t\t\t\t\t\tthis.multiArray[0] = provinces.map(item => item.name);\r\n\t\t\t\t\t\tif (provinces.length > 0) {\r\n\r\n\t\t\t\t\t\t\tconst cities = await this.fetchCities(provinces[0].id);\r\n\r\n\r\n\r\n\t\t\t\t\t\t\tthis.multiArray[1] = cities.map(item => item.name);\r\n\t\t\t\t\t\t\tif (cities.length > 0) {\r\n\t\t\t\t\t\t\t\tconst areas = await this.fetchAreas(2);\r\n\r\n\t\t\t\t\t\t\t\tthis.multiArray[2] = areas.map(item => item.name);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.multiIndex = [0, 0, 0];\r\n\r\n\r\n\t\t\t\t\t} else if (this.selectedCountry === 'overseas') {\r\n\t\t\t\t\t\tconst countries = await this.fetchOverseas();\r\n\t\t\t\t\t\tthis.multiArray[0] = countries.map(c => c.shortname);\r\n\t\t\t\t\t\tthis.multiArray[1] = [];\r\n\t\t\t\t\t\tthis.multiArray[2] = [];\r\n\t\t\t\t\t\tthis.multiIndex = [0, 0, 0];\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.error('Failed to initialize picker:', error);\r\n\t\t\t\t}\r\n\t\t\t\tthis.fetchMarkets(2313)\r\n\t\t\t\tthis.selectedMarketIndex = 1\r\n\t\t\t\t// console.log(this.multiArray, this.multiIndex)\r\n\t\t\t},\r\n\t\t\tasync bindMultiPickerColumnChange(e) {\r\n\t\t\t\tconst column = e.detail.column;\r\n\t\t\t\tconst value = e.detail.value;\r\n\r\n\t\t\t\tif (this.selectedCountry === 'china') {\r\n\t\t\t\t\tif (column === 0) {\r\n\t\t\t\t\t\tconst selectedProvince = this.provinceList[value];\r\n\t\t\t\t\t\tif (selectedProvince && selectedProvince.id !== undefined) {\r\n\t\t\t\t\t\t\tconst cities = await this.fetchCities(selectedProvince.id);\r\n\t\t\t\t\t\t\tthis.multiArray[1] = cities.map(item => item.name);\r\n\t\t\t\t\t\t\tif (cities.length > 0) {\r\n\t\t\t\t\t\t\t\tconst areas = await this.fetchAreas(cities[0].id);\r\n\t\t\t\t\t\t\t\tthis.multiArray[2] = areas.map(item => item.name);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthis.multiArray[2] = [];\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.multiIndex[1] = 0;\r\n\t\t\t\t\t\tthis.multiIndex[2] = 0;\r\n\t\t\t\t\t} else if (column === 1) {\r\n\t\t\t\t\t\tconst selectedCity = this.cityList[value];\r\n\t\t\t\t\t\tif (selectedCity && selectedCity.id !== undefined) {\r\n\t\t\t\t\t\t\tconst areas = await this.fetchAreas(selectedCity.id);\r\n\t\t\t\t\t\t\tthis.multiArray[2] = areas.map(item => item.name);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.multiArray[2] = [];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.multiIndex[2] = 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (this.selectedCountry === 'overseas') {\r\n\t\t\t\t\tif (column === 0) {\r\n\t\t\t\t\t\tconst selectedContinent = this.overseasCountries[value];\r\n\t\t\t\t\t\tif (selectedContinent && selectedContinent.id !== undefined) {\r\n\t\t\t\t\t\t\tawait this.fetchOverseasCities(selectedContinent.id);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.multiArray[2] = [];\r\n\t\t\t\t\t\tthis.multiIndex[1] = 0;\r\n\t\t\t\t\t\tthis.multiIndex[2] = 0;\r\n\t\t\t\t\t} else if (column === 1) {\r\n\t\t\t\t\t\tthis.multiArray[2] = [];\r\n\t\t\t\t\t\tthis.multiIndex[2] = 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.multiIndex[column] = value;\r\n\t\t\t\tthis.multiIndex = [...this.multiIndex];\r\n\t\t\t},\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\t\t\ttoggleDefault(e) {\r\n\t\t\t\tthis.formData.isshow = e.detail.value ? 2 : 1\r\n\t\t\t},\r\n\r\n\t\t\tvalidateForm() {\r\n\t\t\t\t\r\n\t\t\t},\r\n\r\n\t\t\tasync handleSubmit() {\r\n\r\n\t\t\t\t// if (!this.validateForm()) return\r\n\t\t\t\tlet res = null\r\n\r\n\r\n\t\t\t\tthis.formData.area_id = this.area_id\r\n\t\t\t\tif (!this.isEdit) {\r\n\t\t\t\t\t// 新增接口\r\n\t\t\t\t\tres = await api.addMyAddress(this.formData)\r\n\t\t\t\t\t// console.log(res)\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// 编辑接口\r\n\t\t\t\t\t// console.log(this.formData)\r\n\t\t\t\t\tres = await api.editMyAddress(this.formData)\r\n\t\t\t\t\t// console.log(res)\r\n\t\t\t\t}\r\n\t\t\t\tif (res.code == 200) {\r\n\t\t\t\t\t// 保存逻辑\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '保存成功',\r\n\t\t\t\t\t\ticon: 'success',\r\n\t\t\t\t\t\tsuccess: () => {\r\n\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\tthis.customizeBack()\r\n\t\t\t\t\t\t\t}, 1500)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// 保存逻辑\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '请求异常',\r\n\t\t\t\t\t\ticon: 'error',\r\n\t\t\t\t\t\tsuccess: () => {\r\n\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\tthis.customizeBack()\r\n\t\t\t\t\t\t\t}, 1500)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t.address-edit-page {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: left;\r\n\t\tbackground: #f8f9fb;\r\n\t\tmin-height: 100vh;\r\n\r\n\t\t.app-bar {\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tpadding: 48rpx 32rpx 24rpx;\r\n\t\t\tbackground: #fff;\r\n\t\t\tbox-shadow: 0 2rpx 12rpx rgba(0, 0, 0, 0.04);\r\n\r\n\t\t\t.title {\r\n\t\t\t\tfont-size: 36rpx;\r\n\t\t\t\tfont-weight: 500;\r\n\t\t\t\tcolor: #2d3742;\r\n\t\t\t\tmargin-left: 24rpx;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.form-container {\r\n\t\t\tposition: fixed;\r\n\t\t\tbottom: 0;\r\n\t\t\twidth: 700rpx;\r\n\t\t\tpadding: 32rpx;\r\n\t\t}\r\n\r\n\t\t.form-item {\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: left;\r\n\t\t\talign-items: center;\r\n\t\t\tbackground: #fff;\r\n\t\t\t// border-radius: 16rpx;\r\n\t\t\tpadding: 18rpx;\r\n\t\t\tposition: relative;\r\n\t\t\ttext-align: left;\r\n\r\n\t\t\t.label {\r\n\t\t\t\twidth: 200rpx;\r\n\t\t\t\tdisplay: block;\r\n\t\t\t\tcolor: #4a5568;\r\n\t\t\t\tfont-size: 30rpx;\r\n\t\t\t\tmargin-bottom: 24rpx;\r\n\t\t\t}\r\n\r\n\t\t\t.input,\r\n\t\t\t.region-picker,\r\n\t\t\t.textarea {\r\n\t\t\t\twidth: 600rpx;\r\n\t\t\t\theight: 88rpx;\r\n\t\t\t\tpadding: 0 24rpx;\r\n\t\t\t\tborder: 1px solid #e2e8f0;\r\n\t\t\t\tborder-radius: 12rpx;\r\n\t\t\t\tfont-size: 30rpx;\r\n\r\n\t\t\t\t&.error {\r\n\t\t\t\t\tborder-color: #ef4444;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.region-picker {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tcolor: #718096;\r\n\r\n\t\t\t\t.placeholder {\r\n\t\t\t\t\tcolor: #a0aec0;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.textarea {\r\n\t\t\t\theight: 200rpx;\r\n\t\t\t\tpadding: 24rpx;\r\n\t\t\t\tline-height: 1.6;\r\n\t\t\t}\r\n\r\n\t\t\t.error-msg {\r\n\t\t\t\tcolor: #ef4444;\r\n\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\tmargin-top: 12rpx;\r\n\t\t\t\tdisplay: block;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.switch-item {\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: left;\r\n\t\t\talign-items: center;\r\n\t\t}\r\n\r\n\t\t.save-footer {\r\n\t\t\tz-index: 999;\r\n\t\t\t// position: fixed;\r\n\t\t\t// bottom: 0;\r\n\t\t\t// left: 0;\r\n\t\t\t// right: 0;\r\n\t\t\tbackground: #fff;\r\n\t\t\tpadding: 24rpx 32rpx;\r\n\t\t\tbox-shadow: 0 -4rpx 12rpx rgba(0, 0, 0, 0.04);\r\n\r\n\t\t\t.save-btn {\r\n\t\t\t\tbackground: #1a73e8;\r\n\t\t\t\tcolor: #fff;\r\n\t\t\t\theight: 96rpx;\r\n\t\t\t\tborder-radius: 48rpx;\r\n\t\t\t\tfont-size: 32rpx;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tjustify-content: center;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t@media (min-width: 768px) {\r\n\t\t.address-edit-page {\r\n\t\t\t.form-container {\r\n\t\t\t\tmax-width: 1000px;\r\n\t\t\t\tmargin: 0 auto;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./addAddress.vue?vue&type=style&index=0&id=2fb4599a&lang=scss&scoped=true&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./addAddress.vue?vue&type=style&index=0&id=2fb4599a&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1750121697120\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}