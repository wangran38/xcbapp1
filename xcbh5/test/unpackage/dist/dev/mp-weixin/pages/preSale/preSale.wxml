<view class="container"><view class="progress-bar"><view class="step active">1. 基本信息</view><view class="{{['step',setp==2?'active':'']}}">2. 确认提交</view></view><scroll-view hidden="{{!(setp==1)}}" scroll-y="{{true}}"><view class="form-card animated fadeIn"><view class="card-header"><uni-icons vue-id="bc4ccf2c-1" type="info" size="18" color="#4CD964" bind:__l="__l"></uni-icons><text class="card-title">菜品信息</text></view><uni-forms class="vue-ref" vue-id="bc4ccf2c-2" modelValue="{{formData}}" label-position="top" data-ref="form" bind:__l="__l" vue-slots="{{['default']}}"><view class="form-row"><view class="col-9"><uni-forms-item vue-id="{{('bc4ccf2c-3')+','+('bc4ccf2c-2')}}" label="预售菜品" required="{{true}}" name="category" bind:__l="__l" vue-slots="{{['default']}}"><input type="text" placeholder="请输入名称" data-event-opts="{{[['input',[['__set_model',['$0','goodsname','$event',[]],['formData']]]]]}}" value="{{formData.goodsname}}" bindinput="__e"/></uni-forms-item></view></view><view class="form-row"><view class="col-9"><uni-forms-item vue-id="{{('bc4ccf2c-4')+','+('bc4ccf2c-2')}}" label="预售库存" required="{{true}}" name="stock" bind:__l="__l" vue-slots="{{['default']}}"><input type="text" placeholder="请输入库存" data-event-opts="{{[['input',[['__set_model',['$0','goodstotal','$event',['number']],['formData']]]],['blur',[['$forceUpdate']]]]}}" value="{{formData.goodstotal}}" bindinput="__e" bindblur="__e"/></uni-forms-item></view><view class="col-9"><uni-forms-item vue-id="{{('bc4ccf2c-5')+','+('bc4ccf2c-2')}}" label="预售单位" required="{{true}}" name="stock" bind:__l="__l" vue-slots="{{['default']}}"><input type="text" placeholder="请输入单位" data-event-opts="{{[['input',[['__set_model',['$0','unit','$event',[]],['formData']]]]]}}" value="{{formData.unit}}" bindinput="__e"/></uni-forms-item></view></view><view class="price-group"><uni-forms-item vue-id="{{('bc4ccf2c-6')+','+('bc4ccf2c-2')}}" label="预卖价" required="{{true}}" name="price" bind:__l="__l" vue-slots="{{['default']}}"><view class="price-input"><text class="currency">¥</text><uni-easyinput bind:input="__e" vue-id="{{('bc4ccf2c-7')+','+('bc4ccf2c-6')}}" type="number" placeholder="0.00" inputBorder="{{false}}" styles="{{$root.a0}}" disabled="{{isPaid}}" value="{{formData.presaleprice}}" data-event-opts="{{[['^input',[['__set_model',['$0','presaleprice','$event',[]],['formData']]]]]}}" bind:__l="__l"></uni-easyinput></view></uni-forms-item><view class="price-tips"><uni-icons vue-id="{{('bc4ccf2c-8')+','+('bc4ccf2c-2')}}" type="alert" size="14" color="#999" bind:__l="__l"></uni-icons><text>预付后价格将锁定不可修改</text></view></view><view class="price-group"><uni-forms-item vue-id="{{('bc4ccf2c-9')+','+('bc4ccf2c-2')}}" label="市场价" required="{{true}}" name="price" bind:__l="__l" vue-slots="{{['default']}}"><view class="price-input"><text class="currency">¥</text><uni-easyinput bind:input="__e" vue-id="{{('bc4ccf2c-10')+','+('bc4ccf2c-9')}}" type="number" placeholder="0.00" inputBorder="{{false}}" styles="{{$root.a1}}" disabled="{{isPaid}}" value="{{formData.price}}" data-event-opts="{{[['^input',[['__set_model',['$0','price','$event',[]],['formData']]]]]}}" bind:__l="__l"></uni-easyinput></view></uni-forms-item></view><view class="form-item"><view class="item-label"><view style="display:flex;"><uni-icons vue-id="{{('bc4ccf2c-11')+','+('bc4ccf2c-2')}}" type="image" size="18" color="#666" bind:__l="__l"></uni-icons><uni-forms-item vue-id="{{('bc4ccf2c-12')+','+('bc4ccf2c-2')}}" label="菜品图片" required="{{true}}" name="week" bind:__l="__l"></uni-forms-item></view></view><view data-event-opts="{{[['tap',[['chooseImage',['$event']]]]]}}" class="{{['upload-btn',(isImageSelected)?'uploaded':'']}}" bindtap="__e"><uni-icons vue-id="{{('bc4ccf2c-13')+','+('bc4ccf2c-2')}}" type="{{isImageSelected?'checkmarkempty':'plusempty'}}" size="24" color="{{isImageSelected?'#67C23A':'#999'}}" bind:__l="__l"></uni-icons><text>{{isImageSelected?'已上传':'点击上传'}}</text></view></view><uni-forms-item vue-id="{{('bc4ccf2c-14')+','+('bc4ccf2c-2')}}" label="是否预卖" required="{{true}}" name="week" bind:__l="__l" vue-slots="{{['default']}}"><switch data-event-opts="{{[['change',[['switchChange',['$event']]]]]}}" bindchange="__e"></switch></uni-forms-item><uni-forms-item vue-id="{{('bc4ccf2c-15')+','+('bc4ccf2c-2')}}" label="预售起始" required="{{true}}" name="week" bind:__l="__l" vue-slots="{{['default']}}"><uni-datetime-picker bind:input="__e" vue-id="{{('bc4ccf2c-16')+','+('bc4ccf2c-15')}}" type="datetime" return-type="timestamp" value="{{formData.sellbegintime}}" data-event-opts="{{[['^input',[['__set_model',['$0','sellbegintime','$event',[]],['formData']]]]]}}" bind:__l="__l"></uni-datetime-picker></uni-forms-item><uni-forms-item vue-id="{{('bc4ccf2c-17')+','+('bc4ccf2c-2')}}" label="预售结束" required="{{true}}" name="week" bind:__l="__l" vue-slots="{{['default']}}"><uni-datetime-picker bind:input="__e" vue-id="{{('bc4ccf2c-18')+','+('bc4ccf2c-17')}}" type="datetime" return-type="timestamp" value="{{formData.sellendtime}}" data-event-opts="{{[['^input',[['__set_model',['$0','sellendtime','$event',[]],['formData']]]]]}}" bind:__l="__l"></uni-datetime-picker></uni-forms-item></uni-forms></view></scroll-view><scroll-view hidden="{{!(setp==2)}}" scroll-y="{{true}}"><view class="form-card animated fadeIn"><view class="card-header"><uni-icons vue-id="bc4ccf2c-19" type="info" size="18" color="#4CD964" bind:__l="__l"></uni-icons><text class="card-title">提交申请</text></view><view class="form-card"><view class="protocol-section"><text class="section-title">第一条 质量保证</text><text class="protocol-text">卖方承诺商品质量符合GB/T 20014.5-2013标准，并提供以下证明文件：\n- 农产品质量安全检测报告\n- 原产地证明\n- 无公害农产品认证</text></view><view class="protocol-section"><text class="section-title">第二条 隐私条款</text><text class="protocol-text">平台将采取以下措施保护用户隐私：\n1. 联系方式加密存储（AES-256）\n2. 生物特征信息实时删除</text></view><view class="protocol-actions"><label class="agree-checkbox"><checkbox checked="{{agreed}}" color="#4CD964" data-event-opts="{{[['tap',[['e0',['$event']]]]]}}" bindtap="__e"></checkbox><text>我已阅读并同意上述协议</text></label><button data-event-opts="{{[['tap',[['handleConfirm',['$event']]]]]}}" class="{{['confirm-btn',disabled?'':'disabled']}}" bindtap="__e">提交申请，交付押金</button></view></view></view></scroll-view><view hidden="{{!(setp==1)}}" class="fab-container"><button data-event-opts="{{[['tap',[['gotoSupplement',['$event']]]]]}}" class="fab-button" bindtap="__e"><text>下一步</text></button></view></view>