<view class="container data-v-2f6e0af6"><view class="product-card data-v-2f6e0af6"><text class="title data-v-2f6e0af6">{{product.goodsname}}</text><view class="price-info data-v-2f6e0af6"><text class="deposit data-v-2f6e0af6">{{"单价：¥"+product.presaleprice}}</text></view></view><view class="form-item data-v-2f6e0af6"><text class="label data-v-2f6e0af6">购买数量</text><view class="number-selector data-v-2f6e0af6"><button data-event-opts="{{[['tap',[['changeQuantity',[-1]]]]]}}" class="{{['btn','minus','data-v-2f6e0af6',(quantity<=1)?'disabled':'']}}" bindtap="__e">-</button><input class="input data-v-2f6e0af6" type="number" min="{{1}}" max="{{99}}" data-event-opts="{{[['input',[['handleInput',['$event']]]]]}}" value="{{quantity}}" bindinput="__e"/><button data-event-opts="{{[['tap',[['changeQuantity',[1]]]]]}}" class="{{['btn','plus','data-v-2f6e0af6',(quantity>=99)?'disabled':'']}}" bindtap="__e">+</button></view></view><view class="form-item data-v-2f6e0af6"><text class="label data-v-2f6e0af6">选择提货点</text><scroll-view class="delivery-list data-v-2f6e0af6" scroll-y="{{true}}"><block wx:for="{{deliveryPoints}}" wx:for-item="point" wx:for-index="__i0__" wx:key="id"><view data-event-opts="{{[['tap',[['selectPoint',['$0'],[[['deliveryPoints','id',point.id,'id']]]]]]]}}" class="{{['delivery-item','data-v-2f6e0af6',(selectedPoint===point.id)?'active':'']}}" bindtap="__e"><view class="point-info data-v-2f6e0af6"><text class="name data-v-2f6e0af6">{{point.name}}</text><text class="address data-v-2f6e0af6">{{point.address}}</text></view><view class="distance data-v-2f6e0af6"><text class="data-v-2f6e0af6">{{point.distance+"km"}}</text><block wx:if="{{selectedPoint===point.id}}"><uni-icons vue-id="{{'20d6d721-1-'+__i0__}}" type="checkmarkempty" color="#07c160" size="20" class="data-v-2f6e0af6" bind:__l="__l"></uni-icons></block></view></view></block></scroll-view></view><view class="form-item data-v-2f6e0af6"><text class="label data-v-2f6e0af6">预售规则</text><view class="rules data-v-2f6e0af6"><block wx:for="{{shortRules}}" wx:for-item="rule" wx:for-index="index" wx:key="index"><view class="rule-item data-v-2f6e0af6">{{''+(index+1)+". "+rule+''}}</view></block><text data-event-opts="{{[['tap',[['e0',['$event']]]]]}}" class="view-detail data-v-2f6e0af6" bindtap="__e">查看完整规则 ></text></view></view><view class="footer data-v-2f6e0af6"><view class="total data-v-2f6e0af6"><text class="data-v-2f6e0af6">应付定金：</text><text class="price data-v-2f6e0af6">{{"¥"+totalDeposit}}</text></view><button data-event-opts="{{[['tap',[['handleSubmit',['$event']]]]]}}" class="{{['submit-btn','data-v-2f6e0af6',(!formValid)?'disabled':'']}}" bindtap="__e">{{''+(formValid?'支付定金':'请完善信息')+''}}</button></view><uni-popup vue-id="20d6d721-2" type="bottom" data-ref="popup" class="data-v-2f6e0af6 vue-ref" bind:__l="__l" vue-slots="{{['default']}}"><view class="rules-popup data-v-2f6e0af6"><view class="popup-header data-v-2f6e0af6"><text class="data-v-2f6e0af6">完整预售规则</text><uni-icons vue-id="{{('20d6d721-3')+','+('20d6d721-2')}}" type="close" size="24" data-event-opts="{{[['^click',[['e1']]]]}}" bind:click="__e" class="data-v-2f6e0af6" bind:__l="__l"></uni-icons></view><scroll-view class="rules-content data-v-2f6e0af6" scroll-y="{{true}}"><block wx:for="{{fullRules}}" wx:for-item="rule" wx:for-index="index" wx:key="index"><view class="rule-item data-v-2f6e0af6">{{''+(index+1)+". "+rule+''}}</view></block></scroll-view></view></uni-popup></view>