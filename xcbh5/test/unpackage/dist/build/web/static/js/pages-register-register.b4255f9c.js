(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-register-register"],{"0bf3":function(r,o,e){"use strict";e.r(o);var n=e("128e"),a=e("387d");for(var t in a)["default"].indexOf(t)<0&&function(r){e.d(o,r,(function(){return a[r]}))}(t);e("7d46");var s=e("828b"),i=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"1938b5bc",null,!1,n["a"],void 0);o["default"]=i.exports},"128e":function(r,o,e){"use strict";e.d(o,"b",(function(){return a})),e.d(o,"c",(function(){return t})),e.d(o,"a",(function(){return n}));var n={uniEasyinput:e("2b45").default},a=function(){var r=this,o=r.$createElement,e=r._self._c||o;return e("v-uni-view",{staticClass:"container"},[e("v-uni-view",{staticClass:"header"},[r._v("注册")]),e("v-uni-view",{staticClass:"input-group"},[e("uni-easyinput",{attrs:{prefixIcon:"person",placeholder:"请输入手机号码"},on:{input:function(o){arguments[0]=o=r.$handleEvent(o),r.validatePhoneNumber.apply(void 0,arguments)}},model:{value:r.form.username,callback:function(o){r.$set(r.form,"username",o)},expression:"form.username"}}),r.phoneError?e("v-uni-view",{staticClass:"error-message"},[r._v(r._s(r.phoneError))]):r._e()],1),e("v-uni-view",{staticClass:"input-group"},[e("uni-easyinput",{attrs:{type:"password",prefixIcon:"locked",placeholder:"请输入六位密码",maxlength:"6"},on:{input:function(o){arguments[0]=o=r.$handleEvent(o),r.validatePassword("password")}},model:{value:r.form.password,callback:function(o){r.$set(r.form,"password",o)},expression:"form.password"}}),e("v-uni-view",{class:["error-message",{valid:r.passwordValid,invalid:!r.passwordValid&&r.form.password.length>0}]},[r._v(r._s(r.passwordError))])],1),e("v-uni-view",{staticClass:"input-group"},[e("uni-easyinput",{attrs:{type:"password",prefixIcon:"locked",placeholder:"请确认密码",maxlength:"6"},on:{input:function(o){arguments[0]=o=r.$handleEvent(o),r.validatePassword("confirm")}},model:{value:r.form.confirm,callback:function(o){r.$set(r.form,"confirm",o)},expression:"form.confirm"}}),e("v-uni-view",{class:["error-message",{valid:r.confirmPasswordValid,invalid:!r.confirmPasswordValid&&r.form.confirm.length>0}]},[r._v(r._s(r.confirmPasswordError))])],1),e("v-uni-view",{staticClass:"button-group"},[e("v-uni-button",{staticClass:"login-button",on:{click:function(o){arguments[0]=o=r.$handleEvent(o),r.register.apply(void 0,arguments)}}},[r._v("注册")])],1)],1)},t=[]},"168f":function(r,o,e){var n=e("b16a");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[r.i,n,""]]),n.locals&&(r.exports=n.locals);var a=e("967d").default;a("4435c9f8",n,!0,{sourceMap:!1,shadowMode:!1})},"387d":function(r,o,e){"use strict";e.r(o);var n=e("f0ae"),a=e.n(n);for(var t in n)["default"].indexOf(t)<0&&function(r){e.d(o,r,(function(){return n[r]}))}(t);o["default"]=a.a},"7d46":function(r,o,e){"use strict";var n=e("168f"),a=e.n(n);a.a},b16a:function(r,o,e){var n=e("c86c");o=n(!1),o.push([r.i,".container[data-v-1938b5bc]{display:flex;flex-direction:column;justify-content:center;align-items:center;padding:%?40?%}.header[data-v-1938b5bc]{font-size:%?48?%;margin-bottom:%?40?%}.input-group[data-v-1938b5bc]{width:90%;margin-bottom:%?40?%}.button-group[data-v-1938b5bc]{width:90%;text-align:center}.login-button[data-v-1938b5bc]{width:100%;padding:%?10?%;background-color:#00f;color:#fff;font-size:%?28?%;border:none;border-radius:%?10?%;cursor:pointer}.login-button[data-v-1938b5bc]:active{background-color:#00008b}.error-message[data-v-1938b5bc]{color:red;font-size:%?24?%}.error-message.valid[data-v-1938b5bc]{color:green\n\t/* 正确提示的绿色 */}.error-message.invalid[data-v-1938b5bc]{color:red\n\t/* 错误提示的红色 */}",""]),r.exports=o},f0ae:function(r,o,e){"use strict";e("6a54");var n=e("f5bd").default;Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var a=n(e("2634")),t=n(e("2fdc"));e("5c47"),e("0506");var s=e("4860"),i={data:function(){return{form:{username:"",password:"",confirm:""},phoneError:"",passwordError:"",confirmPasswordError:"",passwordValid:!1,confirmPasswordValid:!1}},watch:{"form.username":"validatePhoneNumber","form.password":"validatePassword"},methods:{validatePhoneNumber:function(){/^1[3-9]\d{9}$/.test(this.form.username)?this.phoneError="":this.phoneError="请输入正确的11位手机号"},validatePassword:function(r){var o=this;this.$nextTick((function(){"password"===r?0===o.form.password.length?(o.passwordError="密码不能为空",o.passwordValid=!1):6!==o.form.password.length?(o.passwordError="密码必须6位",o.passwordValid=!1):(o.passwordError="密码格式正确",o.passwordValid=!0):"confirm"===r&&(0===o.form.confirm.length?(o.confirmPasswordError="密码不能为空",o.confirmPasswordValid=!1):6!==o.form.confirm.length?(o.confirmPasswordError="密码必须6位",o.confirmPasswordValid=!1):o.form.confirm!==o.form.password?(o.confirmPasswordError="两次密码输入不一致",o.confirmPasswordValid=!1):(o.confirmPasswordError="密码格式正确",o.confirmPasswordValid=!0))}))},register:function(){var r=this;return(0,t.default)((0,a.default)().mark((function o(){var e,n;return(0,a.default)().wrap((function(o){while(1)switch(o.prev=o.next){case 0:if(""!==r.form.username){o.next=3;break}return uni.showToast({title:"请输入手机号码",icon:"none"}),o.abrupt("return");case 3:if(""!==r.form.password){o.next=6;break}return uni.showToast({title:"请输入密码",icon:"none"}),o.abrupt("return");case 6:if(6===r.form.password.length){o.next=9;break}return uni.showToast({icon:"none",title:"密码必须为6位"}),o.abrupt("return");case 9:if(r.form.password===r.form.confirm){o.next=12;break}return uni.showToast({icon:"none",title:"两次密码输入不一致"}),o.abrupt("return");case 12:if(!r.phoneError){o.next=15;break}return uni.showToast({icon:"none",title:r.phoneError}),o.abrupt("return");case 15:return o.prev=15,o.next=18,s.api.register(r.form.username,r.form.password,r.form.confirm);case 18:e=o.sent,200===e.code?(n=e.data,uni.setStorageSync("token",n),uni.showToast({title:"注册成功",icon:"success",duration:2e3}),setTimeout((function(){uni.navigateTo({url:"/pages/login/login"})}),2e3)):uni.showToast({icon:"none",title:e.msg||"注册失败，请重试"}),o.next=26;break;case 22:o.prev=22,o.t0=o["catch"](15),uni.showToast({icon:"none",title:"网络错误，请稍后重试"}),console.error("Registration Error:",o.t0);case 26:case"end":return o.stop()}}),o,null,[[15,22]])})))()}}};o.default=i}}]);