(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-Apply-Apply~pages-editshop-editshop~pages-publish-publish~pages-release-release~pages-stalllis~95721966"],{"1ea2":function(t,e,r){"use strict";var n=r("af9e"),i=r("1c06"),o=r("ada5"),a=r("5d6e"),u=Object.isExtensible,c=n((function(){u(1)}));t.exports=c||a?function(t){return!!i(t)&&((!a||"ArrayBuffer"!==o(t))&&(!u||u(t)))}:u},2634:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
e.default=function(){return t};var t={},r=Object.prototype,i=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},u=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",f=a.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(U){s=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof p?e:p,a=Object.create(i.prototype),u=new P(n||[]);return o(a,"_invoke",{value:j(t,r,u)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(U){return{type:"throw",arg:U}}}t.wrap=l;var d={};function p(){}function v(){}function b(){}var y={};s(y,u,(function(){return this}));var g=Object.getPrototypeOf,m=g&&g(g(T([])));m&&m!==r&&i.call(m,u)&&(y=m);var w=b.prototype=p.prototype=Object.create(y);function x(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){var r;o(this,"_invoke",{value:function(o,a){function u(){return new e((function(r,u){(function r(o,a,u,c){var f=h(t[o],t,a);if("throw"!==f.type){var s=f.arg,l=s.value;return l&&"object"==(0,n.default)(l)&&i.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,u,c)}),(function(t){r("throw",t,u,c)})):e.resolve(l).then((function(t){s.value=t,u(s)}),(function(t){return r("throw",t,u,c)}))}c(f.arg)})(o,a,r,u)}))}return r=r?r.then(u,u):u()}})}function j(t,e,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return A()}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var u=E(a,r);if(u){if(u===d)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=h(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}function E(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator["return"]&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var i=h(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,d;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function T(t){if(t){var e=t[u];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,n=function e(){for(;++r<t.length;)if(i.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return n.next=n}}return{next:A}}function A(){return{value:void 0,done:!0}}return v.prototype=b,o(w,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:v,configurable:!0}),v.displayName=s(b,f,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,s(t,f,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},x(O.prototype),s(O.prototype,c,(function(){return this})),t.AsyncIterator=O,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new O(l(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},x(w),s(w,f,"Generator"),s(w,u,(function(){return this})),s(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=T,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&i.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var u=i.call(o,"catchLoc"),c=i.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;k(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:T(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},t},r("6a54"),r("01a2"),r("e39c"),r("bf0f"),r("844d"),r("18f7"),r("de6c"),r("3872e"),r("4e9b"),r("114e"),r("c240"),r("926e"),r("7a76"),r("c9b5"),r("aa9c"),r("2797"),r("8a8d"),r("dc69"),r("f7a5");var n=function(t){return t&&t.__esModule?t:{default:t}}(r("fcf3"))},"2fdc":function(t,e,r){"use strict";function n(t,e,r,n,i,o,a){try{var u=t[o](a),c=u.value}catch(f){return void r(f)}u.done?e(c):Promise.resolve(c).then(n,i)}r("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(){var e=this,r=arguments;return new Promise((function(i,o){var a=t.apply(e,r);function u(t){n(a,i,o,u,c,"next",t)}function c(t){n(a,i,o,u,c,"throw",t)}u(void 0)}))}},r("bf0f")},3639:function(t,e,r){r("bf0f"),r("18f7"),r("d0af"),r("de6c"),r("6a54"),r("9a2c");var n=r("bdbb")["default"];function i(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,r=new WeakMap;return(i=function(t){return t?r:e})(t)}t.exports=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==n(t)&&"function"!==typeof t)return{default:t};var r=i(e);if(r&&r.has(t))return r.get(t);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in t)if("default"!==u&&Object.prototype.hasOwnProperty.call(t,u)){var c=a?Object.getOwnPropertyDescriptor(t,u):null;c&&(c.get||c.set)?Object.defineProperty(o,u,c):o[u]=t[u]}return o["default"]=t,r&&r.set(t,o),o},t.exports.__esModule=!0,t.exports["default"]=t.exports},4085:function(t,e,r){"use strict";var n=r("8bdb"),i=r("85c1");n({global:!0,forced:i.globalThis!==i},{globalThis:i})},5075:function(t,e,r){"use strict";var n=r("ae5c"),i=r("71e9"),o=r("e7e3"),a=r("52df"),u=r("81a7"),c=r("1fc1"),f=r("1297"),s=r("d67c"),l=r("5112"),h=r("7e91"),d=TypeError,p=function(t,e){this.stopped=t,this.result=e},v=p.prototype;t.exports=function(t,e,r){var b,y,g,m,w,x,O,j=r&&r.that,E=!(!r||!r.AS_ENTRIES),L=!(!r||!r.IS_RECORD),k=!(!r||!r.IS_ITERATOR),P=!(!r||!r.INTERRUPTED),T=n(e,j),A=function(t){return b&&h(b,"normal",t),new p(!0,t)},U=function(t){return E?(o(t),P?T(t[0],t[1],A):T(t[0],t[1])):P?T(t,A):T(t)};if(L)b=t.iterator;else if(k)b=t;else{if(y=l(t),!y)throw new d(a(t)+" is not iterable");if(u(y)){for(g=0,m=c(t);m>g;g++)if(w=U(t[g]),w&&f(v,w))return w;return new p(!1)}b=s(t,y)}x=L?t.next:b.next;while(!(O=i(x,b)).done){try{w=U(O.value)}catch(B){h(b,"throw",B)}if("object"==typeof w&&w&&f(v,w))return w}return new p(!1)}},"5d6e":function(t,e,r){"use strict";var n=r("af9e");t.exports=n((function(){if("function"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}}))},"64af":function(t,e,r){"use strict";r("6a54");var n=r("3639").default,i=r("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.compressPictures=void 0,e.getPlatform=f,e.useUpload=void 0;var o=i(r("2634")),a=i(r("2fdc"));r("bf0f");var u=n(r("4860")),c=i(r("e270"));function f(){return 2}e.useUpload=function(t){var e=t.uploadPath,r=(t.tempFilePaths,t.FormData,t.file);return{upload:function(){return new Promise(function(){var t=(0,a.default)((0,o.default)().mark((function t(n,i){return(0,o.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:uni.showLoading({title:"上传中",mask:!0}),t.t0=f(),t.next=1===t.t0?4:2===t.t0?5:3===t.t0?16:27;break;case 4:return t.abrupt("break",27);case 5:return t.t1=uni,t.t2=u.default.UPLOAD_URL+e,t.next=9,s(r);case 9:return t.t3=t.sent,t.t4={output:"json2"},t.t5=function(t){uni.showToast({title:"上传成功"}),uni.hideLoading(),n(null===t||void 0===t?void 0:t.data)},t.t6=function(t){console.log(t),uni.showToast({title:"上传失败",icon:"error"}),uni.hideLoading()},t.t7={url:t.t2,name:"file",file:t.t3,formData:t.t4,success:t.t5,fail:t.t6},t.t1.uploadFile.call(t.t1,t.t7),t.abrupt("break",27);case 16:return t.t8=uni,t.t9=u.default.UPLOAD_URL+e,t.next=20,s(r);case 20:return t.t10=t.sent,t.t11={output:"json2"},t.t12=function(t){uni.showToast({title:"上传成功"}),uni.hideLoading(),n(null===t||void 0===t?void 0:t.data)},t.t13=function(t){console.log(t),uni.showToast({title:"上传失败",icon:"error"}),uni.hideLoading()},t.t14={url:t.t9,name:"file",filePath:t.t10,formData:t.t11,success:t.t12,fail:t.t13},t.t8.uploadFile.call(t.t8,t.t14),t.abrupt("break",27);case 27:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}())}}};var s=function(t){switch(f()){case 1:break;case 2:return new Promise((function(e,r){new c.default(t,{quality:.6,convertSize:!1,success:function(t){var r=new File([t],t.name,{type:t.type});e(r)},error:function(t){r("图片压缩失败")}})}));case 3:return new Promise((function(e,r){uni.compressImage({src:t.path,quality:30,success:function(t){e(t.tempFilePath)}})}))}};e.compressPictures=s},7658:function(t,e,r){"use strict";var n=r("8bdb"),i=r("85c1"),o=r("bb80"),a=r("8466"),u=r("81a9"),c=r("d0b1"),f=r("5075"),s=r("b720"),l=r("474f"),h=r("1eb8"),d=r("1c06"),p=r("af9e"),v=r("29ba"),b=r("181d"),y=r("dcda");t.exports=function(t,e,r){var g=-1!==t.indexOf("Map"),m=-1!==t.indexOf("Weak"),w=g?"set":"add",x=i[t],O=x&&x.prototype,j=x,E={},L=function(t){var e=o(O[t]);u(O,t,"add"===t?function(t){return e(this,0===t?0:t),this}:"delete"===t?function(t){return!(m&&!d(t))&&e(this,0===t?0:t)}:"get"===t?function(t){return m&&!d(t)?void 0:e(this,0===t?0:t)}:"has"===t?function(t){return!(m&&!d(t))&&e(this,0===t?0:t)}:function(t,r){return e(this,0===t?0:t,r),this})},k=a(t,!l(x)||!(m||O.forEach&&!p((function(){(new x).entries().next()}))));if(k)j=r.getConstructor(e,t,g,w),c.enable();else if(a(t,!0)){var P=new j,T=P[w](m?{}:-0,1)!==P,A=p((function(){P.has(1)})),U=v((function(t){new x(t)})),B=!m&&p((function(){var t=new x,e=5;while(e--)t[w](e,e);return!t.has(-0)}));U||(j=e((function(t,e){s(t,O);var r=y(new x,t,j);return h(e)||f(e,r[w],{that:r,AS_ENTRIES:g}),r})),j.prototype=O,O.constructor=j),(A||B)&&(L("delete"),L("has"),g&&L("get")),(B||T)&&L(w),m&&O.clear&&delete O.clear}return E[t]=j,n({global:!0,constructor:!0,forced:j!==x},E),b(j,t),m||r.setStrong(j,t,g),j}},b3e2:function(t,e,r){"use strict";var n,i=r("c238"),o=r("85c1"),a=r("bb80"),u=r("a74c"),c=r("d0b1"),f=r("7658"),s=r("d871c"),l=r("1c06"),h=r("235c").enforce,d=r("af9e"),p=r("a20b"),v=Object,b=Array.isArray,y=v.isExtensible,g=v.isFrozen,m=v.isSealed,w=v.freeze,x=v.seal,O=!o.ActiveXObject&&"ActiveXObject"in o,j=function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},E=f("WeakMap",j,s),L=E.prototype,k=a(L.set);if(p)if(O){n=s.getConstructor(j,"WeakMap",!0),c.enable();var P=a(L["delete"]),T=a(L.has),A=a(L.get);u(L,{delete:function(t){if(l(t)&&!y(t)){var e=h(this);return e.frozen||(e.frozen=new n),P(this,t)||e.frozen["delete"](t)}return P(this,t)},has:function(t){if(l(t)&&!y(t)){var e=h(this);return e.frozen||(e.frozen=new n),T(this,t)||e.frozen.has(t)}return T(this,t)},get:function(t){if(l(t)&&!y(t)){var e=h(this);return e.frozen||(e.frozen=new n),T(this,t)?A(this,t):e.frozen.get(t)}return A(this,t)},set:function(t,e){if(l(t)&&!y(t)){var r=h(this);r.frozen||(r.frozen=new n),T(this,t)?k(this,t,e):r.frozen.set(t,e)}else k(this,t,e);return this}})}else(function(){return i&&d((function(){var t=w([]);return k(new E,t,1),!g(t)}))})()&&u(L,{set:function(t,e){var r;return b(t)&&(g(t)?r=w:m(t)&&(r=x)),k(this,t,e),r&&r(t),this}})},c238:function(t,e,r){"use strict";var n=r("af9e");t.exports=!n((function(){return Object.isExtensible(Object.preventExtensions({}))}))},d0af:function(t,e,r){"use strict";r("b3e2")},d0b1:function(t,e,r){"use strict";var n=r("8bdb"),i=r("bb80"),o=r("11bf"),a=r("1c06"),u=r("338c"),c=r("d6b1").f,f=r("80bb"),s=r("8449"),l=r("1ea2"),h=r("d7b4"),d=r("c238"),p=!1,v=h("meta"),b=0,y=function(t){c(t,v,{value:{objectID:"O"+b++,weakData:{}}})},g=t.exports={enable:function(){g.enable=function(){},p=!0;var t=f.f,e=i([].splice),r={};r[v]=1,t(r).length&&(f.f=function(r){for(var n=t(r),i=0,o=n.length;i<o;i++)if(n[i]===v){e(n,i,1);break}return n},n({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:s.f}))},fastKey:function(t,e){if(!a(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!u(t,v)){if(!l(t))return"F";if(!e)return"E";y(t)}return t[v].objectID},getWeakData:function(t,e){if(!u(t,v)){if(!l(t))return!0;if(!e)return!1;y(t)}return t[v].weakData},onFreeze:function(t){return d&&p&&l(t)&&!u(t,v)&&y(t),t}};o[v]=!0},d871c:function(t,e,r){"use strict";var n=r("bb80"),i=r("a74c"),o=r("d0b1").getWeakData,a=r("b720"),u=r("e7e3"),c=r("1eb8"),f=r("1c06"),s=r("5075"),l=r("4d16"),h=r("338c"),d=r("235c"),p=d.set,v=d.getterFor,b=l.find,y=l.findIndex,g=n([].splice),m=0,w=function(t){return t.frozen||(t.frozen=new x)},x=function(){this.entries=[]},O=function(t,e){return b(t.entries,(function(t){return t[0]===e}))};x.prototype={get:function(t){var e=O(this,t);if(e)return e[1]},has:function(t){return!!O(this,t)},set:function(t,e){var r=O(this,t);r?r[1]=e:this.entries.push([t,e])},delete:function(t){var e=y(this.entries,(function(e){return e[0]===t}));return~e&&g(this.entries,e,1),!!~e}},t.exports={getConstructor:function(t,e,r,n){var l=t((function(t,i){a(t,d),p(t,{type:e,id:m++,frozen:void 0}),c(i)||s(i,t[n],{that:t,AS_ENTRIES:r})})),d=l.prototype,b=v(e),y=function(t,e,r){var n=b(t),i=o(u(e),!0);return!0===i?w(n).set(e,r):i[n.id]=r,t};return i(d,{delete:function(t){var e=b(this);if(!f(t))return!1;var r=o(t);return!0===r?w(e)["delete"](t):r&&h(r,e.id)&&delete r[e.id]},has:function(t){var e=b(this);if(!f(t))return!1;var r=o(t);return!0===r?w(e).has(t):r&&h(r,e.id)}}),i(d,r?{get:function(t){var e=b(this);if(f(t)){var r=o(t);return!0===r?w(e).get(t):r?r[e.id]:void 0}},set:function(t,e){return y(this,t,e)}}:{add:function(t){return y(this,t,!0)}}),l}}},e270:function(t,e,r){var n,i,o=r("bdbb").default;r("4085"),r("dc8a"),r("01a2"),r("8f71"),r("bf0f"),r("9a2c"),r("aa9c"),r("2797"),r("a644"),r("a03a"),r("6a54"),r("7a76"),r("c9b5"),r("9e15"),r("884b"),r("e39c"),r("64aa"),r("4db2"),r("c976"),r("4d8f"),r("7b97"),r("668a"),r("c5b7"),r("8ff5"),r("2378"),r("641a"),r("64e0"),r("cce3"),r("efba"),r("d009"),r("bd7d"),r("7edd"),r("d798"),r("f547"),r("5e54"),r("b60a"),r("8c18"),r("12973"),r("f991"),r("198e"),r("8557"),r("63b1"),r("1954"),r("1cf1"),r("15d1"),r("d5c6"),r("5a56"),r("f074"),r("80e3"),r("5c47"),r("2c10"),r("f7a5"),r("08eb"),r("18f7"),r("0506"),r("c223"),r("473f"),r("5ef2"),r("a1c1"),
/*!
 * Compressor.js v1.2.1
 * https://fengyuanchen.github.io/compressorjs
 *
 * Copyright 2018-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2023-02-28T14:09:41.732Z
 */
function(a,u){"object"===o(e)&&"undefined"!==typeof t?t.exports=u():(n=u,i="function"===typeof n?n.call(e,r,e,t):n,void 0===i||(t.exports=i))}(0,(function(){"use strict";function t(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function e(e){for(var r=1;r<arguments.length;r++){var i=null!=arguments[r]?arguments[r]:{};r%2?t(Object(i),!0).forEach((function(t){n(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):t(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function r(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,a(n.key),n)}}function n(t,e,r){return e=a(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function i(){return i=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},i.apply(this,arguments)}function a(t){var e=function(t,e){if("object"!==o(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===o(e)?e:String(e)}var u={exports:{}};(function(t){"undefined"!==typeof window&&function(e){var r=e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype,n=e.Blob&&function(){try{return Boolean(new Blob)}catch(t){return!1}}(),i=n&&e.Uint8Array&&function(){try{return 100===new Blob([new Uint8Array(100)]).size}catch(t){return!1}}(),o=e.BlobBuilder||e.WebKitBlobBuilder||e.MozBlobBuilder||e.MSBlobBuilder,a=/^data:((.*?)(;charset=.*?)?)(;base64)?,/,u=(n||o)&&e.atob&&e.ArrayBuffer&&e.Uint8Array&&function(t){var e,r,u,c,f,s,l,h,d;if(e=t.match(a),!e)throw new Error("invalid data URI");for(r=e[2]?e[1]:"text/plain"+(e[3]||";charset=US-ASCII"),u=!!e[4],c=t.slice(e[0].length),f=u?atob(c):decodeURIComponent(c),s=new ArrayBuffer(f.length),l=new Uint8Array(s),h=0;h<f.length;h+=1)l[h]=f.charCodeAt(h);return n?new Blob([i?l:s],{type:r}):(d=new o,d.append(s),d.getBlob(r))};e.HTMLCanvasElement&&!r.toBlob&&(r.mozGetAsFile?r.toBlob=function(t,e,n){var i=this;setTimeout((function(){n&&r.toDataURL&&u?t(u(i.toDataURL(e,n))):t(i.mozGetAsFile("blob",e))}))}:r.toDataURL&&u&&(r.msToBlob?r.toBlob=function(t,e,n){var i=this;setTimeout((function(){(e&&"image/png"!==e||n)&&r.toDataURL&&u?t(u(i.toDataURL(e,n))):t(i.msToBlob(e))}))}:r.toBlob=function(t,e,r){var n=this;setTimeout((function(){t(u(n.toDataURL(e,r)))}))})),t.exports?t.exports=u:e.dataURLtoBlob=u}(window)})(u);var c=u.exports,f={strict:!0,checkOrientation:!0,retainExif:!1,maxWidth:1/0,maxHeight:1/0,minWidth:0,minHeight:0,width:void 0,height:void 0,resize:"none",quality:.8,mimeType:"auto",convertTypes:["image/png"],convertSize:5e6,beforeDraw:null,drew:null,success:null,error:null},s="undefined"!==typeof window&&"undefined"!==typeof window.document,l=s?window:{},h=function(t){return t>0&&t<1/0},d=Array.prototype.slice;function p(t){return Array.from?Array.from(t):d.call(t)}var v=/^image\/.+$/;function b(t){return v.test(t)}var y=String.fromCharCode;var g=l.btoa;function m(t,e){var r=[],n=new Uint8Array(t);while(n.length>0)r.push(y.apply(null,p(n.subarray(0,8192)))),n=n.subarray(8192);return"data:".concat(e,";base64,").concat(g(r.join("")))}function w(t){var e,r=new DataView(t);try{var n,i,o;if(255===r.getUint8(0)&&216===r.getUint8(1)){var a=r.byteLength,u=2;while(u+1<a){if(255===r.getUint8(u)&&225===r.getUint8(u+1)){i=u;break}u+=1}}if(i){var c=i+4,f=i+10;if("Exif"===function(t,e,r){var n,i="";for(r+=e,n=e;n<r;n+=1)i+=y(t.getUint8(n));return i}(r,c,4)){var s=r.getUint16(f);if(n=18761===s,(n||19789===s)&&42===r.getUint16(f+2,n)){var l=r.getUint32(f+4,n);l>=8&&(o=f+l)}}}if(o){var h,d,p=r.getUint16(o,n);for(d=0;d<p;d+=1)if(h=o+12*d+2,274===r.getUint16(h,n)){h+=8,e=r.getUint16(h,n),r.setUint16(h,1,n);break}}}catch(v){e=1}return e}var x=/\.\d*(?:0|9){12}\d*$/;function O(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e11;return x.test(t)?Math.round(t*e)/e:t}function j(t){var e=t.aspectRatio,r=t.height,n=t.width,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",o=h(n),a=h(r);if(o&&a){var u=r*e;("contain"===i||"none"===i)&&u>n||"cover"===i&&u<n?r=n/e:n=r*e}else o?r=n/e:a&&(n=r*e);return{width:n,height:r}}var E=l.ArrayBuffer,L=l.FileReader,k=l.URL||l.webkitURL,P=/\.\w+$/,T=l.Compressor,A=function(){function t(r,n){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.file=r,this.exif=[],this.image=new Image,this.options=e(e({},f),n),this.aborted=!1,this.result=null,this.init()}return function(t,e,n){e&&r(t.prototype,e),n&&r(t,n),Object.defineProperty(t,"prototype",{writable:!1})}(t,[{key:"init",value:function(){var t=this,e=this.file,r=this.options;if(function(t){return"undefined"!==typeof Blob&&(t instanceof Blob||"[object Blob]"===Object.prototype.toString.call(t))}(e)){var n=e.type;if(b(n))if(k&&L){E||(r.checkOrientation=!1,r.retainExif=!1);var o="image/jpeg"===n,a=o&&r.checkOrientation,u=o&&r.retainExif;if(!k||a||u){var c=new L;this.reader=c,c.onload=function(r){var o=r.target,c=o.result,f={},s=1;a&&(s=w(c),s>1&&i(f,function(t){var e=0,r=1,n=1;switch(t){case 2:r=-1;break;case 3:e=-180;break;case 4:n=-1;break;case 5:e=90,n=-1;break;case 6:e=90;break;case 7:e=90,r=-1;break;case 8:e=-90;break}return{rotate:e,scaleX:r,scaleY:n}}(s))),u&&(t.exif=function(t){var e=p(new Uint8Array(t)),r=e.length,n=[],i=0;while(i+3<r){var o=e[i],a=e[i+1];if(255===o&&218===a)break;if(255===o&&216===a)i+=2;else{var u=256*e[i+2]+e[i+3],c=i+u+2,f=e.slice(i,c);n.push(f),i=c}}return n.reduce((function(t,e){return 255===e[0]&&225===e[1]?t.concat(e):t}),[])}(c)),f.url=a||u?!k||s>1?m(c,n):k.createObjectURL(e):c,t.load(f)},c.onabort=function(){t.fail(new Error("Aborted to read the image with FileReader."))},c.onerror=function(){t.fail(new Error("Failed to read the image with FileReader."))},c.onloadend=function(){t.reader=null},a||u?c.readAsArrayBuffer(e):c.readAsDataURL(e)}else this.load({url:k.createObjectURL(e)})}else this.fail(new Error("The current browser does not support image compression."));else this.fail(new Error("The first argument must be an image File or Blob object."))}else this.fail(new Error("The first argument must be a File or Blob object."))}},{key:"load",value:function(t){var r=this,n=this.file,i=this.image;i.onload=function(){r.draw(e(e({},t),{},{naturalWidth:i.naturalWidth,naturalHeight:i.naturalHeight}))},i.onabort=function(){r.fail(new Error("Aborted to load the image."))},i.onerror=function(){r.fail(new Error("Failed to load the image."))},l.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(l.navigator.userAgent)&&(i.crossOrigin="anonymous"),i.alt=n.name,i.src=t.url}},{key:"draw",value:function(t){var e=this,r=t.naturalWidth,n=t.naturalHeight,i=t.rotate,o=void 0===i?0:i,a=t.scaleX,u=void 0===a?1:a,f=t.scaleY,s=void 0===f?1:f,l=this.file,d=this.image,v=this.options,y=document.createElement("canvas"),g=y.getContext("2d"),w=Math.abs(o)%180===90,x=("contain"===v.resize||"cover"===v.resize)&&h(v.width)&&h(v.height),E=Math.max(v.maxWidth,0)||1/0,k=Math.max(v.maxHeight,0)||1/0,P=Math.max(v.minWidth,0)||0,T=Math.max(v.minHeight,0)||0,A=r/n,U=v.width,B=v.height;if(w){var R=[k,E];E=R[0],k=R[1];var D=[T,P];P=D[0],T=D[1];var _=[B,U];U=_[0],B=_[1]}x&&(A=U/B);var z=j({aspectRatio:A,width:E,height:k},"contain");E=z.width,k=z.height;var M=j({aspectRatio:A,width:P,height:T},"cover");if(P=M.width,T=M.height,x){var S=j({aspectRatio:A,width:U,height:B},v.resize);U=S.width,B=S.height}else{var F=j({aspectRatio:A,width:U,height:B}),I=F.width;U=void 0===I?r:I;var W=F.height;B=void 0===W?n:W}U=Math.floor(O(Math.min(Math.max(U,P),E))),B=Math.floor(O(Math.min(Math.max(B,T),k)));var C=-U/2,H=-B/2,N=U,G=B,q=[];if(x){var X,Y,K,$,J=j({aspectRatio:A,width:r,height:n},{contain:"cover",cover:"contain"}[v.resize]);K=J.width,$=J.height,X=(r-K)/2,Y=(n-$)/2,q.push(X,Y,K,$)}if(q.push(C,H,N,G),w){var V=[B,U];U=V[0],B=V[1]}y.width=U,y.height=B,b(v.mimeType)||(v.mimeType=l.type);var Q="transparent";l.size>v.convertSize&&v.convertTypes.indexOf(v.mimeType)>=0&&(v.mimeType="image/jpeg");var Z="image/jpeg"===v.mimeType;if(Z&&(Q="#fff"),g.fillStyle=Q,g.fillRect(0,0,U,B),v.beforeDraw&&v.beforeDraw.call(this,g,y),!this.aborted&&(g.save(),g.translate(U/2,B/2),g.rotate(o*Math.PI/180),g.scale(u,s),g.drawImage.apply(g,[d].concat(q)),g.restore(),v.drew&&v.drew.call(this,g,y),!this.aborted)){var tt=function(t){if(!e.aborted){var i=function(t){return e.done({naturalWidth:r,naturalHeight:n,result:t})};if(t&&Z&&v.retainExif&&e.exif&&e.exif.length>0){var o=function(t){return i(c(m(function(t,e){var r=p(new Uint8Array(t));if(255!==r[2]||224!==r[3])return t;var n=256*r[4]+r[5],i=[255,216].concat(e,r.slice(4+n));return new Uint8Array(i)}(t,e.exif),v.mimeType)))};if(t.arrayBuffer)t.arrayBuffer().then(o).catch((function(){e.fail(new Error("Failed to read the compressed image with Blob.arrayBuffer()."))}));else{var a=new L;e.reader=a,a.onload=function(t){var e=t.target;o(e.result)},a.onabort=function(){e.fail(new Error("Aborted to read the compressed image with FileReader."))},a.onerror=function(){e.fail(new Error("Failed to read the compressed image with FileReader."))},a.onloadend=function(){e.reader=null},a.readAsArrayBuffer(t)}}else i(t)}};y.toBlob?y.toBlob(tt,v.mimeType,v.quality):tt(c(y.toDataURL(v.mimeType,v.quality)))}}},{key:"done",value:function(t){var e=t.naturalWidth,r=t.naturalHeight,n=t.result,i=this.file,o=this.image,a=this.options;if(k&&0===o.src.indexOf("blob:")&&k.revokeObjectURL(o.src),n)if(a.strict&&!a.retainExif&&n.size>i.size&&a.mimeType===i.type&&!(a.width>e||a.height>r||a.minWidth>e||a.minHeight>r||a.maxWidth<e||a.maxHeight<r))n=i;else{var u=new Date;n.lastModified=u.getTime(),n.lastModifiedDate=u,n.name=i.name,n.name&&n.type!==i.type&&(n.name=n.name.replace(P,function(t){var e=b(t)?t.substr(6):"";return"jpeg"===e&&(e="jpg"),".".concat(e)}(n.type)))}else n=i;this.result=n,a.success&&a.success.call(this,n)}},{key:"fail",value:function(t){var e=this.options;if(!e.error)throw t;e.error.call(this,t)}},{key:"abort",value:function(){this.aborted||(this.aborted=!0,this.reader?this.reader.abort():this.image.complete?this.fail(new Error("The compression process has been aborted.")):(this.image.onload=null,this.image.onabort()))}}],[{key:"noConflict",value:function(){return window.Compressor=T,t}},{key:"setDefaults",value:function(t){i(f,t)}}]),t}();return A}))}}]);