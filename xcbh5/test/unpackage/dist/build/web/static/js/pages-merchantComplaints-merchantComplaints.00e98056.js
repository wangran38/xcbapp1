(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-merchantComplaints-merchantComplaints"],{"206f":function(a,e,t){"use strict";t.r(e);var r=t("f03f"),i=t.n(r);for(var n in r)["default"].indexOf(n)<0&&function(a){t.d(e,a,(function(){return r[a]}))}(n);e["default"]=i.a},"30f7":function(a,e,t){"use strict";t("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t("7a76"),t("c9b5")},"369a":function(a,e,t){var r=t("be27");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[a.i,r,""]]),r.locals&&(a.exports=r.locals);var i=t("967d").default;i("d6ffac1a",r,!0,{sourceMap:!1,shadowMode:!1})},4733:function(a,e,t){"use strict";t("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(a){if(Array.isArray(a))return(0,r.default)(a)};var r=function(a){return a&&a.__esModule?a:{default:a}}(t("8d0b"))},"692d":function(a,e,t){"use strict";var r=t("369a"),i=t.n(r);i.a},"789c":function(a,e,t){"use strict";t("6a54");var r=t("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.myMixin=void 0;var i=r(t("2634")),n=r(t("2fdc"));t("fd3c"),t("8f71"),t("bf0f"),t("c223"),t("e966");var d={methods:{getNowDate:function(){return this.initDate(Date.now())},getChineseTimeDiff:function(a,e){var t=Math.abs(a-e),r=t,i=[{value:864e5,name:"天"},{value:36e5,name:"小时"}].map((function(a){var e=Math.floor(r/a.value);return r%=a.value,{val:e,name:a.name}})),n=i.filter((function(a){return a.val>0})).map((function(a){return"".concat(a.val).concat(a.name)})).join("");return n||"0秒"},customizeBack:function(){return(0,n.default)((0,i.default)().mark((function a(){var e;return(0,i.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,getCurrentPages();case 2:e=a.sent,e&&e.length>1?uni.navigateBack():history.back();case 4:case"end":return a.stop()}}),a)})))()},initTime:function(a){var e=new Date(a).getTime(),t=10===String(e).length?new Date(1e3*parseInt(e)):new Date(parseInt(e)),r=t.getFullYear(),i=t.getMonth()+1;i<10&&(i="0"+i);var n=t.getDate();n<10&&(n="0"+n);var d=t.getHours();d<10&&(d="0"+d);var o=t.getMinutes();o<10&&(o="0"+o);var s=t.getSeconds();s<10&&(s="0"+s);var l=r+"-"+i+"-"+n+" "+d+":"+o+":"+s;return l},initDate:function(a){var e=new Date(a).getTime(),t=10===String(e).length?new Date(1e3*parseInt(e)):new Date(parseInt(e)),r=t.getFullYear(),i=t.getMonth()+1;i<10&&(i="0"+i);var n=t.getDate();n<10&&(n="0"+n);var d=t.getHours();d<10&&(d="0"+d);var o=t.getMinutes();o<10&&(o="0"+o);var s=t.getSeconds();s<10&&(s="0"+s);var l=r+"-"+i+"-"+n;return l}}};e.myMixin=d},a80e:function(a,e,t){"use strict";t.r(e);var r=t("ed40"),i=t("206f");for(var n in i)["default"].indexOf(n)<0&&function(a){t.d(e,a,(function(){return i[a]}))}(n);t("692d");var d=t("828b"),o=Object(d["a"])(i["default"],r["b"],r["c"],!1,null,"2d414774",null,!1,r["a"],void 0);e["default"]=o.exports},b7c7:function(a,e,t){"use strict";t("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(a){return(0,r.default)(a)||(0,i.default)(a)||(0,n.default)(a)||(0,d.default)()};var r=o(t("4733")),i=o(t("d14d")),n=o(t("5d6b")),d=o(t("30f7"));function o(a){return a&&a.__esModule?a:{default:a}}},be27:function(a,e,t){var r=t("c86c");e=r(!1),e.push([a.i,"@charset \"UTF-8\";\r\n/* 水平间距 */\r\n/* 水平间距 */\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */\r\n/**\r\n * author: Di (微信小程序开发工程师)\r\n * organization: WeAppDev(微信小程序开发论坛)(http://weappdev.com)\r\n *         垂直微信小程序开发交流社区\r\n *\r\n * github地址: https://github.com/icindy/wxParse\r\n *\r\n * for: 微信小程序富文本解析\r\n * detail : http://weappdev.com/t/wxparse-alpha0-1-html-markdown/184\r\n */\r\n/**\r\n * 请在全局下引入该文件，@import '/static/wxParse.css';\r\n */.wxParse[data-v-2d414774]{-webkit-user-select:none;user-select:none;width:100%;font-family:Helvetica,PingFangSC,Microsoft Yahei,微软雅黑,Arial,sans-serif;color:#333;line-height:1.5;font-size:1em;text-align:justify\r\n  /* //左右两端对齐 */}.wxParse uni-view[data-v-2d414774], .wxParse uni-view[data-v-2d414774]{word-break:break-word}.wxParse .p[data-v-2d414774]{padding-bottom:.5em;clear:both\r\n  /* letter-spacing: 0;//字间距 */}.wxParse .inline[data-v-2d414774]{display:inline;margin:0;padding:0}.wxParse .div[data-v-2d414774]{margin:0;padding:0;display:block}.wxParse .h1[data-v-2d414774]{font-size:2em;line-height:1.2em;margin:.67em 0}.wxParse .h2[data-v-2d414774]{font-size:1.5em;margin:.83em 0}.wxParse .h3[data-v-2d414774]{font-size:1.17em;margin:1em 0}.wxParse .h4[data-v-2d414774]{margin:1.33em 0}.wxParse .h5[data-v-2d414774]{font-size:.83em;margin:1.67em 0}.wxParse .h6[data-v-2d414774]{font-size:.83em;margin:1.67em 0}.wxParse .h1[data-v-2d414774],\r\n.wxParse .h2[data-v-2d414774],\r\n.wxParse .h3[data-v-2d414774],\r\n.wxParse .h4[data-v-2d414774],\r\n.wxParse .h5[data-v-2d414774],\r\n.wxParse .h6[data-v-2d414774],\r\n.wxParse .b[data-v-2d414774],\r\n.wxParse .strong[data-v-2d414774]{font-weight:bolder}.wxParse .i[data-v-2d414774],\r\n.wxParse .cite[data-v-2d414774],\r\n.wxParse .em[data-v-2d414774],\r\n.wxParse .var[data-v-2d414774],\r\n.wxParse .address[data-v-2d414774]{font-style:italic}.wxParse .spaceshow[data-v-2d414774]{white-space:pre}.wxParse .pre[data-v-2d414774],\r\n.wxParse .tt[data-v-2d414774],\r\n.wxParse .code[data-v-2d414774],\r\n.wxParse .kbd[data-v-2d414774],\r\n.wxParse .samp[data-v-2d414774]{font-family:monospace}.wxParse .pre[data-v-2d414774]{overflow:auto;background:#f5f5f5;padding:%?16?%;white-space:pre;margin:1em %?0?%;font-size:%?24?%}.wxParse .code[data-v-2d414774]{overflow:auto;padding:%?16?%;white-space:pre;margin:1em %?0?%;background:#f5f5f5;font-size:%?24?%}.wxParse .big[data-v-2d414774]{font-size:1.17em}.wxParse .small[data-v-2d414774],\r\n.wxParse .sub[data-v-2d414774],\r\n.wxParse .sup[data-v-2d414774]{font-size:.83em}.wxParse .sub[data-v-2d414774]{vertical-align:sub}.wxParse .sup[data-v-2d414774]{vertical-align:super}.wxParse .s[data-v-2d414774],\r\n.wxParse .strike[data-v-2d414774],\r\n.wxParse .del[data-v-2d414774]{text-decoration:line-through}.wxParse .strong[data-v-2d414774],\r\n.wxParse .text[data-v-2d414774],\r\n.wxParse .span[data-v-2d414774],\r\n.wxParse .s[data-v-2d414774]{display:inline}.wxParse .a[data-v-2d414774]{color:#00bfff}.wxParse .video[data-v-2d414774]{text-align:center;margin:%?22?% 0}.wxParse .video-video[data-v-2d414774]{width:100%}.wxParse .uni-image[data-v-2d414774]{height:100px!important;width:100px!important}.wxParse .img[data-v-2d414774]{height:%?600?%!important;display:block;height:%?100?%;margin-bottom:0;\r\n  /* //与p标签底部padding同时修改 */overflow:hidden}.wxParse .blockquote[data-v-2d414774]{margin:%?10?% 0;padding:%?22?% 0 %?22?% %?22?%;font-family:Courier,Calibri,宋体;background:#f5f5f5;border-left:%?6?% solid #dbdbdb}.wxParse .blockquote .p[data-v-2d414774]{margin:0}.wxParse .ul[data-v-2d414774], .wxParse .ol[data-v-2d414774]{display:block;margin:1em 0;padding-left:2em}.wxParse .ol[data-v-2d414774]{list-style-type:disc}.wxParse .ol[data-v-2d414774]{list-style-type:decimal}.wxParse .ol > weixin-parse-template[data-v-2d414774], .wxParse .ul > weixin-parse-template[data-v-2d414774]{display:list-item;align-items:baseline;text-align:match-parent}.wxParse .ol > .li[data-v-2d414774], .wxParse .ul > .li[data-v-2d414774]{display:list-item;align-items:baseline;text-align:match-parent}.wxParse .ul .ul[data-v-2d414774], .wxParse .ol .ul[data-v-2d414774]{list-style-type:circle}.wxParse .ol .ol .ul[data-v-2d414774], .wxParse .ol .ul .ul[data-v-2d414774], .wxParse .ul .ol .ul[data-v-2d414774], .wxParse .ul .ul .ul[data-v-2d414774]{list-style-type:square}.wxParse .u[data-v-2d414774]{text-decoration:underline}.wxParse .hide[data-v-2d414774]{display:none}.wxParse .del[data-v-2d414774]{display:inline}.wxParse .figure[data-v-2d414774]{overflow:hidden}.wxParse .tablebox[data-v-2d414774]{overflow:auto;background-color:#f5f5f5;background:#f5f5f5;font-size:13px;padding:8px}.wxParse .table .table[data-v-2d414774], .wxParse .table[data-v-2d414774]{border-collapse:collapse;box-sizing:border-box;\r\n  /* 内边框 */\r\n  /* width: 100%; */overflow:auto;white-space:pre}.wxParse .tbody[data-v-2d414774]{border-collapse:collapse;box-sizing:border-box;\r\n  /* 内边框 */border:1px solid #dadada}.wxParse .table .thead[data-v-2d414774], .wxParse .table .tfoot[data-v-2d414774], .wxParse .table .th[data-v-2d414774]{border-collapse:collapse;box-sizing:border-box;background:#ececec;font-weight:40}.wxParse .table .tr[data-v-2d414774]{border-collapse:collapse;box-sizing:border-box;\r\n  /* border: 2px solid #F0AD4E; */overflow:auto}.wxParse .table .th[data-v-2d414774],\r\n.wxParse .table .td[data-v-2d414774]{border-collapse:collapse;box-sizing:border-box;border:%?2?% solid #dadada;overflow:auto}.wxParse .audio[data-v-2d414774], .wxParse .uni-audio-default[data-v-2d414774]{display:block}.complaint-container[data-v-2d414774]{background:linear-gradient(180deg,#f8fff9,#fff);min-height:100vh;padding:%?40?% %?30?%}.complaint-header[data-v-2d414774]{margin-bottom:%?48?%}.complaint-header .title[data-v-2d414774]{display:block;font-size:%?44?%;font-weight:600;color:#2c3e50;margin-bottom:%?16?%}.complaint-header .subtitle[data-v-2d414774]{font-size:%?26?%;color:#7a9d7e}.complaint-form[data-v-2d414774]{background:#fff;border-radius:%?24?%;padding:%?32?%;box-shadow:0 %?8?% %?24?% rgba(122,157,126,.08)}.form-item[data-v-2d414774]{margin-bottom:%?48?%}.form-item .item-label[data-v-2d414774]{display:block;font-size:%?30?%;color:#34495e;margin-bottom:%?24?%}.form-item .item-label .required[data-v-2d414774]{color:#ff5a5f;margin-left:%?8?%}.type-grid[data-v-2d414774]{display:grid;grid-template-columns:repeat(2,1fr);gap:%?24?%}.type-grid .type-item[data-v-2d414774]{background:#f8fff9;border:%?2?% solid #e8f5e9;border-radius:%?16?%;padding:%?32?%;display:flex;flex-direction:column;align-items:center;transition:all .3s}.type-grid .type-item.active[data-v-2d414774]{border-color:#7a9d7e;background:rgba(122,157,126,.1)}.type-grid .type-item.active uni-icons[data-v-2d414774]{color:#7a9d7e}.type-grid .type-item uni-icons[data-v-2d414774]{color:#95a5a6;margin-bottom:%?16?%}.type-grid .type-item uni-text[data-v-2d414774]{font-size:%?28?%;color:#2c3e50}.content-input[data-v-2d414774]{width:100%;height:%?240?%;padding:%?24?%;background:#f8f9fa;border-radius:%?16?%;font-size:%?28?%;line-height:1.6}.word-counter[data-v-2d414774]{text-align:right;font-size:%?24?%;color:#95a5a6;margin-top:%?16?%}.upload-area .upload-card[data-v-2d414774]{background:#f8fff9;border:%?2?% dashed #7a9d7e;border-radius:%?16?%;padding:%?48?% 0;display:flex;flex-direction:column;align-items:center}.upload-area .upload-card .upload-tip[data-v-2d414774]{color:#7a9d7e;font-size:%?28?%;margin-top:%?16?%}.upload-area .upload-card .upload-subtip[data-v-2d414774]{color:#bdc3c7;font-size:%?24?%;margin-top:%?8?%}.preview-grid[data-v-2d414774]{display:grid;grid-template-columns:repeat(3,1fr);gap:%?20?%;margin-top:%?24?%}.preview-grid .preview-item[data-v-2d414774]{position:relative;border-radius:%?12?%;overflow:hidden}.preview-grid .preview-item .preview-image[data-v-2d414774]{width:100%;height:%?200?%}.preview-grid .preview-item .delete-icon[data-v-2d414774]{position:absolute;right:%?8?%;top:%?8?%;background:#fff;color:#000;border-radius:50%;padding:%?4?%}.phone-input[data-v-2d414774]{display:flex;align-items:center;background:#f8f9fa;border-radius:%?16?%;padding:%?24?%}.phone-input uni-icons[data-v-2d414774]{margin-right:%?16?%}.phone-input uni-input[data-v-2d414774]{flex:1;font-size:%?28?%}.submit-area[data-v-2d414774]{margin-top:%?64?%}.submit-area .submit-btn[data-v-2d414774]{background:#007aff;color:#fff;height:%?96?%;border-radius:%?64?%;font-size:%?32?%;transition:opacity .3s}.submit-area .agreement-tip[data-v-2d414774]{display:block;text-align:center;color:#7a9d7e;font-size:%?24?%;margin-top:%?24?%}",""]),a.exports=e},d14d:function(a,e,t){"use strict";t("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(a){if("undefined"!==typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)},t("01a2"),t("e39c"),t("bf0f"),t("844d"),t("18f7"),t("de6c"),t("08eb")},ed40:function(a,e,t){"use strict";t.d(e,"b",(function(){return i})),t.d(e,"c",(function(){return n})),t.d(e,"a",(function(){return r}));var r={uniIcons:t("a7f4").default},i=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("v-uni-view",{staticClass:"complaint-container"},[t("v-uni-view",{staticClass:"complaint-header"},[t("v-uni-text",{staticClass:"title"},[a._v("提交投诉")]),t("v-uni-text",{staticClass:"subtitle"},[a._v("请补充投诉“"+a._s(a.query.title)+"”的具体依据")])],1),t("v-uni-view",{staticClass:"complaint-form"},[t("v-uni-view",{staticClass:"form-item"},[t("v-uni-text",{staticClass:"item-label"},[a._v("投诉标题"),t("v-uni-text",{staticClass:"required"},[a._v("*")])],1),t("v-uni-input",{staticStyle:{"background-color":"#F8F9FA",padding:"30rpx","font-size":"28rpx"},attrs:{placeholder:"请简述一下您遇到的问题"},model:{value:a.formData.title,callback:function(e){a.$set(a.formData,"title",e)},expression:"formData.title"}})],1),t("v-uni-view",{staticClass:"form-item"},[t("v-uni-text",{staticClass:"item-label"},[a._v("投诉描述"),t("v-uni-text",{staticClass:"required"},[a._v("*")])],1),t("v-uni-textarea",{staticClass:"content-input",attrs:{placeholder:"请详细描述遇到的问题（建议包含时间、地点、具体经过）",maxlength:"500"},model:{value:a.formData.content,callback:function(e){a.$set(a.formData,"content",e)},expression:"formData.content"}}),t("v-uni-view",{staticClass:"word-counter"},[a._v(a._s(a.formData.content.length)+"/500")])],1),t("v-uni-view",{staticClass:"form-item"},[t("v-uni-text",{staticClass:"item-label"},[a._v("上传凭证")]),t("v-uni-view",{staticClass:"upload-area"},[t("v-uni-view",{staticClass:"upload-card",on:{click:function(e){arguments[0]=e=a.$handleEvent(e),a.selectImage.apply(void 0,arguments)}}},[t("uni-icons",{attrs:{type:"plusempty",size:"36",color:"#7A9D7E"}}),t("v-uni-text",{staticClass:"upload-tip"},[a._v("请选择上传图片")]),t("v-uni-text",{staticClass:"upload-subtip"},[a._v("最多6张图片")])],1),a.fileList.length>0?t("v-uni-view",{staticClass:"preview-grid"},a._l(a.fileList,(function(e,r){return t("v-uni-view",{key:r,staticClass:"preview-item"},[t("v-uni-image",{staticClass:"preview-image",attrs:{src:e.data.url,mode:"aspectFill"}}),t("uni-icons",{staticClass:"delete-icon",attrs:{type:"close",size:"18"},on:{click:function(e){arguments[0]=e=a.$handleEvent(e),a.removeFile(r)}}})],1)})),1):a._e()],1)],1),t("v-uni-view",{staticClass:"form-item"},[t("v-uni-text",{staticClass:"item-label"},[a._v("联系电话"),t("v-uni-text",{staticClass:"required"},[a._v("*")])],1),t("v-uni-view",{staticClass:"phone-input"},[t("uni-icons",{attrs:{type:"phone",size:"20",color:"#7A9D7E"}}),t("v-uni-input",{attrs:{type:"number",placeholder:"请输入您的手机号码",maxlength:"11"},model:{value:a.formData.phone,callback:function(e){a.$set(a.formData,"phone",e)},expression:"formData.phone"}})],1)],1)],1),t("v-uni-view",{staticClass:"submit-area"},[t("v-uni-button",{staticClass:"submit-btn",on:{click:function(e){arguments[0]=e=a.$handleEvent(e),a.handleSubmit.apply(void 0,arguments)}}},[a._v("立即提交")]),t("v-uni-text",{staticClass:"agreement-tip"},[a._v("提交之后工作人员将在两个小时之后联系您，请保持通话正常")])],1)],1)},n=[]},f03f:function(a,e,t){"use strict";t("6a54");var r=t("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(t("2634")),n=r(t("b7c7")),d=r(t("2fdc"));t("bf0f"),t("fd3c"),t("18f7"),t("de6c"),t("c223"),t("dd2b"),t("e966");var o=t("4860"),s=(t("64af"),t("789c")),l={mixins:[s.myMixin],data:function(){return{formData:{title:"",content:"",phone:""},fileList:[],query:null}},computed:{},onLoad:function(a){console.log(a),this.query=a},methods:{saveImage:function(a){return new Promise((function(e,t){uni.uploadFile({url:"https://image.xcbdsc.com/group1/upload",name:"file",filePath:a,formData:{output:"json2"},success:function(a){e(JSON.parse(a.data))},fail:function(a){t(a),uni.showToast({title:"上传失败",icon:"error"})}})}))},selectImage:function(){var a=this;return(0,d.default)((0,i.default)().mark((function e(){return(0,i.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:uni.chooseMedia({count:6,mediaType:"mix",sourceType:["album","camera"],maxDuration:30,camera:"back",success:function(e){var t=e.tempFiles.map((function(e){return a.saveImage(e.tempFilePath)}));Promise.all(t).then((function(e){a.fileList=[].concat((0,n.default)(a.fileList),(0,n.default)(e))}))}});case 1:case"end":return e.stop()}}),e)})))()},removeFile:function(a){this.fileList.splice(a,1)},handleSubmit:function(){var a=this;return(0,d.default)((0,i.default)().mark((function e(){var t;return(0,i.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:a.formData.shop_id=parseInt(a.query.id),t=a.fileList.map((function(a){return a.data.url})),a.formData.complaint_img=t.join(","),uni.showToast({icon:"loading",title:"正在提交"}),o.api.submitComplaint(a.formData).then((function(e){200==e.code?(uni.showToast({icon:"success",title:"投诉成功"}),setTimeout((function(){a.customizeBack()}),2e3)):uni.showToast({icon:"error",title:e.msg})}));case 5:case"end":return e.stop()}}),e)})))()}}};e.default=l}}]);