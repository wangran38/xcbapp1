(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-MyPoints-records-MyPoints-records"],{"009c":function(t,e,a){"use strict";a.r(e);var n=a("c881"),i=a("fa5b");for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);a("d4b3");var o=a("f0c5"),c=Object(o["a"])(i["default"],n["b"],n["c"],!1,null,"357eec88",null,!1,n["a"],void 0);e["default"]=c.exports},"0e82":function(t,e,a){"use strict";a("7a82");var n=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(a("c7eb")),r=n(a("1da1")),o=n(a("5530")),c=n(a("3835"));a("c1f9"),a("4de4"),a("d3b7"),a("4fad"),a("d9e2"),a("d401"),a("99af");var s={data:function(){return{page:1,limit:8,totalnum:0,pageData:[],pageLoading:!1,hasMore:!0,searchParams:{}}},computed:{queryParams:function(){var t=Object.fromEntries(Object.entries(this.searchParams).filter((function(t){var e=(0,c.default)(t,2),a=(e[0],e[1]);return""!==a})));return(0,o.default)({page:this.page,limit:this.limit},t)}},methods:{loadPageData:function(){var t=this;return(0,r.default)((0,i.default)().mark((function e(){var a;return(0,i.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.hasMore&&!t.pageLoading){e.next=2;break}return e.abrupt("return");case 2:return t.pageLoading=!0,e.prev=3,e.next=6,t.fetchData(t.queryParams);case 6:a=e.sent,t.querySuccess(a),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](3),t.handleFetchError(e.t0);case 13:return e.prev=13,t.pageLoading=!1,e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[3,10,13,16]])})))()},fetchData:function(t){return(0,r.default)((0,i.default)().mark((function t(){return(0,i.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:throw new Error("fetchData 方法未实现");case 1:case"end":return t.stop()}}),t)})))()},querySuccess:function(t){null!==t&&void 0!==t&&t.listdata&&(this.pageData=1===this.page?t.listdata:this.pageData.concat(t.listdata),this.totalnum=t.totalnum||0,this.hasMore=this.pageData.length<this.totalnum)},handleScrollToLower:function(){!this.pageLoading&&this.hasMore&&(this.page+=1,this.loadPageData())},handleFetchError:function(t){console.error("Error loading data:",t)},resetPagination:function(){this.page=1,this.pageData=[],this.totalnum=0,this.hasMore=!0},reloadData:function(){this.resetPagination(),this.loadPageData()}}};e.default=s},"4fad":function(t,e,a){var n=a("23e7"),i=a("6f53").entries;n({target:"Object",stat:!0},{entries:function(t){return i(t)}})},"9daf":function(t,e,a){var n=a("a6a3");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=a("4f06").default;i("46753ed0",n,!0,{sourceMap:!1,shadowMode:!1})},a6a3:function(t,e,a){var n=a("24fb");e=n(!1),e.push([t.i,".me-container[data-v-357eec88]{width:100%;box-sizing:border-box;padding:%?0?% %?25?% 0 %?25?%;color:#fff;z-index:1;background-color:#f8f8f8;display:flex;flex-direction:column;justify-content:center}.title[data-v-357eec88]{font-size:%?35?%;color:#000;text-align:center;margin-top:%?50?%}.records[data-v-357eec88]{width:100%;height:%?50?%;margin-top:%?30?%;color:#000;\n\t/* background-color: aqua; */display:flex}.market[data-v-357eec88]{width:33%;height:100%;\n\t/* background-color: bisque; */text-align:center}\n\n/* .phone {\n\twidth: 35%;\n\theight: 100%;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n} */.usejifen[data-v-357eec88]{flex:1;height:100%;\n\t/* background-color: aqua; */display:flex;flex-direction:column;justify-content:center;align-items:center}.time[data-v-357eec88]{width:33%;height:100%;\n\t/* background-color: bisque; */text-align:center}.record-item[data-v-357eec88]{width:100%;color:#000;\n\t/* background-color: #D3D3D3; */display:flex;margin-top:%?10?%;margin-bottom:%?10?%;justify-content:space-between;border-bottom:1px solid #ccc}.record-item .market[data-v-357eec88]{\n\t/* width: 33%; */flex:1;height:%?120?%;line-height:%?120?%;text-align:center;overflow:hidden;\n\t/* 隐藏超出的内容 */white-space:nowrap;\n\t/* 强制不换行 */text-overflow:ellipsis\n\t/* 显示省略号 */}\n\n/* .record-item .phone {\n    width: 30%; \n\theight: 120rpx;\n\tline-height: 120rpx;\n\toverflow: hidden; \n\twhite-space: nowrap; \n\ttext-overflow: ellipsis; \n} */.record-item .time[data-v-357eec88]{\n\t/* width: 33%; */flex:1;height:%?120?%;line-height:%?120?%;text-align:center;font-size:%?22?%;overflow:hidden;\n\t/* 隐藏超出的内容 */white-space:nowrap;\n\t/* 强制不换行 */text-overflow:ellipsis\n\t/* 显示省略号 */}.record-item .usejifen[data-v-357eec88]{flex:1;\n\t/* 占据剩余空间 */height:%?120?%;line-height:%?120?%;font-size:%?25?%\n\t/* background-color: red; */}.judgment[data-v-357eec88]{height:50%;display:flex;justify-content:center;align-items:center\n\t/* background-color: #007aff; */}\n\n/* 动态设置的颜色样式 */.green-text[data-v-357eec88]{color:green}.red-text[data-v-357eec88]{color:red}.balance[data-v-357eec88]{height:50%;display:flex;justify-content:center;align-items:center\n\t/* background-color: aqua; */}.lottery[data-v-357eec88]{position:fixed;left:50%;bottom:%?50?%;width:90%;height:%?120?%;color:#fff;background-color:#007aff;-webkit-transform:translateX(-50%);transform:translateX(-50%);border-radius:%?20?%;text-align:center;line-height:%?120?%;font-size:%?35?%}.loading[data-v-357eec88]{text-align:center;padding:%?20?%;color:#999}",""]),t.exports=e},c1f9:function(t,e,a){var n=a("23e7"),i=a("2266"),r=a("8418");n({target:"Object",stat:!0},{fromEntries:function(t){var e={};return i(t,(function(t,a){r(e,t,a)}),{AS_ENTRIES:!0}),e}})},c881:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return i})),a.d(e,"a",(function(){}));var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"me-container"},[a("v-uni-view",{staticClass:"title"},[t._v("积分记录")]),a("v-uni-view",{staticClass:"records"},[a("v-uni-view",{staticClass:"market"},[t._v("积分标题")]),a("v-uni-view",{staticClass:"usejifen"},[t._v("使用记录")]),a("v-uni-view",{staticClass:"time"},[t._v("时间")])],1),a("v-uni-scroll-view",{staticClass:"Stallholder",style:{height:"calc(90vh - 200rpx)"},attrs:{"scroll-y":"true"},on:{scrolltolower:function(e){arguments[0]=e=t.$handleEvent(e),t.handleScrollToLower.apply(void 0,arguments)}}},[t._l(t.pageData,(function(e){return a("v-uni-view",{key:e.id,staticClass:"record-item"},[a("v-uni-view",{staticClass:"market"},[t._v(t._s(e.memo))]),a("v-uni-view",{staticClass:"usejifen"},[a("v-uni-view",{staticClass:"judgment",class:1===e.isadd?"green-text":"red-text"},[t._v(t._s(1===e.isadd?"+":"")+"\n\t\t\t\t\t"+t._s(1===e.isadd?e.after-e.before:e.before-e.after))])],1),a("v-uni-view",{staticClass:"time"},[t._v(t._s(t.formatDate(e.Created)))])],1)})),t.pageLoading?a("v-uni-view",{staticClass:"loading"},[t._v("加载中...")]):t._e(),t.hasMore?t._e():a("v-uni-view",{staticClass:"loading"},[t._v("没有更多了")])],2),a("v-uni-view",{staticClass:"lottery",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.gotojackpot.apply(void 0,arguments)}}},[t._v("免费抽奖")])],1)},i=[]},d4b3:function(t,e,a){"use strict";var n=a("9daf"),i=a.n(n);i.a},e645:function(t,e,a){"use strict";a("7a82");var n=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("ac1f"),a("5319");var i=n(a("c7eb")),r=n(a("1da1")),o=a("6c0c"),c=n(a("0e82")),s={data:function(){return{pageData:[]}},onShow:function(){this.reloadData()},mixins:[c.default],methods:{fetchData:function(t){return(0,r.default)((0,i.default)().mark((function e(){var a;return(0,i.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,o.api.scorelist(t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})))()},formatPhoneNumber:function(t){return t?t.replace(/(\d{3})\d{4}(\d{4})/,"$1****$2"):""},formatDate:function(t){return t.replace(/T/," ").replace(/(\+\d{2}:\d{2})/,"")},gotojackpot:function(){uni.navigateTo({url:"/pages/jackpot/jackpot"})}}};e.default=s},fa5b:function(t,e,a){"use strict";a.r(e);var n=a("e645"),i=a.n(n);for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);e["default"]=i.a}}]);