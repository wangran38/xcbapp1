(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-Clock-Clock"],{"2f1d":function(e,t,n){var o=n("24fb");t=o(!1),t.push([e.i,".me-container[data-v-c460b236]{height:100vh;width:100%;box-sizing:border-box;color:#fff;z-index:1;display:flex;flex-direction:column;justify-content:flex-start}.content[data-v-c460b236]{height:100%;width:90%;margin:auto auto;display:flex;flex-direction:column;justify-content:center;align-items:center}.state[data-v-c460b236]{font-size:%?60?%;margin-bottom:%?100?%;color:#000}.clock[data-v-c460b236]{height:5%;width:50%;font-size:%?50?%;border:1px solid #007aff;background-color:#007aff;border-radius:%?20?%;display:flex;justify-content:center;align-items:center}",""]),e.exports=t},3599:function(e,t,n){"use strict";var o=n("9eb5"),i=n.n(o);i.a},"3b0e":function(e,t,n){"use strict";n.r(t);var o=n("bbc9"),i=n("41bb");for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);n("3599");var c=n("f0c5"),s=Object(c["a"])(i["default"],o["b"],o["c"],!1,null,"c460b236",null,!1,o["a"],void 0);t["default"]=s.exports},"41bb":function(e,t,n){"use strict";n.r(t);var o=n("4fa0"),i=n.n(o);for(var a in o)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(a);t["default"]=i.a},"4fa0":function(e,t,n){"use strict";n("7a82");var o=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n("c7eb")),a=o(n("1da1")),c=n("6c0c"),s={data:function(){return{isSignedIn:!1,timestamp:"",time:""}},onLoad:function(e){e.time&&(this.time=e.time),this.signIn()},methods:{signIn:function(e){var t=this;return(0,a.default)((0,i.default)().mark((function n(){var o,a,s,r,u,l,f,d,g;return(0,i.default)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(n.prev=0,o=uni.getStorageSync("token"),o){n.next=5;break}return uni.showModal({title:"提示",content:"请登录后再打卡",showCancel:!1,success:function(){uni.navigateTo({url:"/pages/login/login"})}}),n.abrupt("return");case 5:if(a=Math.floor(Date.now()/1e3),s=new Date,r=s.toDateString(),u=new Date(1e3*t.time).toDateString(),r===u){n.next=12;break}return uni.showModal({title:"提示",content:"不能打卡未来日期！",showCancel:!1}),n.abrupt("return");case 12:if(!(t.time<a)){n.next=15;break}return uni.showModal({title:"提示",content:"无法对过去的时间打卡！",showCancel:!1}),n.abrupt("return");case 15:return l=Math.floor(new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate(),5,0,0).getTime()/1e3),f=Math.floor(new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate(),12,0,0).getTime()/1e3),d=Math.floor(new Date(s.getFullYear(),s.getMonth(),s.getDate(),20,30,0).getTime()/1e3),console.log(a),console.log(l),console.log(f),console.log(t.time),n.next=24,c.api.sign(e);case 24:g=n.sent,console.log(g.code),200===g.code?(t.isSignedIn=!0,a>=l&&a<f||a>=f&&a<d?a<t.time&&uni.showModal({content:g.msg,icon:"success",success:function(){setTimeout((function(){uni.switchTab({url:"/pages/index/index"})}),1e3)}}):uni.showModal({title:"提示",content:g.msg||"打卡超时，请稍后重试",showCancel:!1})):201===g.code?(t.isSignedIn=!1,uni.showModal({title:"提示",content:g.msg||"你今日打卡已经超过限定次数",showCancel:!1,success:function(){setTimeout((function(){uni.switchTab({url:"/pages/index/index"})}),1e3)}})):uni.showModal({title:"提示",content:g.msg||"操作失败，请稍后重试",showCancel:!1}),n.next=33;break;case 29:n.prev=29,n.t0=n["catch"](0),console.error("请求打卡接口出错:",n.t0),uni.showModal({title:"提示",content:"打卡失败，请稍后重试。",showCancel:!1});case 33:case"end":return n.stop()}}),n,null,[[0,29]])})))()}}};t.default=s},"9eb5":function(e,t,n){var o=n("2f1d");o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var i=n("4f06").default;i("901d1678",o,!0,{sourceMap:!1,shadowMode:!1})},bbc9:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){}));var o=function(){var e=this.$createElement,t=this._self._c||e;return t("v-uni-view",{staticClass:"me-container"},[t("v-uni-view",{staticClass:"content"},[t("v-uni-view",{staticClass:"state"},[this._v(this._s(this.isSignedIn?"已打卡":"此次未打卡"))])],1)],1)},i=[]}}]);