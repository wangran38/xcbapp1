<view class="container data-v-505a595a"><view class="product-card data-v-505a595a"><text class="title data-v-505a595a">{{product.goodsname}}</text><view class="price-info data-v-505a595a"><text class="deposit data-v-505a595a">{{"单价：¥"+product.presaleprice}}</text></view></view><view class="form-item data-v-505a595a"><text class="label data-v-505a595a">购买数量</text><view class="number-selector data-v-505a595a"><button data-event-opts="{{[['tap',[['changeQuantity',[-1]]]]]}}" class="{{['btn','minus','data-v-505a595a',(quantity<=1)?'disabled':'']}}" bindtap="__e">-</button><input class="input data-v-505a595a" type="number" min="{{1}}" max="{{99}}" data-event-opts="{{[['input',[['handleInput',['$event']]]]]}}" value="{{quantity}}" bindinput="__e"/><button data-event-opts="{{[['tap',[['changeQuantity',[1]]]]]}}" class="{{['btn','plus','data-v-505a595a',(quantity>=99)?'disabled':'']}}" bindtap="__e">+</button><text style="font-size:35rpx;position:absolute;right:60rpx;" class="data-v-505a595a">{{product.unit}}</text></view></view><view class="form-item data-v-505a595a"><text class="label data-v-505a595a">选择提货点</text><scroll-view class="delivery-list data-v-505a595a" scroll-y="{{true}}"><block wx:if="{{product.pickaddress}}"><view data-event-opts="{{[['tap',[['selectPoint',['$0'],['product.id']]]]]}}" class="{{['delivery-item','data-v-505a595a',(selectedPoint===product.id)?'active':'']}}" bindtap="__e"><view class="point-info data-v-505a595a"><text class="name data-v-505a595a">{{product.pickaddress}}</text></view><view class="distance data-v-505a595a"><block wx:if="{{selectedPoint===product.id}}"><uni-icons vue-id="20d6d721-1" type="checkmarkempty" color="#07c160" size="20" class="data-v-505a595a" bind:__l="__l"></uni-icons></block></view></view></block><block wx:else><view style="font-weight:bold;color:gray;" class="data-v-505a595a">暂无取货点</view></block></scroll-view></view><view class="form-item data-v-505a595a"><text class="label data-v-505a595a">预售规则</text><view class="rules data-v-505a595a"><block wx:for="{{shortRules}}" wx:for-item="rule" wx:for-index="index" wx:key="index"><view class="rule-item data-v-505a595a">{{''+(index+1)+". "+rule+''}}</view></block></view></view><view class="footer data-v-505a595a"><view class="total data-v-505a595a"><text class="data-v-505a595a">应付定金：</text><text class="price data-v-505a595a">{{"¥"+totalDeposit}}</text></view><button data-event-opts="{{[['tap',[['handleSubmit',['$event']]]]]}}" class="{{['submit-btn','data-v-505a595a',(!formValid)?'disabled':'']}}" bindtap="__e">{{''+(formValid?'支付定金':'请完善信息')+''}}</button></view><uni-popup vue-id="20d6d721-2" type="bottom" data-ref="popup" class="data-v-505a595a vue-ref" bind:__l="__l" vue-slots="{{['default']}}"><view class="rules-popup data-v-505a595a"><view class="popup-header data-v-505a595a"><text class="data-v-505a595a">完整预售规则</text><uni-icons vue-id="{{('20d6d721-3')+','+('20d6d721-2')}}" type="close" size="24" data-event-opts="{{[['^click',[['e0']]]]}}" bind:click="__e" class="data-v-505a595a" bind:__l="__l"></uni-icons></view><scroll-view class="rules-content data-v-505a595a" scroll-y="{{true}}"><block wx:for="{{fullRules}}" wx:for-item="rule" wx:for-index="index" wx:key="index"><view class="rule-item data-v-505a595a">{{''+(index+1)+". "+rule+''}}</view></block></scroll-view></view></uni-popup></view>