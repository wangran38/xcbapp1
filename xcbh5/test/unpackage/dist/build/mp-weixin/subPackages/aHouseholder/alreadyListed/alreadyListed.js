(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["subPackages/aHouseholder/alreadyListed/alreadyListed"],{"0ba0":function(t,e,a){"use strict";(function(t){var i=a("47a9");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("7eb4")),s=i(a("af34")),r=i(a("ee10")),o=a("4860"),c={data:function(){return{activeCategory:1,categories:[{label:"自销",value:1},{label:"代提",value:2},{label:"批发",value:3}],dishes:[],scrollHeight:600,scrollLeft:0,loading:!0,queryData:{ispresale:2,page:1,limit:10,sellstatus:1},isNoMore:!1}},mounted:function(){this.loadData(),this.calcScrollHeight()},watch:{activeCategory:function(t,e){this.isNoMore=!1,this.dishes=[],this.queryData.sellstatus=t,this.queryData.page=1,this.loadData()}},methods:{initQueryData:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.queryData={page:1,limit:10,sellstatus:t},this.isNoMore=!1,this.dishes=[],console.log(this.queryData)},changePage:function(){this.queryData.page++,this.loadData()},loadData:function(){var t=this;return(0,r.default)(n.default.mark((function e(){var a;return n.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,t.isNoMore){e.next=6;break}return e.next=4,o.api.presaleList(t.queryData);case 4:a=e.sent,200==a.code&&(t.dishes=[].concat((0,s.default)(t.dishes),(0,s.default)(a.data.listdata)),t.isNoMore=a.data.listdata.length<=t.queryData.limit);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),console.error(e.t0);case 11:return e.prev=11,t.loading=!1,e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})))()},calcScrollHeight:function(){var e=this,a=t.getSystemInfoSync(),i=t.createSelectorQuery().in(this);i.select(".category-tabs").boundingClientRect(),i.exec((function(t){var i,n=(null===(i=t[0])||void 0===i?void 0:i.height)||60;e.scrollHeight=a.windowHeight-n-10}))},switchCategory:function(e,a){var i=this;this.activeCategory=e,this.$nextTick((function(){var e=t.createSelectorQuery().in(i);e.select(".tab-item:nth-child(".concat(a+1,")")).boundingClientRect(),e.exec((function(t){t[0]&&(i.scrollLeft=t[0].left-50)}))}))},handleOffShelf:function(e){var a=this;return(0,r.default)(n.default.mark((function i(){var s;return n.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,o.api.XiaShiCity({id:e,isshow:1,ispresale:1});case 3:s=i.sent,console.log(s),200==s.code?(t.showToast({title:"下架成功",icon:"success"}),a.initQueryData(a.activeCategory),a.loadData()):t.showToast({title:"下架失败",icon:"error"}),i.next=11;break;case 8:i.prev=8,i.t0=i["catch"](0),t.showToast({title:"操作失败",icon:"none"});case 11:case"end":return i.stop()}}),i,null,[[0,8]])})))()},handleImageError:function(t){t.image="/static/default-dish.png"},onRefresh:function(){this.loadData(),setTimeout((function(){t.stopPullDownRefresh()}),1e3)}}};e.default=c}).call(this,a("df3c")["default"])},"1c9b":function(t,e,a){},"40c6":function(t,e,a){"use strict";var i=a("1c9b"),n=a.n(i);n.a},4477:function(t,e,a){"use strict";a.r(e);var i=a("0ba0"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},"6f61":function(t,e,a){"use strict";(function(t,e){var i=a("47a9");a("89ee");i(a("3240"));var n=i(a("f319"));t.__webpack_require_UNI_MP_PLUGIN__=a,e(n.default)}).call(this,a("3223")["default"],a("df3c")["createPage"])},d5db:function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){}));var i=function(){var t=this.$createElement,e=(this._self._c,!this.loading&&0===this.dishes.length);this.$mp.data=Object.assign({},{$root:{g0:e}})},n=[]},f319:function(t,e,a){"use strict";a.r(e);var i=a("d5db"),n=a("4477");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("40c6");var r=a("828b"),o=Object(r["a"])(n["default"],i["b"],i["c"],!1,null,"f45bc8fe",null,!1,i["a"],void 0);e["default"]=o.exports}},[["6f61","common/runtime","common/vendor"]]]);