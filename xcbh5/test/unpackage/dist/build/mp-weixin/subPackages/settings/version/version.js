(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["subPackages/settings/version/version"],{"334c":function(t,n,e){"use strict";e.d(n,"b",(function(){return a})),e.d(n,"c",(function(){return o})),e.d(n,"a",(function(){}));var a=function(){var t=this.$createElement;this._self._c},o=[]},"4a63":function(t,n,e){"use strict";(function(t,e){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a={data:function(){return{latestVersion:"2.0.0",currentVersion:"1.0.0",downloadPercent:0,updating:!1,updateContent:["新增会员积分体系","优化商品搜索体验","修复支付页面闪退问题"],downloading:!1}},computed:{buttonLabel:function(){return this.updating?"更新中 ".concat(this.downloadPercent,"%"):"立即体验新版本"},progressPhrase:function(){return["正在连接更新服务器...","发现可用更新包","正在优化性能模块","校验文件完整性","准备就绪"][Math.min(Math.floor(this.downloadPercent/25),4)]},contentList:function(){return this.updateContent.filter(Boolean).map((function(t){return t.trim()}))},btnText:function(){return this.updating?100===this.downloadPercent?"安装中...":"下载中 ".concat(this.downloadPercent,"%"):"立即更新"}},mounted:function(){this.initUpdateManager()},methods:{initUpdateManager:function(){var n=this;if(t.canIUse("getUpdateManager")){var e=t.getUpdateManager();e.onCheckForUpdate((function(t){t.hasUpdate&&(n.showUpdatePage=!0,n.registerListeners(e))}))}},registerListeners:function(t){var n=this;t.onUpdateReady((function(){n.downloadPercent=100,n.applyUpdate(t)})),t.onUpdateFailed((function(){e.showToast({title:"更新失败",icon:"none",duration:2e3}),n.updating=!1})),this.simulateProgress()},handleUpdate:function(){this.updating=!0,this.simulateProgress(),t.showLoading({title:"准备更新",mask:!0}),100===this.downloadPercent&&this.applyUpdate(t.getUpdateManager())},applyUpdate:function(n){var a=this;e.showModal({title:"更新提示",content:"新版本已就绪，立即重启应用？",confirmText:"立即重启",success:function(t){t.confirm&&n.applyUpdate()},complete:function(){a.updating=!1,t.hideLoading()}})},simulateProgress:function(){var t=this,n=0,e=setInterval((function(){n<95?(n+=Math.floor(15*Math.random()+5),t.downloadPercent=Math.min(n,95)):clearInterval(e)}),1e3)}}};n.default=a}).call(this,e("3223")["default"],e("df3c")["default"])},5629:function(t,n,e){"use strict";var a=e("9b5e"),o=e.n(a);o.a},"982f":function(t,n,e){"use strict";e.r(n);var a=e("4a63"),o=e.n(a);for(var i in a)["default"].indexOf(i)<0&&function(t){e.d(n,t,(function(){return a[t]}))}(i);n["default"]=o.a},"9b5e":function(t,n,e){},d762:function(t,n,e){"use strict";(function(t,n){var a=e("47a9");e("89ee");a(e("3240"));var o=a(e("ed83"));t.__webpack_require_UNI_MP_PLUGIN__=e,n(o.default)}).call(this,e("3223")["default"],e("df3c")["createPage"])},ed83:function(t,n,e){"use strict";e.r(n);var a=e("334c"),o=e("982f");for(var i in o)["default"].indexOf(i)<0&&function(t){e.d(n,t,(function(){return o[t]}))}(i);e("5629");var r=e("828b"),u=Object(r["a"])(o["default"],a["b"],a["c"],!1,null,"3c91896a",null,!1,a["a"],void 0);n["default"]=u.exports}},[["d762","common/runtime","common/vendor"]]]);