(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["subPackages/Wholesale/purchase/purchase"],{"02ea":function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return r})),a.d(t,"a",(function(){return n}));var n={uniIcons:function(){return Promise.all([a.e("common/vendor"),a.e("uni_modules/uni-icons/components/uni-icons/uni-icons")]).then(a.bind(null,"a7f4"))}},i=function(){var e=this,t=e.$createElement,a=(e._self._c,e.__map(e.purchaseList,(function(t,a){var n=e.__get_orig(t),i=e.initDate(t.stoptime);return{$orig:n,m0:i}})));e.$mp.data=Object.assign({},{$root:{l0:a}})},r=[]},2322:function(e,t,a){"use strict";a.r(t);var n=a("02ea"),i=a("6155");for(var r in i)["default"].indexOf(r)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(r);a("e4d3");var o=a("828b"),u=Object(o["a"])(i["default"],n["b"],n["c"],!1,null,"6e8d2e28",null,!1,n["a"],void 0);t["default"]=u.exports},6155:function(e,t,a){"use strict";a.r(t);var n=a("7127"),i=a.n(n);for(var r in n)["default"].indexOf(r)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(r);t["default"]=i.a},7127:function(e,t,a){"use strict";(function(e){var n=a("47a9");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("7eb4")),r=n(a("af34")),o=n(a("ee10")),u=a("4860"),c=a("789c"),s={mixins:[c.myMixin],data:function(){return{distances:[{label:"离我最近",value:""},{label:"离我最远",value:""}],categories:[{label:"所有分类",value:""},{label:"菜类",value:""},{label:"肉类",value:""}],selectedCategoryIndex:0,purchaseList:[],page:1,loading:!1,noMore:!1,query:{area_id:null,stoptime:null,page:1,limit:20}}},created:function(){this.loadData()},methods:{loadData:function(){var e=this;return(0,o.default)(i.default.mark((function t(){var a;return i.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.loading&&!e.noMore){t.next=2;break}return t.abrupt("return");case 2:return e.loading=!0,t.prev=3,t.next=6,u.api.buyinfoList(e.query);case 6:a=t.sent,e.purchaseList=[].concat((0,r.default)(e.purchaseList),(0,r.default)(a.data.listdata)),console.log(e.purchaseList),e.page++,e.noMore=e.page>2;case 11:return t.prev=11,e.loading=!1,t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[3,,11,14]])})))()},generateDeadline:function(){var e=new Date;return e.setDate(e.getDate()+Math.floor(7*Math.random()+3)),"".concat(e.getMonth()+1,"月").concat(e.getDate(),"日")},categoryChange:function(e){this.selectedCategory=this.categories[e.detail.value],this.resetList()},sortChange:function(e){this.selectedSort=this.sortOptions[e.detail.value],this.resetList()},resetList:function(){this.page=1,this.purchaseList=[],this.noMore=!1,this.loadData()},viewDetail:function(t){e.navigateTo({url:"/pages/purchase/detail?id=".concat(t)})},contactSupplier:function(t){e.showActionSheet({items:["在线沟通","电话联系","邮件联系"],success:function(e){return console.log("联系方式:",e.tapIndex)}})}}};t.default=s}).call(this,a("df3c")["default"])},db19:function(e,t,a){"use strict";(function(e,t){var n=a("47a9");a("89ee");n(a("3240"));var i=n(a("2322"));e.__webpack_require_UNI_MP_PLUGIN__=a,t(i.default)}).call(this,a("3223")["default"],a("df3c")["createPage"])},e4d3:function(e,t,a){"use strict";var n=a("f7a9"),i=a.n(n);i.a},f7a9:function(e,t,a){}},[["db19","common/runtime","common/vendor"]]]);