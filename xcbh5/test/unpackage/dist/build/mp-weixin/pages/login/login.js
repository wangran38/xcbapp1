(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/login/login"],{"1f4f":function(n,t,e){},"69f1":function(n,t,e){"use strict";e.r(t);var o=e("f728"),r=e("d995");for(var i in r)["default"].indexOf(i)<0&&function(n){e.d(t,n,(function(){return r[n]}))}(i);e("8483");var a=e("828b"),u=Object(a["a"])(r["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],void 0);t["default"]=u.exports},7356:function(n,t,e){"use strict";(function(n){var o=e("47a9");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(e("7eb4")),i=o(e("ee10")),a=e("4860"),u={data:function(){return{form:{username:"",password:""},showPassword:!1,loading:!1}},computed:{formValid:function(){return/^1[3-9]\d{9}$/.test(this.form.username)&&this.form.password.length>=6}},methods:{togglePassword:function(){this.showPassword=!this.showPassword},login:function(){var t=this;return(0,i.default)(r.default.mark((function e(){var o,i,u;return r.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.api.login(t.form.username,t.form.password);case 3:o=e.sent,200===o.code?(i=o.data.token,n.setStorageSync("token",i),u=new Promise((function(e,o){"123456"==t.form.password?(n.showToast({icon:"error",title:"密码过于简单,请用户自行修改以确保账号安全",duration:1e3}),setTimeout((function(){e(200)}),2e3)):e(201)})),u.then((function(t){if(200!=t)return n.showToast({icon:"loading",title:"正在登录.....",duration:1e3}),t;n.showToast({icon:"loading",title:"正在登录.....",duration:2e3}),setTimeout((function(){return console.log(t,"正在登录"),t}),1500)})).then((function(t){setTimeout((function(){n.switchTab({url:"/pages/index/index"})}),1e3)}))):n.showToast({title:o.msg||o.message,icon:"none"}),e.next=11;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0),n.showToast({title:"登录失败",icon:"error"});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))()},gotoRegster:function(){n.navigateTo({url:"/pages/register/register"})},gotoUptdatePwd:function(){n.navigateTo({url:"/pages/updatePwd/updatePwd"})}}};t.default=u}).call(this,e("df3c")["default"])},8483:function(n,t,e){"use strict";var o=e("1f4f"),r=e.n(o);r.a},d995:function(n,t,e){"use strict";e.r(t);var o=e("7356"),r=e.n(o);for(var i in o)["default"].indexOf(i)<0&&function(n){e.d(t,n,(function(){return o[n]}))}(i);t["default"]=r.a},f2e0:function(n,t,e){"use strict";(function(n,t){var o=e("47a9");e("89ee");o(e("3240"));var r=o(e("69f1"));n.__webpack_require_UNI_MP_PLUGIN__=e,t(r.default)}).call(this,e("3223")["default"],e("df3c")["createPage"])},f728:function(n,t,e){"use strict";e.d(t,"b",(function(){return r})),e.d(t,"c",(function(){return i})),e.d(t,"a",(function(){return o}));var o={uniIcons:function(){return Promise.all([e.e("common/vendor"),e.e("uni_modules/uni-icons/components/uni-icons/uni-icons")]).then(e.bind(null,"a7f4"))}},r=function(){var n=this.$createElement;this._self._c},i=[]}},[["f2e0","common/runtime","common/vendor"]]]);