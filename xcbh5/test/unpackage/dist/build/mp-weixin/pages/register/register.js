(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/register/register"],{"2a44":function(r,o,n){"use strict";(function(r,o){var e=n("4ea4");n("88ba");e(n("66fd"));var t=e(n("4499"));r.__webpack_require_UNI_MP_PLUGIN__=n,o(t.default)}).call(this,n("bc2e")["default"],n("543d")["createPage"])},3697:function(r,o,n){},4499:function(r,o,n){"use strict";n.r(o);var e=n("7460"),t=n("622c");for(var a in t)["default"].indexOf(a)<0&&function(r){n.d(o,r,(function(){return t[r]}))}(a);n("d178");var s=n("f0c5"),i=Object(s["a"])(t["default"],e["b"],e["c"],!1,null,null,null,!1,e["a"],void 0);o["default"]=i.exports},"622c":function(r,o,n){"use strict";n.r(o);var e=n("fdc3"),t=n.n(e);for(var a in e)["default"].indexOf(a)<0&&function(r){n.d(o,r,(function(){return e[r]}))}(a);o["default"]=t.a},7460:function(r,o,n){"use strict";n.d(o,"b",(function(){return t})),n.d(o,"c",(function(){return a})),n.d(o,"a",(function(){return e}));var e={uniEasyinput:function(){return n.e("uni_modules/uni-easyinput/components/uni-easyinput/uni-easyinput").then(n.bind(null,"4882b"))}},t=function(){var r=this.$createElement,o=(this._self._c,!this.passwordValid&&this.form.password.length>0),n=!this.confirmPasswordValid&&this.form.confirm.length>0;this.$mp.data=Object.assign({},{$root:{g0:o,g1:n}})},a=[]},d178:function(r,o,n){"use strict";var e=n("3697"),t=n.n(e);t.a},fdc3:function(r,o,n){"use strict";(function(r){var e=n("4ea4");Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var t=e(n("2eee")),a=e(n("c973")),s=n("6c0c"),i={data:function(){return{form:{username:"",password:"",confirm:""},phoneError:"",passwordError:"",confirmPasswordError:"",passwordValid:!1,confirmPasswordValid:!1}},watch:{"form.username":"validatePhoneNumber","form.password":"validatePassword"},methods:{validatePhoneNumber:function(){/^1[3-9]\d{9}$/.test(this.form.username)?this.phoneError="":this.phoneError="请输入正确的11位手机号"},validatePassword:function(r){var o=this;this.$nextTick((function(){"password"===r?0===o.form.password.length?(o.passwordError="密码不能为空",o.passwordValid=!1):6!==o.form.password.length?(o.passwordError="密码必须6位",o.passwordValid=!1):(o.passwordError="密码格式正确",o.passwordValid=!0):"confirm"===r&&(0===o.form.confirm.length?(o.confirmPasswordError="密码不能为空",o.confirmPasswordValid=!1):6!==o.form.confirm.length?(o.confirmPasswordError="密码必须6位",o.confirmPasswordValid=!1):o.form.confirm!==o.form.password?(o.confirmPasswordError="两次密码输入不一致",o.confirmPasswordValid=!1):(o.confirmPasswordError="密码格式正确",o.confirmPasswordValid=!0))}))},register:function(){var o=this;return(0,a.default)(t.default.mark((function n(){var e,a;return t.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(""!==o.form.username){n.next=3;break}return r.showToast({title:"请输入手机号码",icon:"none"}),n.abrupt("return");case 3:if(""!==o.form.password){n.next=6;break}return r.showToast({title:"请输入密码",icon:"none"}),n.abrupt("return");case 6:if(6===o.form.password.length){n.next=9;break}return r.showToast({icon:"none",title:"密码必须为6位"}),n.abrupt("return");case 9:if(o.form.password===o.form.confirm){n.next=12;break}return r.showToast({icon:"none",title:"两次密码输入不一致"}),n.abrupt("return");case 12:if(!o.phoneError){n.next=15;break}return r.showToast({icon:"none",title:o.phoneError}),n.abrupt("return");case 15:return n.prev=15,n.next=18,s.api.register(o.form.username,o.form.password,o.form.confirm);case 18:e=n.sent,200===e.code?(a=e.data,r.setStorageSync("token",a),r.showToast({title:"注册成功",icon:"success",duration:2e3}),setTimeout((function(){r.navigateTo({url:"/pages/login/login"})}),2e3)):r.showToast({icon:"none",title:e.msg||"注册失败，请重试"}),n.next=26;break;case 22:n.prev=22,n.t0=n["catch"](15),r.showToast({icon:"none",title:"网络错误，请稍后重试"}),console.error("Registration Error:",n.t0);case 26:case"end":return n.stop()}}),n,null,[[15,22]])})))()}}};o.default=i}).call(this,n("543d")["default"])}},[["2a44","common/runtime","common/vendor"]]]);