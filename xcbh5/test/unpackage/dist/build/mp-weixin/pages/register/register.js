(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/register/register"],{"0bf3":function(r,e,o){"use strict";o.r(e);var n=o("5ac8"),t=o("387d");for(var a in t)["default"].indexOf(a)<0&&function(r){o.d(e,r,(function(){return t[r]}))}(a);o("bbfe");var s=o("828b"),i=Object(s["a"])(t["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],void 0);e["default"]=i.exports},"387d":function(r,e,o){"use strict";o.r(e);var n=o("9890"),t=o.n(n);for(var a in n)["default"].indexOf(a)<0&&function(r){o.d(e,r,(function(){return n[r]}))}(a);e["default"]=t.a},"5ac8":function(r,e,o){"use strict";o.d(e,"b",(function(){return t})),o.d(e,"c",(function(){return a})),o.d(e,"a",(function(){return n}));var n={uniEasyinput:function(){return o.e("uni_modules/uni-easyinput/components/uni-easyinput/uni-easyinput").then(o.bind(null,"2b45"))}},t=function(){var r=this.$createElement,e=(this._self._c,!this.passwordValid&&this.form.password.length>0),o=!this.confirmPasswordValid&&this.form.confirm.length>0;this.$mp.data=Object.assign({},{$root:{g0:e,g1:o}})},a=[]},9042:function(r,e,o){},9890:function(r,e,o){"use strict";(function(r){var n=o("47a9");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=n(o("7eb4")),a=n(o("ee10")),s=o("4860"),i={data:function(){return{form:{username:"",password:"",confirm:""},phoneError:"",passwordError:"",confirmPasswordError:"",passwordValid:!1,confirmPasswordValid:!1,agreeServiceAgreement:!0,agreePrivacyPolicy:!0}},watch:{"form.username":"validatePhoneNumber","form.password":"validatePassword"},methods:{validatePhoneNumber:function(){/^1[3-9]\d{9}$/.test(this.form.username)?this.phoneError="":this.phoneError="请输入正确的11位手机号"},validatePassword:function(r){var e=this;this.$nextTick((function(){"password"===r?0===e.form.password.length?(e.passwordError="密码不能为空",e.passwordValid=!1):6!==e.form.password.length?(e.passwordError="密码必须6位",e.passwordValid=!1):(e.passwordError="密码格式正确",e.passwordValid=!0):"confirm"===r&&(0===e.form.confirm.length?(e.confirmPasswordError="密码不能为空",e.confirmPasswordValid=!1):6!==e.form.confirm.length?(e.confirmPasswordError="密码必须6位",e.confirmPasswordValid=!1):e.form.confirm!==e.form.password?(e.confirmPasswordError="两次密码输入不一致",e.confirmPasswordValid=!1):(e.confirmPasswordError="密码格式正确",e.confirmPasswordValid=!0))}))},checkBox:function(r){switch(r){case 0:this.agreeServiceAgreement=!this.agreeServiceAgreement;break;case 1:this.agreePrivacyPolicy=!this.agreePrivacyPolicy;break}},register:function(){var e=this;return(0,a.default)(t.default.mark((function o(){var n,a;return t.default.wrap((function(o){while(1)switch(o.prev=o.next){case 0:if(""!==e.form.username){o.next=3;break}return r.showToast({title:"请输入手机号码",icon:"none"}),o.abrupt("return");case 3:if(""!==e.form.password){o.next=6;break}return r.showToast({title:"请输入密码",icon:"none"}),o.abrupt("return");case 6:if(6===e.form.password.length){o.next=9;break}return r.showToast({icon:"none",title:"密码必须为6位"}),o.abrupt("return");case 9:if(e.form.password===e.form.confirm){o.next=12;break}return r.showToast({icon:"none",title:"两次密码输入不一致"}),o.abrupt("return");case 12:if(!e.phoneError){o.next=15;break}return r.showToast({icon:"none",title:e.phoneError}),o.abrupt("return");case 15:if(console.log(e.agreeServiceAgreement,e.agreePrivacyPolicy),e.agreeServiceAgreement&&e.agreePrivacyPolicy){o.next=19;break}return r.showToast({icon:"none",title:"请勾选服务协议和隐私协议"}),o.abrupt("return");case 19:return o.prev=19,o.next=22,s.api.register(e.form.username,e.form.password,e.form.confirm);case 22:n=o.sent,200===n.code?(a=n.data,r.setStorageSync("token",a),r.showToast({title:"注册成功",icon:"success",duration:2e3}),setTimeout((function(){r.navigateTo({url:"/pages/login/login"})}),2e3)):r.showToast({icon:"none",title:n.msg||"注册失败，请重试"}),o.next=30;break;case 26:o.prev=26,o.t0=o["catch"](19),r.showToast({icon:"none",title:"网络错误，请稍后重试"}),console.error("Registration Error:",o.t0);case 30:case"end":return o.stop()}}),o,null,[[19,26]])})))()}}};e.default=i}).call(this,o("df3c")["default"])},bbfe:function(r,e,o){"use strict";var n=o("9042"),t=o.n(n);t.a},bc6d:function(r,e,o){"use strict";(function(r,e){var n=o("47a9");o("89ee");n(o("3240"));var t=n(o("0bf3"));r.__webpack_require_UNI_MP_PLUGIN__=o,e(t.default)}).call(this,o("3223")["default"],o("df3c")["createPage"])}},[["bc6d","common/runtime","common/vendor"]]]);