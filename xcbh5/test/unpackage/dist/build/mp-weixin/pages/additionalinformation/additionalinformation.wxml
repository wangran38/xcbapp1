<view class="container data-v-0148a3f4"><view class="background-wave data-v-0148a3f4"></view><view class="product-selector data-v-0148a3f4"><uni-forms-item vue-id="ca125418-1" label="选择种植商品" label-width="80" label-align="right" class="data-v-0148a3f4" bind:__l="__l" vue-slots="{{['default']}}"><uni-data-select class="nature-select data-v-0148a3f4" vue-id="{{('ca125418-2')+','+('ca125418-1')}}" localdata="{{products}}" placeholder="请选择商品" value="{{selectedProduct}}" data-event-opts="{{[['^change',[['generateTimeline']]],['^input',[['__set_model',['','selectedProduct','$event',[]]]]]]}}" bind:change="__e" bind:input="__e" bind:__l="__l"></uni-data-select></uni-forms-item></view><scroll-view class="timeline-container data-v-0148a3f4" style="{{'visibility:'+($root.g0?'visible':'hidden')+';'}}" scroll-y="{{true}}"><block wx:for="{{timelineData}}" wx:for-item="day" wx:for-index="index" wx:key="index"><view class="timeline-item data-v-0148a3f4"><view class="timeline-marker data-v-0148a3f4"><view class="marker-icon data-v-0148a3f4"><uni-icons vue-id="{{'ca125418-3-'+index}}" type="calendar" size="28" color="#fff" class="data-v-0148a3f4" bind:__l="__l"></uni-icons></view><view class="timeline-connector data-v-0148a3f4"></view></view><view data-event-opts="{{[['tap',[['handleDayClick',[index]]]]]}}" class="nature-card data-v-0148a3f4" bindtap="__e"><view class="card-header data-v-0148a3f4"><text class="day-title data-v-0148a3f4">{{"第 "+day.day+" 天"}}</text><text class="date-label data-v-0148a3f4">{{day.date}}</text></view><view class="card-content data-v-0148a3f4"><block wx:if="{{day.image}}"><image class="content-image data-v-0148a3f4" src="{{day.image}}" mode="aspectFill"></image></block><text class="content-text data-v-0148a3f4">{{day.text||'点击记录生长情况'}}</text></view><view class="{{['status-tag','data-v-0148a3f4',day.status=='pending'?'pending':'completed']}}">{{''+(day.status==='completed'?'已完成':'待记录')+''}}</view></view></view></block></scroll-view><uni-popup vue-id="ca125418-4" type="bottom" data-ref="editPanel" class="data-v-0148a3f4 vue-ref" bind:__l="__l" vue-slots="{{['default']}}"><view class="edit-panel data-v-0148a3f4"><view class="panel-header data-v-0148a3f4"><text class="panel-title data-v-0148a3f4">{{currentDate+" 生长记录"}}</text></view><view class="panel-body data-v-0148a3f4"><button data-event-opts="{{[['tap',[['selectImage',['$event']]]]]}}" class="action-button data-v-0148a3f4" bindtap="__e"><uni-icons vue-id="{{('ca125418-5')+','+('ca125418-4')}}" type="camera" size="20" color="#fff" class="data-v-0148a3f4" bind:__l="__l"></uni-icons><text class="data-v-0148a3f4">上传照片</text></button><block wx:if="{{tempImage}}"><image class="image-preview data-v-0148a3f4" src="{{tempImage}}" mode="aspectFit"></image></block><textarea class="record-textarea data-v-0148a3f4" placeholder="请输入详细记录..." data-event-opts="{{[['input',[['__set_model',['','tempText','$event',[]]]]]]}}" value="{{tempText}}" bindinput="__e"></textarea><button data-event-opts="{{[['tap',[['saveContent',['$event']]]]]}}" class="confirm-button data-v-0148a3f4" bindtap="__e">保存记录</button></view></view></uni-popup><block wx:if="{{!$root.g1}}"><view class="empty-state data-v-0148a3f4"><image class="empty-icon data-v-0148a3f4" src="/static/leaf-icon.png"></image><text class="empty-text data-v-0148a3f4">请先选择种植商品</text></view></block></view>