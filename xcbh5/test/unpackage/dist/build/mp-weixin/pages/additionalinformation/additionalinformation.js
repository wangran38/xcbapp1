(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/additionalinformation/additionalinformation"],{"1b41":function(t,e,n){"use strict";(function(t){var a=n("47a9");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n("7eb4")),u=a(n("7ca3")),r=a(n("34cf")),o=a(n("ee10")),c=a(n("fc06")),s=n("4860");n("64af");function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){(0,u.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var f={data:function(){return{selectedProduct:null,products:[{value:1,text:"有机菠菜（7天周期）",days:7,endDate:"2024-03-25"},{value:2,text:"生态萝卜（14天周期）",days:14,endDate:"2024-04-01"},{value:3,text:"绿色生菜（21天周期）",days:21,endDate:"2024-04-10"}],timelineData:[],activeIndex:-1,tempImage:"",tempText:"",currentDate:"",formData:{page:1,limit:30}}},onLoad:function(){var t=this;return(0,o.default)(i.default.mark((function e(){var n,a;return i.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s.api.goodslist(t.formData);case 2:n=e.sent,200==n.code&&(a=n.data.listdata.map((function(t,e){var n=t.sellbegintime,a=t.sellendtime,i="".concat((0,c.default)(n).$y,"-").concat((0,c.default)(n).month()+1,"-").concat((0,c.default)(n).date()),u="".concat((0,c.default)(a).$y,"-").concat((0,c.default)(a).month()+1,"-").concat((0,c.default)(a).date()),r=(0,c.default)(i),o=(0,c.default)(u),s=o.diff(r,"day");return console.log(s),{value:e+1,text:t.goodsname,days:s,endDate:u}})),console.log(a),t.products=a);case 4:case"end":return e.stop()}}),e)})))()},methods:{generateTimeline:function(){var t=this;if(this.selectedProduct){var e=this.products.find((function(e){return e.value===t.selectedProduct}));this.timelineData=Array.from({length:e.days},(function(t,n){return{day:n+1,date:(0,c.default)(e.endDate).subtract(e.days-n-1,"day").format("MM/DD"),fullDate:(0,c.default)(e.endDate).subtract(e.days-n-1,"day").format("YYYY-MM-DD"),image:"",text:"",status:"pending"}}))}else this.timelineData=[]},handleDayClick:function(t){this.activeIndex=t,this.currentDate=this.timelineData[t].fullDate,this.tempImage=this.timelineData[t].image,this.tempText=this.timelineData[t].text,this.$refs.editPanel.open()},selectImage:function(){var e=this;return(0,o.default)(i.default.mark((function n(){var a,u,o;return i.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.chooseImage({count:1});case 2:a=n.sent,u=(0,r.default)(a,1),o=u[0],e.tempImage=o.tempFilePaths[0];case 6:case"end":return n.stop()}}),n)})))()},saveContent:function(){var t=d(d({},this.timelineData[this.activeIndex]),{},{image:this.tempImage,text:this.tempText,status:this.tempText?"completed":"pending"});this.$set(this.timelineData,this.activeIndex,t),this.closeEditor()},getStatusClass:function(t){return{completed:"completed"===t.status,pending:"pending"===t.status}},closeEditor:function(){this.$refs.editPanel.close(),this.tempImage="",this.tempText=""}}};e.default=f}).call(this,n("df3c")["default"])},"2b5b":function(t,e,n){"use strict";var a=n("8f593"),i=n.n(a);i.a},"56eb":function(t,e,n){"use strict";n.r(e);var a=n("1b41"),i=n.n(a);for(var u in a)["default"].indexOf(u)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(u);e["default"]=i.a},"703f":function(t,e,n){"use strict";(function(t,e){var a=n("47a9");n("89ee");a(n("3240"));var i=a(n("7562"));t.__webpack_require_UNI_MP_PLUGIN__=n,e(i.default)}).call(this,n("3223")["default"],n("df3c")["createPage"])},7562:function(t,e,n){"use strict";n.r(e);var a=n("802f"),i=n("56eb");for(var u in i)["default"].indexOf(u)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(u);n("2b5b");var r=n("828b"),o=Object(r["a"])(i["default"],a["b"],a["c"],!1,null,"0148a3f4",null,!1,a["a"],void 0);e["default"]=o.exports},"802f":function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return u})),n.d(e,"a",(function(){return a}));var a={uniFormsItem:function(){return n.e("uni_modules/uni-forms/components/uni-forms-item/uni-forms-item").then(n.bind(null,"a9ba"))},uniDataSelect:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uni-data-select/components/uni-data-select/uni-data-select")]).then(n.bind(null,"73e5"))},uniIcons:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uni-icons/components/uni-icons/uni-icons")]).then(n.bind(null,"a7f4"))},uniPopup:function(){return n.e("uni_modules/uni-popup/components/uni-popup/uni-popup").then(n.bind(null,"8858"))}},i=function(){var t=this.$createElement,e=(this._self._c,this.timelineData.length),n=this.timelineData.length;this.$mp.data=Object.assign({},{$root:{g0:e,g1:n}})},u=[]},"8f593":function(t,e,n){}},[["703f","common/runtime","common/vendor"]]]);