(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-billRecord-billRecord"],{"30f7":function(e,t,a){"use strict";a("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},a("7a76"),a("c9b5")},"30fb":function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return i})),a.d(t,"a",(function(){return r}));var r={uniIcons:a("a7f4").default,uniList:a("95ef").default,uniListItem:a("a200").default},n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"container"},[a("v-uni-view",{staticClass:"custom-navbar",style:e.navBarStyle},[a("v-uni-text",{staticClass:"nav-title"},[e._v("账单记录")])],1),a("v-uni-view",{staticClass:"filter-card"},[a("v-uni-view",{staticClass:"filter-group"},[a("v-uni-picker",{attrs:{mode:"selector",range:e.typeOptions},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.typeChange.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"filter-btn"},[a("uni-icons",{attrs:{type:"bars",size:"16",color:"#666"}}),a("v-uni-text",[e._v(e._s(e.typeOptions[e.typeIndex]))])],1)],1),a("v-uni-picker",{attrs:{mode:"date",fields:"month"},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.dateChange.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"filter-btn"},[a("uni-icons",{attrs:{type:"calendar",size:"16",color:"#666"}}),a("v-uni-text",[e._v(e._s(e.currentDate))])],1)],1)],1)],1),a("v-uni-view",{staticClass:"stats-card"},[a("v-uni-view",{staticClass:"stat-item income"},[a("v-uni-text",{staticClass:"stat-label"},[e._v("总收入")]),a("v-uni-text",{staticClass:"stat-value"},[e._v("+¥"+e._s(e.totalIncome))])],1),a("v-uni-view",{staticClass:"stat-item expense"},[a("v-uni-text",{staticClass:"stat-label"},[e._v("总支出")]),a("v-uni-text",{staticClass:"stat-value"},[e._v("-¥"+e._s(e.totalExpense))])],1)],1),a("v-uni-view",{staticClass:"list-container"},[e.filteredBills.length?a("uni-list",e._l(e.filteredBills,(function(t,r){return a("uni-list-item",{key:r,attrs:{title:t.category,note:e.formatDate(t.date),rightText:"income"===t.type?"+"+t.amount:"-"+t.amount,rightTextStyle:"income"===t.type?e.rightTextStyle.income:e.rightTextStyle.expense,"hover-class":"none"},on:{click:function(a){arguments[0]=a=e.$handleEvent(a),e.handleItemClick(t)}},scopedSlots:e._u([{key:"footer",fn:function(){return[a("v-uni-text",{staticClass:"remark"},[e._v(e._s(t.remark||"暂无备注"))])]},proxy:!0},{key:"header",fn:function(){return[a("uni-icons",{attrs:{type:"income"===t.type?"arrowthindown":"arrowthinup",color:"income"===t.type?e.themeColor.primary:e.themeColor.danger,size:"20"}})]},proxy:!0}],null,!0)})})),1):e._e(),a("v-uni-view",{staticClass:"loading-state"},[e.loading?a("v-uni-text",{staticClass:"loading-text"},[e._v("加载中...")]):e._e(),!e.hasMore&&e.filteredBills.length?a("v-uni-text",{staticClass:"no-more"},[e._v("已经到底啦\\~")]):e._e()],1),e.loading||e.filteredBills.length?e._e():a("v-uni-view",{staticClass:"empty-state"},[a("v-uni-text",{staticClass:"empty-text"},[e._v("本月还没有账单记录哦～")])],1)],1)],1)},i=[]},4733:function(e,t,a){"use strict";a("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(Array.isArray(e))return(0,r.default)(e)};var r=function(e){return e&&e.__esModule?e:{default:e}}(a("8d0b"))},4924:function(e,t,a){"use strict";var r=a("c103"),n=a.n(r);n.a},"615c":function(e,t,a){var r=a("c86c");t=r(!1),t.push([e.i,"@charset \"UTF-8\";\r\n/* 水平间距 */\r\n/* 水平间距 */\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */\r\n/**\r\n * author: Di (微信小程序开发工程师)\r\n * organization: WeAppDev(微信小程序开发论坛)(http://weappdev.com)\r\n *         垂直微信小程序开发交流社区\r\n *\r\n * github地址: https://github.com/icindy/wxParse\r\n *\r\n * for: 微信小程序富文本解析\r\n * detail : http://weappdev.com/t/wxparse-alpha0-1-html-markdown/184\r\n */\r\n/**\r\n * 请在全局下引入该文件，@import '/static/wxParse.css';\r\n */.wxParse[data-v-42343e10]{-webkit-user-select:none;user-select:none;width:100%;font-family:Helvetica,PingFangSC,Microsoft Yahei,微软雅黑,Arial,sans-serif;color:#333;line-height:1.5;font-size:1em;text-align:justify\r\n  /* //左右两端对齐 */}.wxParse uni-view[data-v-42343e10], .wxParse uni-view[data-v-42343e10]{word-break:break-word}.wxParse .p[data-v-42343e10]{padding-bottom:.5em;clear:both\r\n  /* letter-spacing: 0;//字间距 */}.wxParse .inline[data-v-42343e10]{display:inline;margin:0;padding:0}.wxParse .div[data-v-42343e10]{margin:0;padding:0;display:block}.wxParse .h1[data-v-42343e10]{font-size:2em;line-height:1.2em;margin:.67em 0}.wxParse .h2[data-v-42343e10]{font-size:1.5em;margin:.83em 0}.wxParse .h3[data-v-42343e10]{font-size:1.17em;margin:1em 0}.wxParse .h4[data-v-42343e10]{margin:1.33em 0}.wxParse .h5[data-v-42343e10]{font-size:.83em;margin:1.67em 0}.wxParse .h6[data-v-42343e10]{font-size:.83em;margin:1.67em 0}.wxParse .h1[data-v-42343e10],\r\n.wxParse .h2[data-v-42343e10],\r\n.wxParse .h3[data-v-42343e10],\r\n.wxParse .h4[data-v-42343e10],\r\n.wxParse .h5[data-v-42343e10],\r\n.wxParse .h6[data-v-42343e10],\r\n.wxParse .b[data-v-42343e10],\r\n.wxParse .strong[data-v-42343e10]{font-weight:bolder}.wxParse .i[data-v-42343e10],\r\n.wxParse .cite[data-v-42343e10],\r\n.wxParse .em[data-v-42343e10],\r\n.wxParse .var[data-v-42343e10],\r\n.wxParse .address[data-v-42343e10]{font-style:italic}.wxParse .spaceshow[data-v-42343e10]{white-space:pre}.wxParse .pre[data-v-42343e10],\r\n.wxParse .tt[data-v-42343e10],\r\n.wxParse .code[data-v-42343e10],\r\n.wxParse .kbd[data-v-42343e10],\r\n.wxParse .samp[data-v-42343e10]{font-family:monospace}.wxParse .pre[data-v-42343e10]{overflow:auto;background:#f5f5f5;padding:%?16?%;white-space:pre;margin:1em %?0?%;font-size:%?24?%}.wxParse .code[data-v-42343e10]{overflow:auto;padding:%?16?%;white-space:pre;margin:1em %?0?%;background:#f5f5f5;font-size:%?24?%}.wxParse .big[data-v-42343e10]{font-size:1.17em}.wxParse .small[data-v-42343e10],\r\n.wxParse .sub[data-v-42343e10],\r\n.wxParse .sup[data-v-42343e10]{font-size:.83em}.wxParse .sub[data-v-42343e10]{vertical-align:sub}.wxParse .sup[data-v-42343e10]{vertical-align:super}.wxParse .s[data-v-42343e10],\r\n.wxParse .strike[data-v-42343e10],\r\n.wxParse .del[data-v-42343e10]{text-decoration:line-through}.wxParse .strong[data-v-42343e10],\r\n.wxParse .text[data-v-42343e10],\r\n.wxParse .span[data-v-42343e10],\r\n.wxParse .s[data-v-42343e10]{display:inline}.wxParse .a[data-v-42343e10]{color:#00bfff}.wxParse .video[data-v-42343e10]{text-align:center;margin:%?22?% 0}.wxParse .video-video[data-v-42343e10]{width:100%}.wxParse .uni-image[data-v-42343e10]{height:100px!important;width:100px!important}.wxParse .img[data-v-42343e10]{height:%?600?%!important;display:block;height:%?100?%;margin-bottom:0;\r\n  /* //与p标签底部padding同时修改 */overflow:hidden}.wxParse .blockquote[data-v-42343e10]{margin:%?10?% 0;padding:%?22?% 0 %?22?% %?22?%;font-family:Courier,Calibri,宋体;background:#f5f5f5;border-left:%?6?% solid #dbdbdb}.wxParse .blockquote .p[data-v-42343e10]{margin:0}.wxParse .ul[data-v-42343e10], .wxParse .ol[data-v-42343e10]{display:block;margin:1em 0;padding-left:2em}.wxParse .ol[data-v-42343e10]{list-style-type:disc}.wxParse .ol[data-v-42343e10]{list-style-type:decimal}.wxParse .ol > weixin-parse-template[data-v-42343e10], .wxParse .ul > weixin-parse-template[data-v-42343e10]{display:list-item;align-items:baseline;text-align:match-parent}.wxParse .ol > .li[data-v-42343e10], .wxParse .ul > .li[data-v-42343e10]{display:list-item;align-items:baseline;text-align:match-parent}.wxParse .ul .ul[data-v-42343e10], .wxParse .ol .ul[data-v-42343e10]{list-style-type:circle}.wxParse .ol .ol .ul[data-v-42343e10], .wxParse .ol .ul .ul[data-v-42343e10], .wxParse .ul .ol .ul[data-v-42343e10], .wxParse .ul .ul .ul[data-v-42343e10]{list-style-type:square}.wxParse .u[data-v-42343e10]{text-decoration:underline}.wxParse .hide[data-v-42343e10]{display:none}.wxParse .del[data-v-42343e10]{display:inline}.wxParse .figure[data-v-42343e10]{overflow:hidden}.wxParse .tablebox[data-v-42343e10]{overflow:auto;background-color:#f5f5f5;background:#f5f5f5;font-size:13px;padding:8px}.wxParse .table .table[data-v-42343e10], .wxParse .table[data-v-42343e10]{border-collapse:collapse;box-sizing:border-box;\r\n  /* 内边框 */\r\n  /* width: 100%; */overflow:auto;white-space:pre}.wxParse .tbody[data-v-42343e10]{border-collapse:collapse;box-sizing:border-box;\r\n  /* 内边框 */border:1px solid #dadada}.wxParse .table .thead[data-v-42343e10], .wxParse .table .tfoot[data-v-42343e10], .wxParse .table .th[data-v-42343e10]{border-collapse:collapse;box-sizing:border-box;background:#ececec;font-weight:40}.wxParse .table .tr[data-v-42343e10]{border-collapse:collapse;box-sizing:border-box;\r\n  /* border: 2px solid #F0AD4E; */overflow:auto}.wxParse .table .th[data-v-42343e10],\r\n.wxParse .table .td[data-v-42343e10]{border-collapse:collapse;box-sizing:border-box;border:%?2?% solid #dadada;overflow:auto}.wxParse .audio[data-v-42343e10], .wxParse .uni-audio-default[data-v-42343e10]{display:block}uni-page-body[data-v-42343e10]{background-color:#f5f7fa;padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}body.?%PAGE?%[data-v-42343e10]{background-color:#f5f7fa}.custom-navbar[data-v-42343e10]{padding:0 %?30?%}.custom-navbar .nav-title[data-v-42343e10]{color:#fff;font-size:18px;line-height:%?44?%;font-weight:500}.filter-card[data-v-42343e10]{background:#fff;margin:%?20?%;border-radius:%?16?%;box-shadow:0 %?4?% %?12?% rgba(0,0,0,.03)}.filter-card .filter-group[data-v-42343e10]{display:flex;padding:%?20?%;gap:%?20?%}.filter-card .filter-group .filter-btn[data-v-42343e10]{flex:1;display:flex;align-items:center;justify-content:center;padding:%?16?%;background:#f5f5f5;border-radius:%?8?%;font-size:%?28?%;color:#666}.filter-card .filter-group .filter-btn uni-icons[data-v-42343e10]{margin-right:%?8?%}.stats-card[data-v-42343e10]{background:#fff;margin:%?20?%;border-radius:%?16?%;box-shadow:0 %?4?% %?12?% rgba(0,0,0,.03);display:flex}.stats-card .stat-item[data-v-42343e10]{flex:1;padding:%?30?%}.stats-card .stat-item[data-v-42343e10]:first-child{border-right:%?2?% solid #eee}.stats-card .stat-item .stat-label[data-v-42343e10]{font-size:%?28?%;color:#666;margin-bottom:%?10?%}.stats-card .stat-item .stat-value[data-v-42343e10]{font-size:%?32?%;font-weight:500}.stats-card .stat-item .stat-value.income[data-v-42343e10]{color:#409eff}.stats-card .stat-item .stat-value.expense[data-v-42343e10]{color:#f56c6c}.list-container[data-v-42343e10]{margin:0 %?20?%}.list-container .empty-state[data-v-42343e10]{text-align:center;padding:%?100?% 0}.list-container .empty-state uni-image[data-v-42343e10]{width:%?240?%;height:%?240?%;margin-bottom:%?30?%}.list-container .empty-state .empty-text[data-v-42343e10]{color:#999;font-size:%?28?%}.loading-state[data-v-42343e10]{padding:%?30?% 0;text-align:center}.loading-state .loading-text[data-v-42343e10]{color:#666;font-size:%?28?%}.loading-state .no-more[data-v-42343e10]{color:#999;font-size:%?24?%}.float-button[data-v-42343e10]{position:fixed;right:%?40?%;bottom:calc(%?120?% + constant(safe-area-inset-bottom));bottom:calc(%?120?% + env(safe-area-inset-bottom));width:%?100?%;height:%?100?%;background:#409eff;border-radius:50%;display:flex;align-items:center;justify-content:center;box-shadow:0 %?8?% %?24?% rgba(64,158,255,.3);z-index:100}\r\n/* 修复uni-list-item样式 */uni-list-item[data-v-42343e10]{margin:%?12?% 0;border-radius:%?16?%!important}uni-list-item[data-v-42343e10]::after{display:none!important}uni-list-item .uni-list-item__container[data-v-42343e10]{padding:%?24?%!important}",""]),e.exports=t},"73e1":function(e,t,a){"use strict";var r=a("29d8");e.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(r)},"795c":function(e,t,a){"use strict";var r=a("8bdb"),n=a("db04").start,i=a("73e1");r({target:"String",proto:!0,forced:i},{padStart:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}})},8801:function(e,t,a){"use strict";a("6a54");var r=a("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a("2634")),i=r(a("b7c7")),o=r(a("2fdc"));a("8f71"),a("bf0f"),a("f7a5"),a("473f"),a("64aa"),a("c223"),a("795c"),a("c9b5"),a("ab80"),a("08eb"),a("18f7");var s={data:function(){return{statusBarHeight:20,typeOptions:["全部","收入","支出"],typeIndex:0,currentDate:this.formatDate(new Date),bills:[],pageSize:10,currentPage:1,loading:!1,hasMore:!0,themeColor:{primary:"#409EFF",danger:"#F56C6C"}}},computed:{rightTextStyle:function(){return{income:{color:this.themeColor.primary},expense:{color:this.themeColor.danger}}},filteredBills:function(){var e=this,t=this.bills.filter((function(t){var a=0===e.typeIndex||1===e.typeIndex&&"income"===t.type||2===e.typeIndex&&"expense"===t.type,r=new Date(t.date).getMonth()===new Date(e.currentDate).getMonth();return a&&r}));return t.slice(0,this.currentPage*this.pageSize)},totalIncome:function(){return this.bills.filter((function(e){return"income"===e.type})).reduce((function(e,t){return e+Number(t.amount)}),0).toFixed(2)},totalExpense:function(){return this.bills.filter((function(e){return"expense"===e.type})).reduce((function(e,t){return e+Number(t.amount)}),0).toFixed(2)},navBarStyle:function(){return{paddingTop:"".concat(this.statusBarHeight,"px"),height:"44px",background:this.themeColor.primary}}},methods:{formatDate:function(e){var t=new Date(e);return"".concat(t.getFullYear(),"-").concat((t.getMonth()+1).toString().padStart(2,"0"))},typeChange:function(e){this.typeIndex=e.detail.value,this.resetPagination()},dateChange:function(e){this.currentDate=e.detail.value,this.resetPagination()},resetPagination:function(){this.currentPage=1,this.hasMore=!0,this.bills=[],this.loadMore()},handleItemClick:function(e){uni.navigateTo({url:"/pages/bill/detail?id=".concat(e.id)})},getSystemInfo:function(){var e=uni.getSystemInfoSync();this.statusBarHeight=e.statusBarHeight||20},loadMore:function(){var e=this;return(0,o.default)((0,n.default)().mark((function t(){var a;return(0,n.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.loading&&e.hasMore){t.next=2;break}return t.abrupt("return");case 2:return e.loading=!0,t.prev=3,t.next=6,e.mockFetchData();case 6:a=t.sent,e.bills=[].concat((0,i.default)(e.bills),(0,i.default)(a)),e.hasMore=a.length>=e.pageSize,e.currentPage++,t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](3),console.error(t.t0);case 15:return t.prev=15,e.loading=!1,t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[3,12,15,18]])})))()},mockFetchData:function(){var e=this;return new Promise((function(t){setTimeout((function(){var a=Array.from({length:e.pageSize},(function(e,t){return{id:Date.now()+t,type:Math.random()>.5?"income":"expense",category:["工资","餐饮","交通","购物"][Math.floor(4*Math.random())],amount:(2e3*Math.random()+100).toFixed(2),date:new Date((new Date).setDate(Math.floor(30*Math.random()+1))).toISOString().split("T")[0],remark:Math.random()>.7?"测试备注":""}}));t(a)}),800)}))}},onLoad:function(){this.getSystemInfo(),this.loadMore()},onReachBottom:function(){this.loadMore()}};t.default=s},af8b:function(e,t,a){"use strict";a.r(t);var r=a("30fb"),n=a("d944");for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);a("4924");var o=a("828b"),s=Object(o["a"])(n["default"],r["b"],r["c"],!1,null,"42343e10",null,!1,r["a"],void 0);t["default"]=s.exports},b7c7:function(e,t,a){"use strict";a("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e)||(0,n.default)(e)||(0,i.default)(e)||(0,o.default)()};var r=s(a("4733")),n=s(a("d14d")),i=s(a("5d6b")),o=s(a("30f7"));function s(e){return e&&e.__esModule?e:{default:e}}},c103:function(e,t,a){var r=a("615c");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var n=a("967d").default;n("92a7bc0c",r,!0,{sourceMap:!1,shadowMode:!1})},d14d:function(e,t,a){"use strict";a("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},a("01a2"),a("e39c"),a("bf0f"),a("844d"),a("18f7"),a("de6c"),a("08eb")},d944:function(e,t,a){"use strict";a.r(t);var r=a("8801"),n=a.n(r);for(var i in r)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(i);t["default"]=n.a},db04:function(e,t,a){"use strict";var r=a("bb80"),n=a("c435"),i=a("9e70"),o=a("f298"),s=a("862c"),d=r(o),l=r("".slice),c=Math.ceil,u=function(e){return function(t,a,r){var o,u,f=i(s(t)),v=n(a),p=f.length,m=void 0===r?" ":i(r);return v<=p||""===m?f:(o=v-p,u=d(m,c(o/m.length)),u.length>o&&(u=l(u,0,o)),e?f+u:u+f)}};e.exports={start:u(!1),end:u(!0)}},f298:function(e,t,a){"use strict";var r=a("497b"),n=a("9e70"),i=a("862c"),o=RangeError;e.exports=function(e){var t=n(i(this)),a="",s=r(e);if(s<0||s===1/0)throw new o("Wrong number of repetitions");for(;s>0;(s>>>=1)&&(t+=t))1&s&&(a+=t);return a}}}]);