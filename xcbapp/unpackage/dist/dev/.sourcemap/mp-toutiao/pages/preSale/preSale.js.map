{"version":3,"sources":["uni-app:///main.js","webpack:///E:/xcbh5/xcbh5/test/pages/preSale/preSale.vue?52a2","webpack:///E:/xcbh5/xcbh5/test/pages/preSale/preSale.vue?862e","webpack:///E:/xcbh5/xcbh5/test/pages/preSale/preSale.vue?cf2c","webpack:///E:/xcbh5/xcbh5/test/pages/preSale/preSale.vue?1ae8","uni-app:///pages/preSale/preSale.vue","webpack:///E:/xcbh5/xcbh5/test/pages/preSale/preSale.vue?7584","webpack:///E:/xcbh5/xcbh5/test/pages/preSale/preSale.vue?78c0"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","mixins","data","selectedCategoryIndex","pickerRange","isImageSelected","imglogo","setp","isPaid","formData","goodsname","category_id","computed","BtnText","onLoad","methods","onCategoryChange","fetchCategories","api","id","content","uni","title","icon","console","handleConfirm","setTimeout","chooseImage","count","sizeType","sourceType","success","uploadPath","tempFilePaths","file","upload","request","formatWeek","start","end","formatDate","gotoSupplement"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,gBAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAoH;AACpH;AAC2D;AACL;AACc;;;AAGpE;AACqK;AACrK,gBAAgB,+KAAU;AAC1B,EAAE,6EAAM;AACR,EAAE,kFAAM;AACR,EAAE,2FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,sFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,sTAEN;AACP,KAAK;AACL;AACA,aAAa,sTAEN;AACP,KAAK;AACL;AACA,aAAa,oSAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC3CA;AAAA;AAAA;AAAA;AAAimB,CAAgB,2nBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;ACuPrnB;AAIA;AAGA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eAGA;EACAC;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MAEA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACAC;QACAC;QAAA;QACAJ;QAAA;QACAK;MACA;IACA;EACA;EACAC;IACAC;MACA;IACA;EACA;EACAC;IACA;EACA;EACAC;IACAC;MACA;MACA;;MAEA;MACA;QACA;MACA;QACA;MACA;IACA;IACA;IACAC;MAAA;MACAC;QACA;UACA;UACA;YAAA;cACAC;cACAC;YACA;UAAA;UACA;UACA;UACA;UACA;YAAA;UAAA;UACA;YACA;UACA;QACA;UACAC;YACAC;YACAC;UACA;QACA;MACA;QACAC;QACAH;UACAC;UACAC;QACA;MACA;IACA;IAEAE;MAAA;MACAP;QACAM;QACA;UACAH;YACAE;YACAD;UACA;UACAI;YACA;UACA;QACA;UACAL;YACAE;YACAD;UACA;QACA;MACA;IAGA;IACA;IACAK;MAAA;MACAN;QACAO;QACAC;QACAC;QACAC;UACA;UACA;YACA,iBAGA;gBACAC;gBACAC;gBACAC;cACA;cANAC;cACAC;YAOAD;cACA;cACA;cACA;YACA;UACA;QACA;MACA;IACA;IAEAE;MACA;MACAC;MACA;MACAC;MACA;IACA;IAEAC;MACA;IACA;IAEAC;MAAA;MAAA;QAAA;UAAA;YAAA;cAAA;gBACA;gBACA;kBACA;kBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;ACvZA;AAAA;AAAA;AAAA;AAA4oC,CAAgB,knCAAG,EAAC,C;;;;;;;;;;;ACAhqC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/preSale/preSale.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/preSale/preSale.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./preSale.vue?vue&type=template&id=169727c8&\"\nvar renderjs\nimport script from \"./preSale.vue?vue&type=script&lang=js&\"\nexport * from \"./preSale.vue?vue&type=script&lang=js&\"\nimport style0 from \"./preSale.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/preSale/preSale.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./preSale.vue?vue&type=template&id=169727c8&\"","var components\ntry {\n  components = {\n    uniIcons: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-icons/components/uni-icons/uni-icons\" */ \"@/uni_modules/uni-icons/components/uni-icons/uni-icons.vue\"\n      )\n    },\n    uniForms: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-forms/components/uni-forms/uni-forms\" */ \"@/uni_modules/uni-forms/components/uni-forms/uni-forms.vue\"\n      )\n    },\n    uniEasyinput: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-easyinput/components/uni-easyinput/uni-easyinput\" */ \"@/uni_modules/uni-easyinput/components/uni-easyinput/uni-easyinput.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./preSale.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./preSale.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"container\">\r\n\t\t<!-- 进度指示器 -->\r\n\t\t<view class=\"progress-steps\">\r\n\t\t\t<view class=\"step-line\"></view>\r\n\t\t\t<view class=\"step-item\" :class=\"{'active': setp >= 1}\">\r\n\t\t\t\t<view class=\"step-dot\"></view>\r\n\t\t\t\t<text class=\"step-text\">基本信息</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"step-item\" :class=\"{'active': setp >= 2}\">\r\n\t\t\t\t<view class=\"step-dot\"></view>\r\n\t\t\t\t<text class=\"step-text\">确认提交</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<scroll-view scroll-y>\r\n\t\t\t<view class=\"form-container\" v-show=\"setp == 1\">\r\n\t\t\t\t<!-- 表单标题 -->\r\n\t\t\t\t<view class=\"form-header\">\r\n\t\t\t\t\t<uni-icons type=\"info\" size=\"20\" color=\"#2979FF\" />\r\n\t\t\t\t\t<text class=\"form-title\">菜品信息</text>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<!-- 表单内容 -->\r\n\t\t\t\t<uni-forms ref=\"form\" :modelValue=\"formData\" label-position=\"top\">\r\n\t\t\t\t\t<!-- 菜品名称 -->\r\n\t\t\t\t\t<view class=\"form-item\">\r\n\t\t\t\t\t\t<label class=\"form-label\">预售菜品</label>\r\n\t\t\t\t\t\t<uni-easyinput type=\"text\" v-model=\"formData.goodsname\" placeholder=\"请输入菜品名称\" />\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t<!-- 菜品分类 -->\r\n\t\t\t\t\t<view class=\"form-item\">\r\n\t\t\t\t\t\t<label class=\"form-label\">菜品分类</label>\r\n\t\t\t\t\t\t<picker class=\"category-picker\" :range=\"pickerRange\" :value=\"selectedCategoryIndex\"\r\n\t\t\t\t\t\t\t@change=\"onCategoryChange\">\r\n\t\t\t\t\t\t\t<view class=\"picker-content\">\r\n\t\t\t\t\t\t\t\t<text>{{ pickerRange[selectedCategoryIndex] }}</text>\r\n\t\t\t\t\t\t\t\t<uni-icons type=\"arrowdown\" size=\"14\" color=\"#666\" />\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</picker>\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t<!-- 图片上传 -->\r\n\t\t\t\t\t<view class=\"form-item\">\r\n\t\t\t\t\t\t<label class=\"form-label upload-label\">\r\n\t\t\t\t\t\t\t<uni-icons type=\"image\" size=\"18\" color=\"#2979FF\" />\r\n\t\t\t\t\t\t\t<text>菜品图片</text>\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t<view class=\"upload-area\" :class=\"{ 'has-image': isImageSelected }\" @tap=\"chooseImage\">\r\n\t\t\t\t\t\t\t<uni-icons :type=\"isImageSelected ? 'checkmarkempty' : 'plusempty'\" size=\"32\"\r\n\t\t\t\t\t\t\t\t:color=\"isImageSelected ? '#67C23A' : '#C0C4CC'\" />\r\n\t\t\t\t\t\t\t<text class=\"upload-tip\">{{ isImageSelected ? '上传成功' : '点击上传' }}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</uni-forms>\r\n\r\n\t\t\t</view>\r\n\t\t\t<view v-show=\"setp == 2\" class=\"form-container\">\r\n\t\t\t\t<view class=\"regulations\">\r\n\t\t\t\t\t<view class=\"title\">第一条 商品信息</view>\r\n\t\t\t\t\t<view class=\"content\">\r\n\t\t\t\t\t\t<view>1.1</view>\r\n\t\t\t\t\t\t<view>1.2</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"regulations\">\r\n\t\t\t\t\t<view class=\"title\">第二条 质量保证</view>\r\n\t\t\t\t\t<view class=\"content\">\r\n\t\t\t\t\t\t<view>2.1</view>\r\n\t\t\t\t\t\t<view>2.2</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<button @click=\"gotoSupplement\"\r\n\t\t\t\tstyle=\"color:#ffffff;background-color:#007aff;\">{{BtnText}}</button>\r\n\t\t</scroll-view>\r\n\r\n\r\n\r\n\t</view>\r\n</template>\r\n\r\n<style lang=\"scss\">\r\n\t.content view {\r\n\t\tcolor: gray;\r\n\t}\r\n\r\n\t.regulations {\r\n\t\tpadding: 10rpx;\r\n\t\tmargin: 10rpx;\r\n\t}\r\n\r\n\t.regulations .title {\r\n\t\tpadding: 5rpx;\r\n\t\tborder-left: 10rpx solid #007aff;\r\n\t}\r\n\r\n\t.container {\r\n\t\tpadding: 32rpx;\r\n\t\tbackground: #f8f9fa;\r\n\t\tmin-height: 100vh;\r\n\t}\r\n\r\n\t/* 进度条样式 */\r\n\t.progress-steps {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\tposition: relative;\r\n\t\tmargin-bottom: 48rpx;\r\n\r\n\t\t.step-line {\r\n\t\t\tposition: absolute;\r\n\t\t\ttop: 14rpx;\r\n\t\t\tleft: 50%;\r\n\t\t\tright: 50%;\r\n\t\t\theight: 4rpx;\r\n\t\t\tbackground: #e4e7ed;\r\n\t\t\ttransform: translateY(-50%);\r\n\t\t\tz-index: 0;\r\n\t\t}\r\n\r\n\t\t.step-item {\r\n\t\t\tflex: 1;\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: column;\r\n\t\t\talign-items: center;\r\n\t\t\tposition: relative;\r\n\t\t\tz-index: 1;\r\n\r\n\t\t\t.step-dot {\r\n\t\t\t\twidth: 24rpx;\r\n\t\t\t\theight: 24rpx;\r\n\t\t\t\tborder-radius: 50%;\r\n\t\t\t\tbackground: #c0c4cc;\r\n\t\t\t\tmargin-bottom: 16rpx;\r\n\t\t\t\ttransition: all 0.3s;\r\n\t\t\t}\r\n\r\n\t\t\t.step-text {\r\n\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\tcolor: #909399;\r\n\t\t\t\twhite-space: nowrap;\r\n\t\t\t}\r\n\r\n\t\t\t&.active {\r\n\t\t\t\t.step-dot {\r\n\t\t\t\t\tbackground: #2979FF;\r\n\t\t\t\t\ttransform: scale(1.2);\r\n\t\t\t\t\tbox-shadow: 0 4rpx 12rpx rgba(41, 121, 255, 0.3);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.step-text {\r\n\t\t\t\t\tcolor: #303133;\r\n\t\t\t\t\tfont-weight: 500;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/* 表单容器 */\r\n\t.form-container {\r\n\t\tbackground: #fff;\r\n\t\tborder-radius: 24rpx;\r\n\t\tpadding: 32rpx;\r\n\t\tbox-shadow: 0 8rpx 24rpx rgba(0, 0, 0, 0.04);\r\n\t}\r\n\r\n\t.form-header {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tmargin-bottom: 32rpx;\r\n\r\n\t\t.form-title {\r\n\t\t\tfont-size: 34rpx;\r\n\t\t\tcolor: #303133;\r\n\t\t\tmargin-left: 16rpx;\r\n\t\t\tfont-weight: 500;\r\n\t\t}\r\n\t}\r\n\r\n\t/* 表单元素 */\r\n\t.form-item {\r\n\t\tmargin-bottom: 48rpx;\r\n\r\n\t\t.form-label {\r\n\t\t\tdisplay: block;\r\n\t\t\tfont-size: 30rpx;\r\n\t\t\tcolor: #606266;\r\n\t\t\tmargin-bottom: 24rpx;\r\n\t\t\tfont-weight: 400;\r\n\t\t}\r\n\t}\r\n\r\n\t/* 输入框样式 */\r\n\t.uni-easyinput {\r\n\t\tborder-radius: 12rpx !important;\r\n\t\tbox-shadow: 0 0 0 2rpx #e4e7ed inset !important;\r\n\t\ttransition: all 0.3s;\r\n\r\n\t\t&:focus-within {\r\n\t\t\tbox-shadow: 0 0 0 2rpx #2979FF inset !important;\r\n\t\t}\r\n\t}\r\n\r\n\t/* 分类选择器 */\r\n\t.category-picker {\r\n\t\t.picker-content {\r\n\t\t\theight: 88rpx;\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: space-between;\r\n\t\t\tpadding: 0 24rpx;\r\n\t\t\tbackground: #f8f9fa;\r\n\t\t\tborder-radius: 12rpx;\r\n\t\t\tfont-size: 28rpx;\r\n\t\t\tcolor: #303133;\r\n\t\t}\r\n\t}\r\n\r\n\t/* 上传区域 */\r\n\t.upload-area {\r\n\t\theight: 240rpx;\r\n\t\tbackground: #f8f9fa;\r\n\t\tborder: 2rpx dashed #dcdfe6;\r\n\t\tborder-radius: 16rpx;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\ttransition: all 0.3s;\r\n\r\n\t\t&.has-image {\r\n\t\t\tborder-color: #67C23A;\r\n\t\t\tbackground: rgba(103, 194, 58, 0.05);\r\n\t\t}\r\n\r\n\t\t.upload-tip {\r\n\t\t\tfont-size: 26rpx;\r\n\t\t\tcolor: #909399;\r\n\t\t\tmargin-top: 16rpx;\r\n\t\t}\r\n\t}\r\n</style>\r\n\r\n\r\n<script>\r\n\timport {\r\n\t\tapi,\r\n\t\tUPLOAD_URL\r\n\t} from '../../api/index.js';\r\n\timport {\r\n\t\tuseUpload\r\n\t} from \"@/hooks/useUpload\"\r\n\timport {\r\n\t\tmyMixin\r\n\t} from '@/utils/public.js'\r\n\texport default {\r\n\t\tmixins: [myMixin],\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tselectedCategoryIndex: 0,\r\n\t\t\t\tpickerRange: [],\r\n\t\t\t\tisImageSelected: false,\r\n\t\t\t\timglogo: null,\r\n\t\t\t\tsetp: 1,\r\n\t\t\t\tisPaid: false,\r\n\r\n\t\t\t\t// formData: {\r\n\t\t\t\t// \tgoodsname: null, // 菜品名称\r\n\t\t\t\t// \tgoodstotal: null, // 菜品库存数量\r\n\t\t\t\t// \tispresale: 1, //是否预卖\r\n\t\t\t\t// \tunit: null, // 菜品单位\r\n\t\t\t\t// \timglogo: null, // 图片地址\r\n\t\t\t\t// \tsellbegintime: null, // 预卖开始时间戳\r\n\t\t\t\t// \tsellendtime: null, //  预卖结束时间戳\r\n\t\t\t\t// \tpresaleprice: null, // 预卖价格\r\n\t\t\t\t// \tprice: null // 市场价\r\n\t\t\t\t// },\r\n\t\t\t\tformData: {\r\n\t\t\t\t\tgoodsname: null, // 菜品名称\r\n\t\t\t\t\timglogo: null, // 图片地址\r\n\t\t\t\t\tcategory_id: null,\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tBtnText() {\r\n\t\t\t\treturn this.setp == 1 ? '下一步' : '提交'\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad() {\r\n\t\t\tthis.fetchCategories();\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tonCategoryChange(e) {\r\n\t\t\t\tconst selectedIndex = e.detail.value;\r\n\t\t\t\tthis.selectedCategoryIndex = selectedIndex;\r\n\r\n\t\t\t\t// 检查用户是否选择了有效的分类（跳过第一个默认项）\r\n\t\t\t\tif (selectedIndex > 0) {\r\n\t\t\t\t\tthis.formData.category_id = this.categories[selectedIndex - 1].id; // -1 是因为 `pickerRange` 的第一项是提示\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.formData.category_id = ''; // 用户选择了默认提示项，重置 `category_id`\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 请求菜品分类数据\r\n\t\t\tfetchCategories() {\r\n\t\t\t\tapi.cglist().then(res => {\r\n\t\t\t\t\tif (res.code === 200) {\r\n\t\t\t\t\t\t// 获取分类数据\r\n\t\t\t\t\t\tconst categories = res.data.listdata.map(item => ({\r\n\t\t\t\t\t\t\tid: item.id,\r\n\t\t\t\t\t\t\tcontent: item.content\r\n\t\t\t\t\t\t}));\r\n\t\t\t\t\t\t// 存储分类数据\r\n\t\t\t\t\t\tthis.categories = categories;\r\n\t\t\t\t\t\t// 初始化 picker 的范围数据，包括默认提示项\r\n\t\t\t\t\t\tthis.pickerRange = ['请选择分类', ...categories.map(category => category.content)];\r\n\t\t\t\t\t\tif (categories.length > 0) {\r\n\t\t\t\t\t\t\tthis.category_id = categories[0].id; // 默认选择第一个分类\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: res.message || '获取分类失败',\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch(err => {\r\n\t\t\t\t\tconsole.error(err);\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '获取分类失败',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\thandleConfirm() {\r\n\t\t\t\tapi.addPreSale(this.formData).then((data) => {\r\n\t\t\t\t\tconsole.log(data)\r\n\t\t\t\t\tif (data.code == 200) {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ticon: \"success\",\r\n\t\t\t\t\t\t\ttitle: '添加成功'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\tthis.customizeBack()\r\n\t\t\t\t\t\t}, 2000)\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ticon: \"error\",\r\n\t\t\t\t\t\t\ttitle: data.msg\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\r\n\r\n\t\t\t},\r\n\t\t\t// 图片上传\r\n\t\t\tchooseImage() {\r\n\t\t\t\tuni.chooseImage({\r\n\t\t\t\t\tcount: 1,\r\n\t\t\t\t\tsizeType: ['compressed', 'original'],\r\n\t\t\t\t\tsourceType: ['album', 'camera'],\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tconst tempFilePaths = res.tempFilePaths;\r\n\t\t\t\t\t\tif (tempFilePaths.length > 0) {\r\n\t\t\t\t\t\t\tconst {\r\n\t\t\t\t\t\t\t\tupload,\r\n\t\t\t\t\t\t\t\trequest\r\n\t\t\t\t\t\t\t} = useUpload({\r\n\t\t\t\t\t\t\t\tuploadPath: '/group1/upload',\r\n\t\t\t\t\t\t\t\ttempFilePaths: tempFilePaths[0],\r\n\t\t\t\t\t\t\t\tfile: res.tempFiles[0]\r\n\t\t\t\t\t\t\t})\r\n\r\n\t\t\t\t\t\t\tupload().then((res) => {\r\n\t\t\t\t\t\t\t\tvar obj = JSON.parse(res);\r\n\t\t\t\t\t\t\t\tthis.formData.imglogo = UPLOAD_URL + obj.data.path;\r\n\t\t\t\t\t\t\t\tthis.isImageSelected = true;\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\tformatWeek(week) {\r\n\t\t\t\tconst start = new Date()\r\n\t\t\t\tstart.setDate(start.getDate() + (week - 1) * 7)\r\n\t\t\t\tconst end = new Date(start)\r\n\t\t\t\tend.setDate(start.getDate() + 6)\r\n\t\t\t\treturn `${this.formatDate(start)} 至 ${this.formatDate(end)}`\r\n\t\t\t},\r\n\r\n\t\t\tformatDate(date) {\r\n\t\t\t\treturn `${date.getMonth()+1}-${date.getDate()}`\r\n\t\t\t},\r\n\r\n\t\t\tasync gotoSupplement() {\r\n\t\t\t\tthis.setp++\r\n\t\t\t\tif (this.setp > 2) {\r\n\t\t\t\t\t// 开始发送请求\r\n\t\t\t\t\tthis.handleConfirm()\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./preSale.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./preSale.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1755047936043\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}