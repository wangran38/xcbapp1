{"version":3,"file":"log.js","sources":["utils/log.js"],"sourcesContent":["export function saveLog(...args) {\r\n\tconst message = args.map(arg =>\r\n\t\ttypeof arg === 'object' ? JSON.stringify(arg, null, 2) : String(arg)\r\n\t).join(' ');\r\n\ttry {\r\n\t\tconst timeStr = new Date().toLocaleString();\r\n\t\tconst logEntry = `[${timeStr}] ${message}\\n`;\r\n\t\tconst logPath = '_doc/jpush_log.txt';\r\n\r\n\t\t// console.log('üìÑ [saveLog] ÂáÜÂ§áÂÜôÂÖ•Êó•Âøó:', logEntry);\r\n\r\n\t\tplus.io.requestFileSystem(\r\n\t\t\tplus.io.PRIVATE_DOC,\r\n\t\t\tfs => {\r\n\t\t\t\tfs.root.getFile(\r\n\t\t\t\t\tlogPath, {\r\n\t\t\t\t\t\tcreate: true\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfileEntry => {\r\n\t\t\t\t\t\tfileEntry.createWriter(\r\n\t\t\t\t\t\t\twriter => {\r\n\t\t\t\t\t\t\t\twriter.onwrite = () => {\r\n\t\t\t\t\t\t\t\t\t// console.log('‚úÖ [saveLog] ÂÜôÂÖ•ÊàêÂäü');\r\n\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\twriter.onerror = err => {\r\n\t\t\t\t\t\t\t\t\t// console.log('‚ùå [saveLog] ÂÜôÂÖ•Â§±Ë¥•:', err);\r\n\t\t\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t\t\twriter.seek(writer.length || 0);\r\n\t\t\t\t\t\t\t\twriter.write(logEntry);\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\terr => {\r\n\t\t\t\t\t\t\t\t// console.log('‚ùå createWriter Â§±Ë¥•:', err);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t},\r\n\t\t\t\t\terr => {\r\n\t\t\t\t\t\t// console.log('‚ùå getFile Â§±Ë¥•:', err);\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t},\r\n\t\t\terr => {\r\n\t\t\t\t// console.log('‚ùå requestFileSystem Â§±Ë¥•:', err);\r\n\t\t\t}\r\n\t\t);\r\n\t} catch (e) {\r\n\t\t// console.error('‚ùå ‰øùÂ≠òÊó•ÂøóÂºÇÂ∏∏:', e);\r\n\t}\r\n}"],"names":[],"mappings":";AAAO,SAAS,WAAW,MAAM;AAChC,QAAM,UAAU,KAAK;AAAA,IAAI,SACxB,OAAO,QAAQ,WAAW,KAAK,UAAU,KAAK,MAAM,CAAC,IAAI,OAAO,GAAG;AAAA,EACrE,EAAG,KAAK,GAAG;AACV,MAAI;AACH,UAAM,WAAU,oBAAI,KAAM,GAAC,eAAc;AACzC,UAAM,WAAW,IAAI,OAAO,KAAK,OAAO;AAAA;AACxC,UAAM,UAAU;AAIhB,SAAK,GAAG;AAAA,MACP,KAAK,GAAG;AAAA,MACR,QAAM;AACL,WAAG,KAAK;AAAA,UACP;AAAA,UAAS;AAAA,YACR,QAAQ;AAAA,UACR;AAAA,UACD,eAAa;AACZ,sBAAU;AAAA,cACT,YAAU;AACT,uBAAO,UAAU,MAAM;AAAA,gBAE/B;AACQ,uBAAO,UAAU,SAAO;AAAA,gBAEhC;AAEQ,uBAAO,KAAK,OAAO,UAAU,CAAC;AAC9B,uBAAO,MAAM,QAAQ;AAAA,cACrB;AAAA,cACD,SAAO;AAAA,cAEN;AAAA,YACR;AAAA,UACM;AAAA,UACD,SAAO;AAAA,UAEN;AAAA,QACN;AAAA,MACI;AAAA,MACD,SAAO;AAAA,MAEN;AAAA,IACJ;AAAA,EACE,SAAQ,GAAG;AAAA,EAEX;AACF;;"}