{"version":3,"file":"menuBar.js","sources":["components/menuBar.vue","D:/HBuilderX/plugins/uniapp-cli-vite/uniComponent:/RTov5bCP56iL5bqP6L2sYXBwL3hjYmFwcC9jb21wb25lbnRzL21lbnVCYXIudnVl"],"sourcesContent":["<template>\r\n\t<view class=\"box\" @click=\"show=false\">\r\n\t\t<image :src=\"item.imglogo\" mode=\"aspectFill\" @click=\"openBigImg(item.imglogo)\"></image>\r\n\t\t<view class=\"regard\" >\r\n\t\t\t<view class=\"typetitle\">\r\n\t\t\t\t<view>\r\n\t\t\t\t\t<text class=\"ellipsis\">{{item.commodity_name}}</text>\r\n\t\t\t\t\t<uni-icons type=\"right\" size=\"14\" color=\"#ccc\"></uni-icons>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view @click=\"viewDetail\" style=\"color: white; display: flex; align-items: center; justify-content: center; background-color: #ffd100; font-size:30rpx;padding: 30rpx; border-radius: 30rpx; font-weight: 400;\">详情</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"one\" @click.stop=\"goToSuyuan(item)\">溯源</view>\r\n\t\t\t<view class=\"price\">\r\n\t\t\t\t<text>¥ {{item.price.toFixed(2)}} 元/{{item.weight_name}}</text>\r\n\t\t\t\t<view class=\"quantity\">\r\n\t\t\t\t\t<view class=\"btn1\" @click.stop=\"reduce\">-</view>\r\n\t\t\t\t\t<view class=\"count1\" @click.stop=\"showInput\" :catchtouchmove=\"null\">\r\n\t\t\t\t\t\t<text v-if=\"!show\">{{getTempCount(item.id)}}</text>\r\n\t\t\t\t\t\t<textarea :adjust-position=\"false\" v-if=\"show\" v-model=\"count\" @blur=\"overInput\"\r\n\t\t\t\t\t\t\t:auto-height=\"false\" fixed class=\"input\" :focus=\"show\" @input=\"changeTextarea\"\r\n\t\t\t\t\t\t\tadjust-position=\"true\"></textarea>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"btn2\" @click.stop=\"add\">+</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view v-if=\"OpenImg\" class=\"dialog-mask-img\" @click=\"OpenImg = false\">\r\n\t\t\t<view class=\"showImg\">\r\n\t\t\t\t<uni-icons mode=\"scaleToFill\" type=\"closeempty\" style=\"position: absolute; right: 5rpx; top: 10rpx;\"\r\n\t\t\t\t\tsize=\"20px\" @click=\"OpenImg = false\"></uni-icons>\r\n\t\t\t\t<image :src=\"selectImgUrl\" mode=\"scaleToFill\"></image>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tmapState,\r\n\t\tmapMutations,\r\n\t\tmapGetters\r\n\t} from 'vuex';\r\n\timport {\r\n\t\tapi\r\n\t} from '@/api/index.js'\r\n\texport default {\r\n\t\tname: \"menuBarVue\",\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tshow: false,\r\n\t\t\t\tcount: '',\r\n\t\t\t\tOpenImg: false,\r\n\t\t\t\tselectImgUrl: null\r\n\t\t\t};\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tviewDetail(){\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl:`/pages/commodityDetail/commodityDetail?query=${JSON.stringify(this.item)}`\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 放大图片\r\n\t\t\topenBigImg(url) {\r\n\t\t\t\t// this.OpenImg = true\r\n\t\t\t\t// this.selectImgUrl = url\r\n\t\t\t},\r\n\t\t\tchangeTextarea(e) {\r\n\r\n\t\t\t},\r\n\t\t\t// 加一\r\n\t\t\tadd() {\r\n\t\t\t\tthis.addItem(this.item)\r\n\t\t\t\tthis.count = ''\r\n\t\t\t},\r\n\t\t\t// 减一\r\n\t\t\treduce() {\r\n\t\t\t\tconsole.log(this.item)\r\n\t\t\t\tthis.subItem(this.item)\r\n\t\t\t\tthis.count = ''\r\n\t\t\t},\r\n\t\t\t// isNumeric(str) {\r\n\t\t\t//     return /^\\d+$/.test(str);\r\n\t\t\t// },\r\n\r\n\t\t\t// int float  校验\r\n\t\t\tisNumeric(str) {\r\n\t\t\t\treturn /^\\d+(\\.\\d+)?$/.test(str);\r\n\t\t\t},\r\n\t\t\t// 结束输入值\r\n\t\t\toverInput(e) {\r\n\t\t\t\t// 判断是否是正确数值\r\n\t\t\t\tif (this.isNumeric(e.detail.value)) {\r\n\t\t\t\t\tlet value = Number(Number(e.detail.value).toFixed(1))\r\n\t\t\t\t\tthis.item.count = value\r\n\r\n\t\t\t\t\tthis.anyNumber(this.item) // store保存数量\r\n\t\t\t\t\tthis.count = value // input表单保存备份\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '数值有误',\r\n\t\t\t\t\t\ticon: 'error'\r\n\t\t\t\t\t})\r\n\t\t\t\t\tthis.count = ''\r\n\t\t\t\t}\r\n\t\t\t\tthis.show = false\r\n\t\t\t},\r\n\r\n\r\n\t\t\t// 弹出键盘\r\n\t\t\tshowInput() {\r\n\t\t\t\tthis.$emit('showKeyboard', this.item)\r\n\t\t\t\t// this.count = ''\r\n\t\t\t\t// this.show = true\r\n\t\t\t},\r\n\t\t\tgoToSuyuan(item) {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: `/subPackages/aHouseholder/lookTraceability/lookTraceability?commodity_id=${item.id}`,\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\t...mapMutations('cart', ['addItem', 'subItem', 'anyNumber']),\r\n\t\t},\r\n\t\tprops: ['item'],\r\n\t\tcomputed: {\r\n\t\t\t// ...mapState('cart', ['carts']),\r\n\t\t\t// ...mapGetters('cart', ['getTempCount']),\r\n\t\t},\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t.showImg {\r\n\t\tposition: relative;\r\n\t\twidth: 500rpx;\r\n\t\theight: 500rpx;\r\n\t\tmargin: 0 auto;\r\n\t\topacity: 1;\r\n\t\tpadding: 16rpx;\r\n\t\tborder: 1px solid #ddd;\r\n\t\tborder-radius: 8px;\r\n\t\tbox-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\r\n\t\tmargin: 20px;\r\n\t\tbackground-color: #fff;\r\n\t}\r\n\r\n\t.showImg image {\r\n\t\tmargin-top: 30rpx;\r\n\t\twidth: 96%;\r\n\t\theight: 92%;\r\n\t}\r\n\r\n\t.dialog-mask-img {\r\n\t\tposition: fixed;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t\tbottom: 0;\r\n\t\tbackground-color: rgba(255, 255, 255, 0.5);\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\tz-index: 999;\r\n\t}\r\n\r\n\t.input {\r\n\t\tborder: 1rpx solid #007aff;\r\n\t\ttext-align: center;\r\n\t\theight: 39rpx;\r\n\t}\r\n\r\n\t.box {\r\n\t\tpadding: 5rpx;\r\n\t\tbackground-color: white;\r\n\t\tdisplay: flex;\r\n\t\theight: 216rpx;\r\n\t\tborder-radius: 10px;  /* 圆角卡片 */\r\n\t\tbox-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);/* 阴影效果 */\r\n\t}\r\n\r\n\timage {\r\n\t\theight: 180rpx;\r\n\t\twidth: 27%;\r\n\t\tline-height: 180rpx;\r\n\t\tborder-radius: 15rpx;\r\n\t\tmargin: auto 2%;\r\n\t}\r\n\r\n\t.regard {\r\n\t\theight: 100%;\r\n\t\twidth: 71%;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t}\r\n\r\n\t.typetitle {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\t/* align-items: center; */\r\n\t\theight: 100rpx;\r\n\t\twidth: 100%;\r\n\t\tline-height: 100rpx;\r\n\t\tcolor: black;\r\n\t\tfont-size: 40rpx;\r\n\t\tfont-weight: 600;\r\n\t\toverflow: hidden;\r\n\t\ttext-overflow: ellipsis;\r\n\t\twhite-space: nowrap;\r\n\t\tbox-sizing: border-box;\r\n\t}\r\n\r\n\t.ellipsis {\r\n\t\toverflow: hidden;\r\n\t\ttext-overflow: ellipsis;\r\n\t\twhite-space: nowrap;\r\n\t\tmax-width: 10%;\r\n\t}\r\n\r\n\t.label {\r\n\t\twidth: 100%;\r\n\t\theight: 30rpx;\r\n\t\tline-height: 30rpx;\r\n\t\tfont-size: 20rpx;\r\n\t\tcolor: #007aff;\r\n\t\t/* background-color: #007aff; */\r\n\t\tdisplay: flex;\r\n\t}\r\n\r\n\t.one {\r\n\t\ttext-align: center;\r\n\t\twidth: 70rpx;\r\n\t\theight: 20rpx;\r\n\t\tfont-weight: bold;\r\n\t\tfont-size: 25rpx;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tpadding: 20rpx;\r\n\t\tbackground-color: #ffd100;\r\n\t\t\r\n\t\tborder-color: orange;\r\n\t\tcolor: #fff;\r\n\t\tborder-top-left-radius: 0;\r\n\t\tborder-bottom-left-radius: 0;\r\n\t\tborder-top-right-radius: 30rpx;\r\n\t\tborder-bottom-right-radius: 30rpx;\r\n\t}\r\n\r\n\t.price {\r\n\t\theight: 50%;\r\n\t\t/* width: 100%; */\r\n\t\tpadding: 0 10rpx;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\talign-items: flex-end;\r\n\t\tjustify-content: space-between;\r\n\t}\r\n\r\n\t.price>text {\r\n\t\theight: 50rpx;\r\n\t\twidth: 50%;\r\n\t\tline-height: 50rpx;\r\n\t\tcolor: red;\r\n\t\tfont-size: 35rpx;\r\n\t\tfont-weight: 600;\r\n\t\tmargin-bottom: 8rpx;\r\n\r\n\t}\r\n\r\n\t.quantity {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\talign-items: center;\r\n\t\tjustify-content: space-between;\r\n\t\tmargin-bottom: 10rpx;\r\n\t}\r\n\r\n\t.btn1,\r\n\t.btn2 {\r\n\t\tfont-size: 60rpx;\r\n\t\twidth: 50rpx;\r\n\t\theight: 50rpx;\r\n\t\tbackground-color: #007aff;\r\n\t\tcolor: white;\r\n\t\ttext-align: center;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content:center;\r\n\t\tborder-radius: 50%;\r\n\t\tmargin: 0 10rpx;\r\n\t}\r\n\r\n\t.count1 {\r\n\t\twidth: 80rpx;\r\n\t\tfont-size: 30rpx;\r\n\t\tcolor: black;\r\n\t\tmargin: 0 10rpx;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\r\n\t}\r\n\r\n\r\n\t.fixed {\r\n\t\theight: 100rpx;\r\n\t\twidth: 90%;\r\n\t\tbackground-color: black;\r\n\t\tborder-radius: 100rpx;\r\n\t\t/* position: fixed; */\r\n\t\t/* box-sizing: border-box; */\r\n\t\tbottom: 30rpx;\r\n\t\tleft: 50%;\r\n\t\ttransform: translateX(-50%);\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\tz-index: 1000;\r\n\t}\r\n\r\n\t.car {\r\n\t\t/* width: 280rpx; */\r\n\t\tflex: 1;\r\n\t\theight: 100%;\r\n\t\tcolor: white;\r\n\t\t/* background-color: aqua; */\r\n\t\tborder-radius: 100rpx 0 0 100rpx;\r\n\t\t/* padding-left: 30rpx; */\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: start;\r\n\t\talign-items: center;\r\n\t\tfont-size: 40rpx;\r\n\t\tmargin-left: 30rpx;\r\n\t}\r\n\r\n\t.pri {\r\n\t\tmargin-left: 30rpx;\r\n\t}\r\n\r\n\t.cart-icon-wrapper {\r\n\r\n\t\t/* position: relative; */\r\n\t\tdisplay: inline-block;\r\n\t}\r\n\r\n\t.badge {\r\n\t\t/* position: absolute; */\r\n\t\ttop: -10rpx;\r\n\t\t/* Adjust to position the badge vertically */\r\n\t\tright: -10rpx;\r\n\t\t/* Adjust to position the badge horizontally */\r\n\t\tbackground-color: red;\r\n\t\tcolor: white;\r\n\t\tborder-radius: 50%;\r\n\t\tfont-size: 20rpx;\r\n\t\t/* Adjust font size */\r\n\t\twidth: 40rpx;\r\n\t\t/* Width of the badge */\r\n\t\theight: 40rpx;\r\n\t\t/* Height of the badge */\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t}\r\n\r\n\t.sett {\r\n\t\twidth: 200rpx;\r\n\t\theight: 100%;\r\n\t\tmargin-left: auto;\r\n\t\tbackground-color: #007aff;\r\n\t\tborder-radius: 0 100rpx 100rpx 0;\r\n\t\tcolor: white;\r\n\t\tfont-size: 30rpx;\r\n\t\ttext-align: center;\r\n\t\tline-height: 100rpx;\r\n\t}\r\n\r\n\t.overlay {\r\n\t\t/* position: fixed; */\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tbackground-color: rgba(0, 0, 0, 0.5);\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: flex-end;\r\n\t\ttransition: opacity 0.3s ease;\r\n\t\topacity: 0;\r\n\t\tpointer-events: none;\r\n\t\tz-index: 999;\r\n\t\tleft: 0;\r\n\t}\r\n\r\n\t.overlay-active {\r\n\t\topacity: 1;\r\n\t\tpointer-events: auto;\r\n\t\t/* 激活状态下可点击 */\r\n\t}\r\n\r\n\t.cart-layer {\r\n\r\n\t\tbackground-color: white;\r\n\t\t/* padding: 20rpx; */\r\n\t\tpadding-top: 0;\r\n\t\tborder-radius: 50rpx 50rpx 0 0;\r\n\t\twidth: 100%;\r\n\t\t/* max-width: 600rpx; */\r\n\t\ttransition: transform 0.3s ease;\r\n\t\t/* 平滑的从底部弹出效果 */\r\n\t\ttransform: translateY(100%);\r\n\t\t/* Add any additional styling here */\r\n\t}\r\n\r\n\t.cart-layer-active {\r\n\t\ttransform: translateY(0);\r\n\t\t/* 激活状态下弹出层回到视口内 */\r\n\t}\r\n\r\n\t.Topmost {\r\n\t\theight: 50rpx;\r\n\t\twidth: 100%;\r\n\t\tline-height: 50rpx;\r\n\t\tborder-radius: 50rpx 50rpx 0 0;\r\n\t\tbackground-color: #007aff;\r\n\t\tcolor: white;\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t.shopcontent {\r\n\t\twidth: 100%;\r\n\t\tpadding: 20rpx;\r\n\t\tbox-sizing: border-box;\r\n\t\tmargin-bottom: 130rpx;\r\n\t}\r\n\r\n\t.top {\r\n\t\twidth: 100%;\r\n\t\theight: 100rpx;\r\n\t\tline-height: 100rpx;\r\n\t\tdisplay: flex;\r\n\t\tmargin: 0rpx auto;\r\n\t\tborder-bottom: 1rpx solid #ccc;\r\n\t}\r\n\r\n\r\n\t.delete {\r\n\t\twidth: 30%;\r\n\t\theight: 70%;\r\n\t\tdisplay: flex;\r\n\t\tmargin: auto 0;\r\n\t\tmargin-left: auto;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\r\n\t}\r\n\r\n\t.shopimg {\r\n\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tborder-radius: 20rpx;\r\n\r\n\t}\r\n\r\n\t.shoptitle {\r\n\t\tfont-size: 35rpx;\r\n\t\tfont-weight: 600;\r\n\t}\r\n\r\n\t.shopprice {\r\n\t\tcolor: red;\r\n\t\tfont-size: 35rpx;\r\n\t\tfont-weight: 600;\r\n\t}\r\n\r\n\t.biaoti {\r\n\t\theight: 100rpx;\r\n\t\twidth: 100rpx;\r\n\t\tbackground-color: #007aff;\r\n\t}\r\n</style>","import Component from 'E:/小程序转app/xcbapp/components/menuBar.vue'\nwx.createComponent(Component)"],"names":["uni","mapMutations"],"mappings":";;AA6CC,MAAK,YAAU;AAAA,EACd,MAAM;AAAA,EACN,OAAO;AACN,WAAO;AAAA,MACN,MAAM;AAAA,MACN,OAAO;AAAA,MACP,SAAS;AAAA,MACT,cAAc;AAAA;EAEf;AAAA,EACD,SAAS;AAAA,IACR,aAAY;AACXA,oBAAAA,MAAI,WAAW;AAAA,QACd,KAAI,gDAAgD,KAAK,UAAU,KAAK,IAAI,CAAC;AAAA,OAC7E;AAAA,IACD;AAAA;AAAA,IAED,WAAW,KAAK;AAAA,IAGf;AAAA,IACD,eAAe,GAAG;AAAA,IAEjB;AAAA;AAAA,IAED,MAAM;AACL,WAAK,QAAQ,KAAK,IAAI;AACtB,WAAK,QAAQ;AAAA,IACb;AAAA;AAAA,IAED,SAAS;AACRA,oBAAAA,MAAA,MAAA,OAAA,gCAAY,KAAK,IAAI;AACrB,WAAK,QAAQ,KAAK,IAAI;AACtB,WAAK,QAAQ;AAAA,IACb;AAAA;AAAA;AAAA;AAAA;AAAA,IAMD,UAAU,KAAK;AACd,aAAO,gBAAgB,KAAK,GAAG;AAAA,IAC/B;AAAA;AAAA,IAED,UAAU,GAAG;AAEZ,UAAI,KAAK,UAAU,EAAE,OAAO,KAAK,GAAG;AACnC,YAAI,QAAQ,OAAO,OAAO,EAAE,OAAO,KAAK,EAAE,QAAQ,CAAC,CAAC;AACpD,aAAK,KAAK,QAAQ;AAElB,aAAK,UAAU,KAAK,IAAI;AACxB,aAAK,QAAQ;AAAA,aACP;AACNA,sBAAAA,MAAI,UAAU;AAAA,UACb,OAAO;AAAA,UACP,MAAM;AAAA,SACN;AACD,aAAK,QAAQ;AAAA,MACd;AACA,WAAK,OAAO;AAAA,IACZ;AAAA;AAAA,IAID,YAAY;AACX,WAAK,MAAM,gBAAgB,KAAK,IAAI;AAAA,IAGpC;AAAA,IACD,WAAW,MAAM;AAChBA,oBAAAA,MAAI,WAAW;AAAA,QACd,KAAK,4EAA4E,KAAK,EAAE;AAAA,OACxF;AAAA,IACD;AAAA,IAED,GAAGC,cAAAA,aAAa,QAAQ,CAAC,WAAW,WAAW,WAAW,CAAC;AAAA,EAC3D;AAAA,EACD,OAAO,CAAC,MAAM;AAAA,EACd,UAAU;AAAA;AAAA;AAAA,EAGT;AACF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC9HD,GAAG,gBAAgB,SAAS;"}