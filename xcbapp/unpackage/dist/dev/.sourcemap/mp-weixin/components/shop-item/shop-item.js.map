{"version":3,"file":"shop-item.js","sources":["components/shop-item/shop-item.vue","D:/HBuilderX/plugins/uniapp-cli-vite/uniComponent:/RTov5bCP56iL5bqP6L2sYXBwL3hjYmFwcC9jb21wb25lbnRzL3Nob3AtaXRlbS9zaG9wLWl0ZW0udnVl"],"sourcesContent":["<template>\r\n\t<view class=\"shoplist\">\r\n\t\t<!-- #ifdef MP-WEIXIN -->\r\n\t\t<view class=\"overlay1\" v-if=\"showCartLayer1\">\r\n\t\t<!-- #endif -->\r\n\t\t\t<!-- #ifndef MP-WEIXIN -->\r\n\t\t\t<view class=\"overlay1\" v-if=\"showCartLayer1\">\r\n\t\t\t<!-- #endif -->\r\n\r\n\t\t\t\t<scroll-view class=\"Stallholder1\" scroll-y :style=\"{ height: '53vh' }\">\r\n\t\t\t\t\t<view ref=\"cartLayer\" @click.stop>\r\n\t\t\t\t\t\t<view class=\"Topmost1\">农链天下</view>\r\n\t\t\t\t\t\t<view class=\"shopcontent1\">\r\n\t\t\t\t\t\t\t<view class=\"top1\">\r\n\t\t\t\t\t\t\t\t<view class=\"delete1\" @click=\"clearCart\">\r\n\t\t\t\t\t\t\t\t\t<uni-icons type=\"trash\" size=\"40rpx\"></uni-icons>\r\n\t\t\t\t\t\t\t\t\t<view class=\"clear\">清空购物车</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"content1\">\r\n\t\t\t\t\t\t\t\t<view class=\"item\" v-for=\"item in getCartsByShopId(shop_id)\" :key=\"item.id\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"biaoti1\">\r\n\t\t\t\t\t\t\t\t\t\t<view>{{item.shopTitle}}</view>\r\n\t\t\t\t\t\t\t\t\t\t<!-- <uni-icons type=\"right\" size=\"14\"color=\"#ccc\"></uni-icons> -->\r\n\t\t\t\t\t\t\t\t\t\t<view><uni-icons type=\"right\" size=\"14\" color=\"#ccc\"></uni-icons></view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"neirong1\">\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"left\">\r\n\t\t\t\t\t\t\t\t\t\t\t<image class=\"shopimg1\" :src=\"item.imglogo\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"content1\">\r\n\t\t\t\t\t\t\t\t\t\t\t<!-- <text>标题</text> -->\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"shoptitle1\">{{item.commodity_name}}</view>\r\n\t\t\t\t\t\t\t\t\t\t\t<!-- <view class=\"\">价格</view> -->\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"shopprice1\">¥ {{item.price.toFixed(2)}}</view>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"right\">\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"btn1\" @click=\"subItem(item)\">-</view>\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"count1\">{{ getTempCount(item.id) }}</view>\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"btn2\" @click=\"addItem(item)\">+</view>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</scroll-view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<view class=\"fixed\">\r\n\t\t\t\t<view class=\"car\" @click.stop=\"clickCart\">\r\n\t\t\t\t\t<view class=\"cart-icon-wrapper\">\r\n\t\t\t\t\t\t<uni-icons type=\"cart\" size=\"40\" color=\"white\"></uni-icons>\r\n\t\t\t\t\t\t<view class=\"badge\">{{ cartsLengthByShopId(shop_id) }}</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"pri\">¥ {{ cartTotalByShopId(shop_id) }}</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"sett\" @click=\"goToBuyPage\">\r\n\t\t\t\t\t去结算\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tmapState,\r\n\t\tmapGetters,\r\n\t\tmapMutations\r\n\t} from 'vuex';\r\n\texport default {\r\n\t\tname: \"shop-item\",\r\n\t\tprops: {\r\n\t\t\tshop_id: {\r\n\t\t\t\ttype: [Number, String],\r\n\t\t\t\tdefault: ''\r\n\t\t\t}\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tshowCartLayer1: false\r\n\t\t\t};\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\t...mapState('cart', ['carts']),\r\n\t\t\t...mapGetters('cart', ['cartTotalByShopId', 'getTempCount', 'cartsLengthByShopId', 'getCartsByShopId']),\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t...mapMutations('cart', ['addItem', 'subItem', 'clearCart']),\r\n\t\t\tclickCart() {\r\n\t\t\t\tconsole.log(this.showCartLayer1)\r\n\t\t\t\tthis.showCartLayer1 = !this.showCartLayer1\r\n\t\t\t},\r\n\t\t\tgoToBuyPage() {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: `/pages/Buy/Buy?id=${this.shop_id}`\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\t// 清空购物车\r\n\t\t\tclearCart() {\r\n\t\t\t\t// this.clearCart();\r\n\t\t\t\tthis.$store.commit('cart/clearCart');\r\n\t\t\t\tconsole.log('clearCart method called');\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t}\r\n</script>\r\n\r\n<style scoped>\r\n\t.delete1 {\r\n\t\tfont-size: 33rpx;\r\n\t}\r\n\r\n\t.shoplist {\r\n\t\t\r\n\t\tposition: fixed;\r\n\t\tbottom: 0;\r\n\t\twidth: 100%;\r\n\t\tz-index: 99;\r\n\t}\r\n\r\n\t.item {\r\n\t\twidth: 100%;\r\n\t\theight: 220rpx;\r\n\t\tpadding: 5rpx;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tborder-bottom: 1rpx solid #ccc;\r\n\t}\r\n\r\n\t.Stallholder1 {\r\n\t\tmargin-bottom: 150rpx;\r\n\t}\r\n\r\n\t.biaoti1 {\r\n\t\tcolor: black;\r\n\t\twidth: 100%;\r\n\t\theight: 40rpx;\r\n\t\tline-height: 40rpx;\r\n\t\tfont-weight: 600;\r\n\t\tmargin-bottom: 10rpx;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t}\r\n\r\n\t.neirong1 {\r\n\t\twidth: 100%;\r\n\t\theight: 160rpx;\r\n\t\tdisplay: flex;\r\n\t\talign-items: end;\r\n\t}\r\n\r\n\t.left {\r\n\t\twidth: 45%;\r\n\t\theight: 100%;\r\n\t\tmargin-right: 2%;\r\n\t}\r\n\r\n\t.img {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tborder-radius: 20rpx;\r\n\t}\r\n\r\n\t.content1 {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tjustify-content: space-between;\r\n\t}\r\n\r\n\t.right {\r\n\t\twidth: 25%;\r\n\t\theight: 100%;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: flex-end;\r\n\t\talign-items: flex-end;\r\n\t\t/* 水平居中对齐 */\r\n\t}\r\n\r\n\t.btn1,\r\n\t.btn2 {\r\n\t\twidth: 50rpx;\r\n\t\theight: 50rpx;\r\n\t\tbackground-color: #007aff;\r\n\t\tcolor: white;\r\n\t\ttext-align: center;\r\n\t\tline-height: 50rpx;\r\n\t\tborder-radius: 50%;\r\n\t\tmargin: 0 10rpx;\r\n\t}\r\n\r\n\t.count1 {\r\n\t\tposition: relative;\r\n\t\ttop: -8rpx;\r\n\t\twidth: 20rpx;\r\n\t\tfont-size: 30rpx;\r\n\t\tcolor: black;\r\n\t\tmargin: 0 10rpx;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t.fixed {\r\n\t\theight: 100rpx;\r\n\t\twidth: 90%;\r\n\t\tbackground-color: black;\r\n\t\tborder-radius: 100rpx;\r\n\t\tposition: fixed;\r\n\t\t/* box-sizing: border-box; */\r\n\t\tbottom: 30rpx;\r\n\t\tleft: 50%;\r\n\t\ttransform: translateX(-50%);\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\r\n\t\tz-index: 101;\r\n\t}\r\n\r\n\t.car {\r\n\t\t/* width: 280rpx; */\r\n\t\tflex: 1;\r\n\t\theight: 100%;\r\n\t\tcolor: white;\r\n\t\t/* background-color: aqua; */\r\n\t\tborder-radius: 100rpx 0 0 100rpx;\r\n\t\t/* padding-left: 30rpx; */\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: start;\r\n\t\talign-items: center;\r\n\t\tfont-size: 40rpx;\r\n\t\tmargin-left: 30rpx;\r\n\t}\r\n\r\n\t.pri {\r\n\t\tmargin-left: 30rpx;\r\n\t}\r\n\r\n\t.cart-icon-wrapper {\r\n\r\n\t\tposition: relative;\r\n\t\tdisplay: inline-block;\r\n\t}\r\n\r\n\t.badge {\r\n\t\tposition: absolute;\r\n\t\ttop: -10rpx;\r\n\t\t/* Adjust to position the badge vertically */\r\n\t\tright: -10rpx;\r\n\t\t/* Adjust to position the badge horizontally */\r\n\t\tbackground-color: red;\r\n\t\tcolor: white;\r\n\t\tborder-radius: 50%;\r\n\t\tfont-size: 20rpx;\r\n\t\t/* Adjust font size */\r\n\t\twidth: 40rpx;\r\n\t\t/* Width of the badge */\r\n\t\theight: 40rpx;\r\n\t\t/* Height of the badge */\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t}\r\n\r\n\t.sett {\r\n\t\twidth: 200rpx;\r\n\t\theight: 100%;\r\n\t\tmargin-left: auto;\r\n\t\tbackground-color: #007aff;\r\n\t\tborder-radius: 0 100rpx 100rpx 0;\r\n\t\tcolor: white;\r\n\t\tfont-size: 30rpx;\r\n\t\ttext-align: center;\r\n\t\tline-height: 100rpx;\r\n\t}\r\n\r\n\t.overlay1 {\r\n\t\tposition: fixed;\r\n\t\twidth: 100%;\r\n\t\tborder-radius: 30rpx 30rpx 0 0;\r\n\t\tbackground-color: white;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: flex-end;\r\n\t\ttransition: opacity 0.3s ease;\r\n\t\tz-index: 100;\r\n\t\tleft: 0;\r\n\t\tbottom: 0;\r\n\r\n\t}\r\n\r\n\t.overlay-active {\r\n\t\topacity: 1;\r\n\t\tpointer-events: auto;\r\n\t\t/* 激活状态下可点击 */\r\n\t}\r\n\r\n\r\n\t.Topmost1 {\r\n\t\theight: 50rpx;\r\n\t\twidth: 100%;\r\n\t\tline-height: 50rpx;\r\n\t\tborder-radius: 30rpx 30rpx 0 0;\r\n\t\tbackground-color: #007aff;\r\n\t\tcolor: white;\r\n\t\ttext-align: center;\r\n\t\tposition: fixed;\r\n\t\tz-index: 1000;\r\n\t}\r\n\r\n\t.shopcontent1 {\r\n\t\twidth: 100%;\r\n\t\tpadding: 20rpx;\r\n\t\tbox-sizing: border-box;\r\n\t\t\r\n\t}\r\n\r\n\t.top1 {\r\n\t\twidth: 100%;\r\n\t\theight: 100rpx;\r\n\t\tline-height: 100rpx;\r\n\t\tdisplay: flex;\r\n\t\tmargin: 0rpx auto;\r\n\t\tborder-bottom: 1rpx solid #ccc;\r\n\t}\r\n\r\n\r\n\t.delete1 {\r\n\t\twidth: 30%;\r\n\t\theight: 70%;\r\n\t\tdisplay: flex;\r\n\t\tmargin: auto 0;\r\n\t\tmargin-left: auto;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\r\n\t}\r\n\r\n\t.shopimg1 {\r\n\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tborder-radius: 20rpx;\r\n\r\n\t}\r\n\r\n\t.shoptitle1 {\r\n\t\tfont-size: 35rpx;\r\n\t\tfont-weight: 600;\r\n\t}\r\n\r\n\t.shopprice1 {\r\n\t\tcolor: red;\r\n\t\tfont-size: 35rpx;\r\n\t\tfont-weight: 600;\r\n\t}\r\n\r\n\t.item {\r\n\t\twidth: 100%;\r\n\t\theight: 220rpx;\r\n\t\tpadding: 5rpx;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tborder-bottom: 1rpx solid #ccc;\r\n\t}\r\n</style>","import Component from 'E:/小程序转app/xcbapp/components/shop-item/shop-item.vue'\nwx.createComponent(Component)"],"names":["mapState","mapGetters","mapMutations","uni"],"mappings":";;AA0EC,MAAK,YAAU;AAAA,EACd,MAAM;AAAA,EACN,OAAO;AAAA,IACN,SAAS;AAAA,MACR,MAAM,CAAC,QAAQ,MAAM;AAAA,MACrB,SAAS;AAAA,IACV;AAAA,EACA;AAAA,EACD,OAAO;AACN,WAAO;AAAA,MACN,gBAAgB;AAAA;EAEjB;AAAA,EACD,UAAU;AAAA,IACT,GAAGA,uBAAS,QAAQ,CAAC,OAAO,CAAC;AAAA,IAC7B,GAAGC,cAAAA,WAAW,QAAQ,CAAC,qBAAqB,gBAAgB,uBAAuB,kBAAkB,CAAC;AAAA,EACtG;AAAA,EACD,SAAS;AAAA,IACR,GAAGC,cAAAA,aAAa,QAAQ,CAAC,WAAW,WAAW,WAAW,CAAC;AAAA,IAC3D,YAAY;AACXC,oBAAAA,MAAY,MAAA,OAAA,4CAAA,KAAK,cAAc;AAC/B,WAAK,iBAAiB,CAAC,KAAK;AAAA,IAC5B;AAAA,IACD,cAAc;AACbA,oBAAAA,MAAI,WAAW;AAAA,QACd,KAAK,qBAAqB,KAAK,OAAO;AAAA,MACvC,CAAC;AAAA,IACD;AAAA;AAAA,IAGD,YAAY;AAEX,WAAK,OAAO,OAAO,gBAAgB;AACnCA,oBAAAA,MAAA,MAAA,OAAA,6CAAY,yBAAyB;AAAA,IACtC;AAAA,EACD;AAED;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC9GD,GAAG,gBAAgB,SAAS;"}