{"version":3,"file":"fegionSelection.js","sources":["components/fegionSelection/fegionSelection.vue","D:/HBuilderX/plugins/uniapp-cli-vite/uniComponent:/RTov5bCP56iL5bqP6L2sYXBwL3hjYmFwcC9jb21wb25lbnRzL2ZlZ2lvblNlbGVjdGlvbi9mZWdpb25TZWxlY3Rpb24udnVl"],"sourcesContent":["<template>\r\n\t<view>\r\n\t\t<picker mode=\"multiSelector\"  :value=\"areaIndex\" :range=\"areaData\" @columnchange=\"bindPickerChange\">\r\n\t\t\t<view class=\"uni-input\">{{areaData[0]}}-{{areaData[1][areaIndex[1]]}}-{{areaData[2][areaIndex[2]]}}</view>\r\n\t\t</picker>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tapi\r\n\t} from '@/api/index.js'\r\n\texport default {\r\n\t\tname: \"fegionSelection\",\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tareaData:[\r\n\t\t\t\t\t[],\r\n\t\t\t\t\t[],\r\n\t\t\t\t\t[]\r\n\t\t\t\t],\r\n\t\t\t\tareaIndex:[\r\n\t\t\t\t\t0,0,0\r\n\t\t\t\t],\r\n\t\t\t\tprovinceList:[],\r\n\t\t\t\tcityLevelList:[]\r\n\t\t\t};\r\n\t\t},\r\n\t\t\t\r\n\t\tmounted(){\r\n\t\t\tthis.initPicker()\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\tbindPickerChange({detail}){\r\n\t\t\t\tswitch (detail.column){\r\n\t\t\t\t\tcase 0:\r\n\t\t\t\t\t\t //省级切换\r\n\t\t\t\t\t\t// console.log(this.provinceList[detail.value])\r\n\t\t\t\t\t\t// console.log(this.provinceList[detail.value].id)\r\n\t\t\t\t\t\tconsole.log(this.provinceList[detail.value],'索引')\r\n\t\t\t\t\t\tthis.getCitytreeData(this.provinceList[detail.value].id)\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t}\r\n\t\t\t\t// console.log(detail)\r\n\t\t\t},\r\n\t\t\tasync getCitytreeData(pid){\r\n\t\t\t\tlet res =  await api.citytree(pid)\r\n\t\t\t\tif (res.code  == 200){\r\n\t\t\t\t\tthis.cityLevelList = res.data\r\n\t\t\t\t\tthis.areaData[1] = this.cityLevelList.map(item=>item.name)\r\n\r\n\t\t\t\t}\r\n\t\t\t\t// console.log(res)\r\n\t\t\t},\r\n\t\t\tasync initPicker(){\r\n\t\t\t\t\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst response = await api.citylist({\r\n\t\t\t\t\t\tlevel: 1,\r\n\t\t\t\t\t\tlimit: 100\r\n\t\t\t\t\t});\r\n\t\t\t\t\tif (response.code === 200) {\r\n\t\t\t\t\t\tthis.provinceList = response.data.listdata;\r\n\t\t\t\t\t\tthis.areaData[0] = this.provinceList.map(item=>item.shortname)\r\n\t\t\t\t\t\treturn this.provinceList;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthrow new Error('Failed to fetch provinces');\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.error('Failed to fetch provinces:', error);\r\n\t\t\t\t\tthrow error;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t},\r\n\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>","import Component from 'E:/小程序转app/xcbapp/components/fegionSelection/fegionSelection.vue'\nwx.createComponent(Component)"],"names":["uni","api"],"mappings":";;;AAYC,MAAK,YAAU;AAAA,EACd,MAAM;AAAA,EACN,OAAO;AACN,WAAO;AAAA,MACN,UAAS;AAAA,QACR,CAAE;AAAA,QACF,CAAE;AAAA,QACF,CAAC;AAAA,MACD;AAAA,MACD,WAAU;AAAA,QACT;AAAA,QAAE;AAAA,QAAE;AAAA,MACJ;AAAA,MACD,cAAa,CAAE;AAAA,MACf,eAAc,CAAC;AAAA;EAEhB;AAAA,EAED,UAAS;AACR,SAAK,WAAW;AAAA,EAChB;AAAA,EACD,SAAQ;AAAA,IACP,iBAAiB,EAAC,OAAM,GAAE;AACzB,cAAQ,OAAO,QAAM;AAAA,QACpB,KAAK;AAIJA,8BAAA,MAAA,OAAA,wDAAY,KAAK,aAAa,OAAO,KAAK,GAAE,IAAI;AAChD,eAAK,gBAAgB,KAAK,aAAa,OAAO,KAAK,EAAE,EAAE;AACvD;AAAA,MACF;AAAA,IAEA;AAAA,IACD,MAAM,gBAAgB,KAAI;AACzB,UAAI,MAAO,MAAMC,cAAI,SAAS,GAAG;AACjC,UAAI,IAAI,QAAS,KAAI;AACpB,aAAK,gBAAgB,IAAI;AACzB,aAAK,SAAS,CAAC,IAAI,KAAK,cAAc,IAAI,UAAM,KAAK,IAAI;AAAA,MAE1D;AAAA,IAEA;AAAA,IACD,MAAM,aAAY;AAEjB,UAAI;AACH,cAAM,WAAW,MAAMA,UAAG,IAAC,SAAS;AAAA,UACnC,OAAO;AAAA,UACP,OAAO;AAAA,QACR,CAAC;AACD,YAAI,SAAS,SAAS,KAAK;AAC1B,eAAK,eAAe,SAAS,KAAK;AAClC,eAAK,SAAS,CAAC,IAAI,KAAK,aAAa,IAAI,UAAM,KAAK,SAAS;AAC7D,iBAAO,KAAK;AAAA,QACb;AACA,cAAM,IAAI,MAAM,2BAA2B;AAAA,MAC1C,SAAO,OAAO;AACfD,sBAAc,MAAA,MAAA,SAAA,wDAAA,8BAA8B,KAAK;AACjD,cAAM;AAAA,MACP;AAAA,IAEA;AAAA,EAEF;AACD;;;;;;;;;;;;AC1ED,GAAG,gBAAgB,SAAS;"}