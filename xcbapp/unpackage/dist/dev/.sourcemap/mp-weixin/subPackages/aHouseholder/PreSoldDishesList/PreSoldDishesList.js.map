{"version":3,"file":"PreSoldDishesList.js","sources":["subPackages/aHouseholder/PreSoldDishesList/PreSoldDishesList.vue","D:/HBuilderX/plugins/uniapp-cli-vite/uniPage:/c3ViUGFja2FnZXNcYUhvdXNlaG9sZGVyXFByZVNvbGREaXNoZXNMaXN0XFByZVNvbGREaXNoZXNMaXN0LnZ1ZQ"],"sourcesContent":["<template>\r\n\t<view class=\"container\">\r\n\t\t<!-- 分类导航 -->\r\n\t\t<!-- \t\t<view class=\"nav-bar\">\r\n\t\t\t<view v-for=\"(item, index) in navItems\" :key=\"index\"\r\n\t\t\t\t:class=\"['nav-item', activeNav === index ? 'active' : '']\" @click=\"switchNav(index)\">\r\n\t\t\t\t{{item}}\r\n\t\t\t</view>\r\n\t\t</view> -->\r\n\r\n\t\t<!-- 农产品列表 -->\r\n\t\t<scroll-view class=\"list-container\" scroll-y>\r\n\t\t\t<!-- 蔬菜列表 -->\r\n\t\t\t<view v-if=\"activeNav === 0\" class=\"product-list\">\r\n\t\t\t\t<view v-for=\"(item, index) in vegetables\" :key=\"item.id\" class=\"product-card veg-card\">\r\n\t\t\t\t\t<image :src=\"item.imglogo\" class=\"product-image\" mode=\"aspectFill\" />\r\n\t\t\t\t\t<view class=\"product-info\">\r\n\t\t\t\t\t\t<view class=\"info-header\">\r\n\t\t\t\t\t\t\t<text class=\"product-name\">{{item.goodsname}}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<!-- <view class=\"info-detail\">\r\n\t\t\t\t\t\t\t<view class=\"detail-item\">\r\n\t\t\t\t\t\t\t\t开始时间:\r\n\t\t\t\t\t\t\t\t<text>{{initDate(item.sellbegintime)}}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"detail-item\">\r\n\t\t\t\t\t\t\t\t结束时间\r\n\t\t\t\t\t\t\t\t<text>{{initDate(item.sellbegintime)}}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view> -->\r\n\t\t\t\t\t\t<!-- \t\t\t\t\t\t<view style=\"font-size: 28rpx;color: red;\">市场价:<text\r\n\t\t\t\t\t\t\t\tstyle=\"text-decoration:line-through\">{{item.price}}</text></view>\r\n\t\t\t\t\t\t<view style=\"font-size: 28rpx;\">预卖价:{{item.presaleprice}}</view> -->\r\n\t\t\t\t\t\t<view class=\"action-bar\" v-if=\"!formData.id\" style=\"text-align: center;\">\r\n\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t<button class=\"delete-btn\" @click=\"showDeleteConfirm(item.id)\">\r\n\t\t\t\t\t\t\t\t\t<uni-icons type=\"trash\" size=\"18\" color=\"#fff\" />\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t删除\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t<button class=\"delete-btn\" @click=\"beListed(item)\" style=\"background-color: #32ff13;\">\r\n\t\t\t\t\t\t\t\t\t<uni-icons type=\"upload\" size=\"18\" color=\"#fff\" />\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t上市\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t<button class=\"delete-btn\" @click=\"additionalinformation(item)\"\r\n\t\t\t\t\t\t\t\t\tstyle=\"background-color: #57fffa;\">\r\n\t\t\t\t\t\t\t\t\t<uni-icons type=\"staff\" size=\"18\" color=\"#fff\" />\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t朋友圈\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t<button class=\"delete-btn\" @click=\"origin(item)\" style=\"background-color: #aaaa00;\">\r\n\t\t\t\t\t\t\t\t\t<uni-icons type=\"staff\" size=\"18\" color=\"#fff\" />\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t溯源\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t<button class=\"delete-btn\" @click=\"editItem(item)\" style=\"background-color: #ffe4de;\">\r\n\t\t\t\t\t\t\t\t\t<uni-icons type=\"staff\" size=\"18\" color=\"#fff\" />\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t编辑\r\n\t\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t\t<!-- \t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t<button class=\"delete-btn\" @click=\"editItem(item)\" style=\"background-color: #55ffff;\">\r\n\t\t\t\t\t\t\t\t\t<uni-icons type=\"compose\" size=\"18\" color=\"#fff\" />\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t编辑\r\n\t\t\t\t\t\t\t</view> -->\r\n\r\n\r\n\r\n\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<!-- 禽畜列表 -->\r\n\t\t\t<view v-if=\"activeNav === 1\" class=\"product-list\">\r\n\t\t\t\t<view v-for=\"(item, index) in livestock\" :key=\"item.id\" class=\"product-card animal-card\">\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</scroll-view>\r\n\t\t\r\n\t\t\r\n\t\t<view  v-if=\"vegetables.length<=0\" style=\"text-align: center;font-size: 40rpx; font-weight:bold; margin-top: 100px;\">暂无菜品</view>\r\n\t\t<!-- 删除确认弹窗 -->\r\n\t\t<uni-popup ref=\"deletePopup\" type=\"dialog\">\r\n\t\t\t<uni-popup-dialog mode=\"base\" title=\"确认删除\" content=\"确定要删除这个预卖菜品？\" @confirm=\"confirmDelete\"\r\n\t\t\t\t@cancel=\"cancelDelete\"></uni-popup-dialog>\r\n\t\t</uni-popup>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tapi\r\n\t} from '@/api/index.js';\r\n\timport {\r\n\t\tmyMixin\r\n\t} from '@/utils/public.js'\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tactiveNav: 0,\r\n\t\t\t\tnavItems: ['预卖菜品列表'],\r\n\t\t\t\tdeleteId: null,\r\n\t\t\t\tvegetables: [],\r\n\t\t\t\tlivestock: [\r\n\t\t\t\t\t// 禽畜数据\r\n\t\t\t\t],\r\n\t\t\t\tformData: {\r\n\t\t\t\t\tfarmersgoods_id: null,\r\n\t\t\t\t\tpage: 1,\r\n\t\t\t\t\tlimit: 30\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\t},\r\n\t\tmixins: [myMixin],\r\n\t\tonShow() {\r\n\t\t\t// if (query) {\r\n\t\t\t// \tthis.formData.id = query\r\n\t\t\t// }\r\n\t\t\tthis.getData()\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\torigin(item) {\r\n\t\t\t\tconsole.log(item)\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: `/subPackages/aHouseholder/Traceability/Traceability?id=${item.id}&goodsname=${item.goodsname}&type=2`\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tadditionalinformation() {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: \"/pages/additionalinformation/additionalinformation\"\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tbeListed(item) {\r\n\t\t\t\tlet jsondata = JSON.stringify(item)\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: \"/subPackages/aHouseholder/beListed/beListed?pramas=\" + jsondata\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\teditItem(item) {\r\n\t\t\t\tlet jsondata = JSON.stringify(item)\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: \"/subPackages/aHouseholder/modifyPreSoldDishes/modifyPreSoldDishes?pramas=\" + jsondata\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tswitchNav(index) {\r\n\t\t\t\tthis.activeNav = index\r\n\t\t\t},\r\n\t\t\tasync getData() {\r\n\t\t\t\tlet data = await api.goodslist(this.formData)\r\n\t\t\t\tif (data.code == 200) {\r\n\t\t\t\t\tthis.vegetables = data.data.listdata\r\n\t\t\t\t\t// console.log(this.vegetables)\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tgetStatusStyle(status) {\r\n\t\t\t\tconst styles = {\r\n\t\t\t\t\t'生长中': {\r\n\t\t\t\t\t\tbackground: '#E8F5E9',\r\n\t\t\t\t\t\tcolor: '#4CAF50'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'已采收': {\r\n\t\t\t\t\t\tbackground: '#F5F5F5',\r\n\t\t\t\t\t\tcolor: '#9E9E9E'\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn styles[status] || {}\r\n\t\t\t},\r\n\t\t\tshowDeleteConfirm(id) {\r\n\t\t\t\tthis.deleteId = id\r\n\t\t\t\tthis.$refs.deletePopup.open()\r\n\t\t\t},\r\n\t\t\tconfirmDelete() {\r\n\t\t\t\tapi.delDishes({\r\n\t\t\t\t\tid: this.deleteId\r\n\t\t\t\t}).then((data) => {\r\n\t\t\t\t\tconsole.log(data)\r\n\t\t\t\t\tif (data.code == 200) {\r\n\t\t\t\t\t\tthis.getData()\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: data.message,\r\n\t\t\t\t\t\t\ticon: 'success'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\r\n\r\n\t\t\t\tthis.$refs.deletePopup.close()\r\n\t\t\t},\r\n\t\t\tcancelDelete() {\r\n\t\t\t\tthis.deleteId = null\r\n\t\t\t\tthis.$refs.deletePopup.close()\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t.container {\r\n\t\tbackground: #F8FAF8;\r\n\t\tmin-height: 100vh;\r\n\t}\r\n\r\n\t.nav-bar {\r\n\t\tdisplay: flex;\r\n\t\tpadding: 20rpx 30rpx;\r\n\t\tbackground: #FFF;\r\n\t\tbox-shadow: 0 2rpx 12rpx rgba(0, 0, 0, 0.06);\r\n\r\n\t\t.nav-item {\r\n\t\t\tflex: 1;\r\n\t\t\ttext-align: center;\r\n\t\t\tpadding: 20rpx 0;\r\n\t\t\tcolor: #7A9D7E;\r\n\t\t\tfont-size: 30rpx;\r\n\t\t\tposition: relative;\r\n\r\n\t\t\t&.active {\r\n\t\t\t\tcolor: #2D4A3A;\r\n\t\t\t\tfont-weight: 600;\r\n\r\n\t\t\t\t&::after {\r\n\t\t\t\t\tcontent: '';\r\n\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\tbottom: 0;\r\n\t\t\t\t\tleft: 50%;\r\n\t\t\t\t\ttransform: translateX(-50%);\r\n\t\t\t\t\twidth: 60rpx;\r\n\t\t\t\t\theight: 4rpx;\r\n\t\t\t\t\tbackground: #8EB448;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t.product-list {\r\n\t\tpadding: 20rpx;\r\n\t}\r\n\r\n\t.product-card {\r\n\t\tbackground: #FFF;\r\n\t\tborder-radius: 16rpx;\r\n\t\tmargin-bottom: 24rpx;\r\n\t\toverflow: hidden;\r\n\t\tbox-shadow: 0 4rpx 12rpx rgba(122, 157, 126, 0.1);\r\n\r\n\t\t.product-image {\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 300rpx;\r\n\t\t}\r\n\r\n\t\t.product-info {\r\n\t\t\tpadding: 24rpx;\r\n\r\n\t\t\t.info-header {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tjustify-content: space-between;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tmargin-bottom: 20rpx;\r\n\r\n\t\t\t\t.product-name {\r\n\t\t\t\t\tfont-size: 32rpx;\r\n\t\t\t\t\tcolor: #2D4A3A;\r\n\t\t\t\t\tfont-weight: 600;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.status-tag {\r\n\t\t\t\t\tpadding: 8rpx 20rpx;\r\n\t\t\t\t\tborder-radius: 40rpx;\r\n\t\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.info-detail {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tgap: 30rpx;\r\n\t\t\t\tmargin-bottom: 24rpx;\r\n\r\n\t\t\t\t.detail-item {\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t\tcolor: #7A9D7E;\r\n\t\t\t\t\tfont-size: 26rpx;\r\n\r\n\t\t\t\t\tuni-icons {\r\n\t\t\t\t\t\tmargin-right: 10rpx;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.action-bar {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tjustify-content: space-around;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tborder-top: 1rpx solid #EEE;\r\n\t\t\t\tpadding-top: 20rpx;\r\n\r\n\t\t\t\t.farmer {\r\n\t\t\t\t\tcolor: #666;\r\n\t\t\t\t\tfont-size: 26rpx;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.delete-btn {\r\n\t\t\t\t\tbackground: #FF6B6B;\r\n\t\t\t\t\twidth: 80rpx;\r\n\t\t\t\t\theight: 80rpx;\r\n\t\t\t\t\tborder-radius: 50%;\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t\tjustify-content: center;\r\n\t\t\t\t\tbox-shadow: 0 4rpx 12rpx rgba(255, 107, 107, 0.2);\r\n\t\t\t\t\ttransition: transform 0.2s;\r\n\r\n\t\t\t\t\t&:active {\r\n\t\t\t\t\t\ttransform: scale(0.9);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>","import MiniProgramPage from 'E:/小程序转app/xcbapp/subPackages/aHouseholder/PreSoldDishesList/PreSoldDishesList.vue'\nwx.createPage(MiniProgramPage)"],"names":["myMixin","uni","api"],"mappings":";;;;AAyGC,MAAK,YAAU;AAAA,EACd,OAAO;AACN,WAAO;AAAA,MACN,WAAW;AAAA,MACX,UAAU,CAAC,QAAQ;AAAA,MACnB,UAAU;AAAA,MACV,YAAY,CAAE;AAAA,MACd,WAAW;AAAA;AAAA,MAEV;AAAA,MACD,UAAU;AAAA,QACT,iBAAiB;AAAA,QACjB,MAAM;AAAA,QACN,OAAO;AAAA,MACP;AAAA,IACF;AAAA,EACA;AAAA,EACD,QAAQ,CAACA,aAAAA,OAAO;AAAA,EAChB,SAAS;AAIR,SAAK,QAAQ;AAAA,EACb;AAAA,EACD,SAAS;AAAA,IACR,OAAO,MAAM;AACZC,oBAAAA,MAAA,MAAA,OAAA,2EAAY,IAAI;AAChBA,oBAAAA,MAAI,WAAW;AAAA,QACd,KAAK,0DAA0D,KAAK,EAAE,cAAc,KAAK,SAAS;AAAA,OAClG;AAAA,IACD;AAAA,IACD,wBAAwB;AACvBA,oBAAAA,MAAI,WAAW;AAAA,QACd,KAAK;AAAA,OACL;AAAA,IACD;AAAA,IACD,SAAS,MAAM;AACd,UAAI,WAAW,KAAK,UAAU,IAAI;AAClCA,oBAAAA,MAAI,WAAW;AAAA,QACd,KAAK,wDAAwD;AAAA,OAC7D;AAAA,IACD;AAAA,IACD,SAAS,MAAM;AACd,UAAI,WAAW,KAAK,UAAU,IAAI;AAClCA,oBAAAA,MAAI,WAAW;AAAA,QACd,KAAK,8EAA8E;AAAA,OACnF;AAAA,IACD;AAAA,IACD,UAAU,OAAO;AAChB,WAAK,YAAY;AAAA,IACjB;AAAA,IACD,MAAM,UAAU;AACf,UAAI,OAAO,MAAMC,UAAAA,IAAI,UAAU,KAAK,QAAQ;AAC5C,UAAI,KAAK,QAAQ,KAAK;AACrB,aAAK,aAAa,KAAK,KAAK;AAAA,MAE7B;AAAA,IACA;AAAA,IACD,eAAe,QAAQ;AACtB,YAAM,SAAS;AAAA,QACd,OAAO;AAAA,UACN,YAAY;AAAA,UACZ,OAAO;AAAA,QACP;AAAA,QACD,OAAO;AAAA,UACN,YAAY;AAAA,UACZ,OAAO;AAAA,QACR;AAAA,MACD;AACA,aAAO,OAAO,MAAM,KAAK,CAAC;AAAA,IAC1B;AAAA,IACD,kBAAkB,IAAI;AACrB,WAAK,WAAW;AAChB,WAAK,MAAM,YAAY,KAAK;AAAA,IAC5B;AAAA,IACD,gBAAgB;AACfA,gBAAAA,IAAI,UAAU;AAAA,QACb,IAAI,KAAK;AAAA,MACV,CAAC,EAAE,KAAK,CAAC,SAAS;AACjBD,sBAAAA,MAAA,MAAA,OAAA,2EAAY,IAAI;AAChB,YAAI,KAAK,QAAQ,KAAK;AACrB,eAAK,QAAQ;AACbA,wBAAAA,MAAI,UAAU;AAAA,YACb,OAAO,KAAK;AAAA,YACZ,MAAM;AAAA,WACN;AAAA,QACF;AAAA,OACA;AAGD,WAAK,MAAM,YAAY,MAAM;AAAA,IAC7B;AAAA,IACD,eAAe;AACd,WAAK,WAAW;AAChB,WAAK,MAAM,YAAY,MAAM;AAAA,IAC9B;AAAA,EACD;AACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACzMD,GAAG,WAAW,eAAe;"}