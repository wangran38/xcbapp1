{"version":3,"file":"beListed.js","sources":["subPackages/aHouseholder/beListed/beListed.vue","D:/HBuilderX/plugins/uniapp-cli-vite/uniPage:/c3ViUGFja2FnZXNcYUhvdXNlaG9sZGVyXGJlTGlzdGVkXGJlTGlzdGVkLnZ1ZQ"],"sourcesContent":["<template>\r\n\t<view class=\"bigBox\">\r\n\t\t<view class=\"title\">\r\n\t\t\t请选择方式\r\n\t\t</view>\r\n\t\t<view style=\"display: flex; margin: 30rpx; justify-content: center; justify-content: space-around;\">\r\n\t\t\t<view v-for=\"(item,index) in typeList\" class=\"typeItem\" @click=\"selectItem(item,index)\"\r\n\t\t\t\t:style=\"[item.active?{background:'linear-gradient(135deg, #2d8cf0, #53a1f3)',color:'white'}:{}]\">\r\n\t\t\t\t{{item.name}}\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<one-vue v-show=\"selectIndex == 0\" @open=\"Open\" ref=\"oneRef\"></one-vue>\r\n\t\t<two-vue v-show=\"selectIndex == 1\" @open=\"Open\" ref=\"twoRef\"></two-vue>\r\n\t\t<three-vue v-show=\"selectIndex == 2\" @open=\"Open\" ref=\"threeRef\"></three-vue>\r\n\t\t<describe-vue :show=\"show\" :content=\"content\" @agree=\"agree\" @disagree=\"disagree\"></describe-vue>\r\n\t</view>\r\n</template>\r\n\r\n\r\n<style>\r\n\t.typeItem {\r\n\t\twidth: 120rpx;\r\n\t\theight: 120rpx;\r\n\t\tfont-size: 30rpx;\r\n\t\tbackground-color: white;\r\n\t\ttext-align: center;\r\n\t\tline-height: 120rpx;\r\n\t\tborder-radius: 20rpx;\r\n\t\tborder: 1rpx solid gray;\r\n\t\tbox-shadow: 10px 10px 10px -4px rgba(128, 128, 128, 0.5);\r\n\t}\r\n\r\n\t.title {\r\n\t\tmargin: 10rpx;\r\n\t\tborder-radius: 20rpx 200rpx;\r\n\t\tpadding: 30rpx;\r\n\t\tfont-size: 35rpx;\r\n\t\tfont-weight: bold;\r\n\t\tcolor: white;\r\n\t\tbackground: linear-gradient(135deg, #ff6a00, #ff8229);\r\n\t}\r\n\r\n\t.bigBox {\r\n\t\t/* height: 100vh; */\r\n\t}\r\n</style>\r\n\r\n\r\n<script>\r\n\timport {\r\n\t\tmyMixin\r\n\t} from '@/utils/public.js'\r\n\timport oneVue from './componment/one.vue'\r\n\timport twoVue from './componment/two.vue'\r\n\timport threeVue from './componment/three.vue'\r\n\timport describeVue from './componment/describe.vue'\r\n\timport {\r\n\t\tapi\r\n\t} from '@/api/index.js'\r\n\texport default {\r\n\t\tmixins: [myMixin],\r\n\t\tcomponents: {\r\n\t\t\toneVue,\r\n\t\t\ttwoVue,\r\n\t\t\tthreeVue,\r\n\t\t\tdescribeVue\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tshow: false,\r\n\t\t\t\tcontent: `\r\n\t\t\t\t第一\r\n\t\t\t\t第二\r\n\t\t\t\t第三\r\n\t\t\t\t第四\r\n\t\t\t\t第五\r\n\t\t\t\t第五\r\n\t\t\t\t第五\r\n\t\t\t\t第五\r\n\t\t\t\t第五\r\n\t\t\t\t第五\r\n\t\t\t\t第五\r\n\t\t\t\t第五\r\n\t\t\t\t第五\r\n\t\t\t\t第五\r\n\t\t\t\t第五\r\n\t\t\t\t第五\r\n\t\t\t\t第五\r\n\t\t\t\t第五\r\n\t\t\t\t第五\r\n\t\t\t\t第五\r\n\t\t\t\t`,\r\n\t\t\t\tselectIndex: 0,\r\n\t\t\t\ttypeList: [{\r\n\t\t\t\t\t\tid: 1,\r\n\t\t\t\t\t\tname: '自销',\r\n\t\t\t\t\t\tactive: true,\r\n\t\t\t\t\t\trefName: 'oneRef'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tid: 2,\r\n\t\t\t\t\t\tname: '提货点',\r\n\t\t\t\t\t\tactive: false,\r\n\t\t\t\t\t\trefName: 'twoRef'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tid: 2,\r\n\t\t\t\t\t\tname: '批发',\r\n\t\t\t\t\t\tactive: false,\r\n\t\t\t\t\t\trefName: 'threeRef'\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\tdishId: null\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\t// 加载菜品id\r\n\t\tonLoad({\r\n\t\t\tpramas\r\n\t\t}) {\r\n\t\t\tthis.dishId = JSON.parse(pramas).id\r\n\t\t},\r\n\t\tmethods: {\r\n\r\n\t\t\t/**\r\n\t\t\t * \r\n\t\t\t * @description 自定义事件回调函数,启动窗口\r\n\t\t\t */\r\n\t\t\tOpen(value) {\r\n\t\t\t\tthis.show = true\r\n\t\t\t},\r\n\t\t\tClose() {\r\n\t\t\t\tthis.show = false\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * @param formData\r\n\t\t\t */\r\n\t\t\tagree(formData) {\r\n\t\t\t\t// 同意之后的回调函数，父组件需要主动拿去子组件的数据\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ticon: 'loading',\r\n\t\t\t\t\ttitle: '正在处理......'\r\n\t\t\t\t})\r\n\t\t\t\tthis.typeList.filter(item => {\r\n\t\t\t\t\tsetTimeout(async () => {\r\n\t\t\t\t\t\tif (item.active) {\r\n\t\t\t\t\t\t\t// 获取子组件的formData数据集合\r\n\t\t\t\t\t\t\tlet formData = this.$refs[item.refName].formData\r\n\t\t\t\t\t\t\tformData.farmersgoods_id = this.dishId\r\n\t\t\t\t\t\t\tformData.market_id = this.$refs[item.refName]['marketIdMap'][this.$refs[\r\n\t\t\t\t\t\t\t\titem.refName].marketList[this.$refs[item.refName]\r\n\t\t\t\t\t\t\t\t.selectedMarketIndex]]\r\n\t\t\t\t\t\t\tformData.area_id = this.$refs[item.refName]['area_id']\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tformData = {...formData,isshow:2,ispresale:2}\r\n\t\t\t\t\t\t\tconsole.log(formData)\r\n\t\t\t\t\t\t\tlet res = await api.foodOnSale(formData)\r\n\t\t\t\t\t\t\tif (res.code == 200) {\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ticon: 'success',\r\n\t\t\t\t\t\t\t\t\ttitle: '提交成功'\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\t\t\t\tthis.customizeBack()\r\n\t\t\t\t\t\t\t\t},1000)\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\ticon: 'error',\r\n\t\t\t\t\t\t\t\t\t\ttitle: '提交异常！！！！'\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t},1000)\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, 1000)\r\n\r\n\t\t\t\t})\r\n\t\t\t\tthis.Close()\r\n\t\t\t},\r\n\t\t\t// 不同意\r\n\t\t\tdisagree() {\r\n\t\t\t\tthis.Close()\r\n\t\t\t},\r\n\t\t\tselectItem(item, index) {\r\n\t\t\t\tthis.typeList.filter(item => {\r\n\t\t\t\t\titem.active = false\r\n\t\t\t\t})\r\n\t\t\t\tthis.selectIndex = index\r\n\t\t\t\titem.active = true\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>","import MiniProgramPage from 'E:/小程序转app/xcbapp/subPackages/aHouseholder/beListed/beListed.vue'\nwx.createPage(MiniProgramPage)"],"names":["myMixin","uni","formData","api","item"],"mappings":"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"}