{"version":3,"file":"Traceability.js","sources":["subPackages/aHouseholder/Traceability/Traceability.vue","D:/HBuilderX/plugins/uniapp-cli-vite/uniPage:/c3ViUGFja2FnZXNcYUhvdXNlaG9sZGVyXFRyYWNlYWJpbGl0eVxUcmFjZWFiaWxpdHkudnVl"],"sourcesContent":["<template>\r\n\t<view class=\"traceability-tab-page\">\r\n\r\n\t\t<!-- Tab导航栏 -->\r\n\t\t<view class=\"tab-nav\">\r\n\t\t\t<view class=\"tab-item\" :class=\"{ active: activeTab === 0 }\" @click=\"activeTab = 0\">\r\n\t\t\t\t<text>溯源信息</text>\r\n\t\t\t\t<view class=\"tab-indicator\" v-if=\"activeTab === 0\"></view>\r\n\t\t\t</view>\r\n\t\t\t<view  v-if=\"type==1\"  class=\"tab-item\" :class=\"{ active: activeTab === 1 }\" @click=\"activeTab = 1\">\r\n\t\t\t\t<text>图片上传</text>\r\n\t\t\t\t<view class=\"tab-indicator\" v-if=\"activeTab === 1\"></view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<!-- Tab内容区域 -->\r\n\t\t<view class=\"tab-content\">\r\n\t\t\t<!-- 第一个Tab：溯源信息 -->\r\n\t\t\t<view class=\"tab-panel\" v-if=\"activeTab === 0\">\r\n\t\t\t\t<!-- 溯源介绍 -->\r\n\t\t\t\t<view class=\"intro-card\">\r\n\t\t\t\t\t<view class=\"intro-icon\">\r\n\t\t\t\t\t\t<!-- <icon type=\"info\" size=\"24\" color=\"#1890FF\"></icon> -->\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"intro-content\">\r\n\t\t\t\t\t\t<view class=\"intro-title\">补充溯源信息，生意更旺！</view>\r\n\t\t\t\t\t\t<view class=\"intro-points\">\r\n\t\t\t\t\t\t\t<view class=\"intro-point\">• 买家看得到来源，买得更放心</view>\r\n\t\t\t\t\t\t\t<view class=\"intro-point\">• 平台优先推荐，曝光更多</view>\r\n\t\t\t\t\t\t\t<view class=\"intro-point\">• 农产品/生鲜专属标签，区别普通商品</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<view class=\"form-container\">\r\n\t\t\t\t\t<!-- 选中商品 -->\r\n\t\t\t\t\t<view class=\"form-item\">\r\n\t\t\t\t\t\t<view class=\"item-label required\">选中商品</view>\r\n\t\t\t\t\t\t<view class=\"item-content\">\r\n\t\t\t\t\t\t\t<view class=\"picker-view\">\r\n\t\t\t\t\t\t\t\t{{goodsname}}\r\n\t\t\t\t\t\t\t\t<!-- <icon type=\"arrowright\" size=\"16\" color=\"#999\"></icon> -->\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t<!-- 基础信息模块 -->\r\n\t\t\t\t\t<view class=\"form-item\">\r\n\t\t\t\t\t\t<view class=\"item-label required\">基础信息</view>\r\n\t\t\t\t\t\t<view class=\"item-content\">\r\n\t\t\t\t\t\t\t<textarea placeholder=\"输入产品基本信息:\" maxlength=\"2000\" style=\"padding: 10rpx; font-size: 38rpx;\"\r\n\t\t\t\t\t\t\t\tv-model=\"formData.content\"></textarea>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t<!-- 溯源信息描述 -->\r\n\t\t\t\t\t<view class=\"form-item\">\r\n\t\t\t\t\t\t<view class=\"item-label required\">溯源信息描述</view>\r\n\t\t\t\t\t\t<view class=\"item-content\">\r\n\t\t\t\t\t\t\t<textarea\r\n\t\t\t\t\t\t\t\tplaceholder=\"输入溯源信息：1. 生产环节:产地、种植/生产方式、周期等2.质检情况:检测标准、结果、机构等3. 物流信息:仓储条件、运输方式等4. 其他:原料来源、工艺特点等...\"\r\n\t\t\t\t\t\t\t\tv-model=\"formData.fromcontent\" maxlength=\"2000\"\r\n\t\t\t\t\t\t\t\tstyle=\"padding: 10rpx; font-size: 38rpx;\"></textarea>\r\n\t\t\t\t\t\t\t<view class=\"word-count\">{{ formData.fromcontent.length || 0 }} / 2000</view>\r\n\t\t\t\t\t\t\t<view class=\"info-hint\">\r\n\t\t\t\t\t\t\t\t<!-- <icon type=\"help\" size=\"14\" color=\"#1890FF\"></icon> -->\r\n\t\t\t\t\t\t\t\t<text>真实细节越丰富，买家信任度越高，平台推荐越多</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<!-- 第二个Tab：多图展示上传 -->\r\n\t\t\t<view class=\"tab-panel\" v-if=\"activeTab === 1\">\r\n\t\t\t\t<!-- 图片上传说明 -->\r\n\t\t\t\t<view class=\"upload-guide-card\">\r\n\t\t\t\t\t<view class=\"guide-icon\">\r\n\t\t\t\t\t\t<!-- <icon type=\"lightbulb\" size=\"24\" color=\"#1890FF\"></icon> -->\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"guide-content\">\r\n\t\t\t\t\t\t<view class=\"guide-title\">上传优质图片，提升溯源可信度</view>\r\n\t\t\t\t\t\t<view class=\"guide-points\">\r\n\t\t\t\t\t\t\t<view class=\"guide-point\">• 清晰展示商品真实情况，避免模糊、歪斜</view>\r\n\t\t\t\t\t\t\t<view class=\"guide-point\">• 不同场景分类上传，方便买家了解全过程</view>\r\n\t\t\t\t\t\t\t<view class=\"guide-point\">• 最多可上传9张</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<!-- 多图上传主区域 -->\r\n\t\t\t\t<view class=\"upload-container\">\r\n\t\t\t\t\t<!-- 图片网格布局 -->\r\n\t\t\t\t\t<view class=\"image-grid\">\r\n\t\t\t\t\t\t<!-- 上传按钮 -->\r\n\t\t\t\t\t\t<view class=\"upload-btn\" @click=\"chooseImage\" v-if=\"images.length < 9\">\r\n\t\t\t\t\t\t\t<!-- <icon type=\"camera\" size=\"32\" color=\"#1890FF\"></icon> -->\r\n\t\t\t\t\t\t\t<text>拍摄/选择</text>\r\n\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t<!-- 图片预览项 -->\r\n\t\t\t\t\t\t<view class=\"image-item\" v-for=\"img in images\" :key=\"img.id\">\r\n\t\t\t\t\t\t\t<image :src=\"img.url\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t\t\t<view class=\"image-overlay\">\r\n\t\t\t\t\t\t\t\t<uni-icons type=\"clear\" size=\"20\" color=\"#fff\" class=\"delete-icon\"\r\n\t\t\t\t\t\t\t\t\t@click.stop=\"deleteImage(img.id)\"></uni-icons>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t<!-- 数量提示 -->\r\n\t\t\t\t\t<view class=\"image-count\">\r\n\t\t\t\t\t\t已上传 {{ images.length }} / 9 张图片\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<button class=\"submit-btn\" @click=\"submitForm\" v-if=\"activeTab==0\">\r\n\t\t\t<text>提交溯源信息</text>\r\n\t\t</button>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tapi\r\n\t} from '@/api/index.js'\r\n\texport default {\r\n\t\tonLoad(option) {\r\n\t\t\ttry {\r\n\t\t\t\t// console.log(option.type)\r\n\t\t\t\tif (option.type) {\r\n\t\t\t\t\tthis.type = Number(option.type)\r\n\t\t\t\t}\r\n\t\t\t} catch {\r\n\r\n\t\t\t}\r\n\t\t\tthis.id = option.id\r\n\t\t\tthis.goodsname = option.goodsname\r\n\t\t\tthis.formData.goods_id = Number(option.id)\r\n\t\t\tthis.uploadImageback()\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\ttype: 1, // 状态为1是摊主，状态为2是农户\r\n\t\t\t\tgoodsname: null,\r\n\t\t\t\tid: null,\r\n\t\t\t\tactiveTab: 0, // 0:溯源信息 1:图片上传\r\n\t\t\t\tselectedSource: '',\r\n\t\t\t\tsourceTypes: ['自家种植', '合作社供货', '批发市场进货', '产地直采'],\r\n\r\n\t\t\t\t// 图片相关\r\n\t\t\t\tcategories: ['种植/养殖场景', '进货单据', '摊位实拍', '商品细节', '质检报告'],\r\n\t\t\t\tactiveCategory: 0,\r\n\t\t\t\timages: [],\r\n\t\t\t\tformData: {\r\n\t\t\t\t\tcontent: null,\r\n\t\t\t\t\tfromcontent: ''\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t},\r\n\t\tmethods: {\r\n\r\n\t\t\t// 图片上传之后的回调\r\n\t\t\tasync uploadImageback() {\r\n\t\t\t\tlet data = await api.getManyImages({\r\n\t\t\t\t\tgoodsid: Number(this.id),\r\n\t\t\t\t\tlimit: 100,\r\n\t\t\t\t\tpage: 1\r\n\t\t\t\t})\r\n\r\n\t\t\t\tif (data.code == 200) {\r\n\t\t\t\t\tconsole.log(data.data)\r\n\t\t\t\t\tthis.images = [...data.data]\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 货源类型选择变化\r\n\t\t\tonSourceChange(e) {\r\n\t\t\t\tthis.selectedSource = this.sourceTypes[e.detail.value];\r\n\t\t\t},\r\n\r\n\r\n\t\t\tsaveImage(path) {\r\n\t\t\t\treturn new Promise((res, rej) => {\r\n\t\t\t\t\tuni.uploadFile({\r\n\t\t\t\t\t\turl: 'https://image.xcbdsc.com/group1/upload',\r\n\t\t\t\t\t\tname: 'file',\r\n\t\t\t\t\t\tfilePath: path,\r\n\t\t\t\t\t\tformData: {\r\n\t\t\t\t\t\t\toutput: 'json2'\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tsuccess: (reponse) => {\r\n\t\t\t\t\t\t\tres(JSON.parse(reponse.data))\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail: (err) => {\r\n\t\t\t\t\t\t\trej(err)\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: '上传失败',\r\n\t\t\t\t\t\t\t\ticon: 'error'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 选择图片\r\n\t\t\tchooseImage() {\r\n\t\t\t\tuni.chooseImage({\r\n\t\t\t\t\tcount: 9 - this.images.length,\r\n\t\t\t\t\tsizeType: ['original', 'compressed'],\r\n\t\t\t\t\tsourceType: ['album', 'camera'],\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tconst newImages = res.tempFilePaths.map(path => ({\r\n\t\t\t\t\t\t\turl: path\r\n\t\t\t\t\t\t}));\r\n\t\t\t\t\t\t// this.images = [...this.images, ...newImages];\r\n\t\t\t\t\t\tconst imgUploadPromises = newImages.map(item => {\r\n\t\t\t\t\t\t\treturn this.saveImage(item.url)\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tPromise.all(imgUploadPromises).then(async (data) => {\r\n\t\t\t\t\t\t\t// console.log(data)\r\n\t\t\t\t\t\t\tdata.forEach(item => {\r\n\t\t\t\t\t\t\t\tapi.manyImages({\r\n\t\t\t\t\t\t\t\t\tgoodsid: Number(this.id),\r\n\t\t\t\t\t\t\t\t\turl: item.data.url\r\n\t\t\t\t\t\t\t\t}).then((data) => {\r\n\t\t\t\t\t\t\t\t\tthis.images.push({\r\n\t\t\t\t\t\t\t\t\t\turl: data.data.url,\r\n\t\t\t\t\t\t\t\t\t\tid: data.data.id\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\tconsole.log(this.images)\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\t// 删除图片\r\n\t\t\tdeleteImage(id) {\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: '提示',\r\n\t\t\t\t\tcontent: '确定要删除这张图片吗？',\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\tapi.delManyImages({\r\n\t\t\t\t\t\t\t\tid: id\r\n\t\t\t\t\t\t\t}).then((data) => {\r\n\t\t\t\t\t\t\t\tthis.uploadImageback()\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\t// 提交表单\r\n\t\t\tasync submitForm() {\r\n\t\t\t\tlet get = null\r\n\t\t\t\tif (this.type == 1) {\r\n\t\t\t\t\tget = api.addTraceability\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.formData.id = this.formData.goods_id\r\n\t\t\t\t\tdelete this.formData.goods_id\r\n\t\t\t\t\tget = api.updateDish\r\n\t\t\t\t}\r\n\t\t\t\tlet data = await get(\r\n\t\t\t\t\tthis.formData\r\n\t\t\t\t)\r\n\t\t\t\tconsole.log(data)\r\n\r\n\t\t\t\t// 模拟提交\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle: '提交中...'\r\n\t\t\t\t});\r\n\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '提交成功，等待审核',\r\n\t\t\t\t\t\ticon: 'success',\r\n\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\t// 返回上一页\r\n\t\t\t\t\t// setTimeout(() => {\r\n\t\t\t\t\t// \tuni.navigateBack();\r\n\t\t\t\t\t// }, 2000);\r\n\t\t\t\t}, 1500);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n</script>\r\n\r\n<style scoped>\r\n\t/* 页面基础样式 */\r\n\t.traceability-tab-page {\r\n\t\tfont-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\r\n\t\tbackground-color: #f5f7fa;\r\n\t\tmin-height: 100vh;\r\n\t\tpadding-bottom: 80px;\r\n\t\t/* 为底部按钮留出空间 */\r\n\t}\r\n\r\n\t/* 导航栏 */\r\n\t.navbar {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t\theight: 48px;\r\n\t\tpadding: 0 16px;\r\n\t\tbackground-color: #ffffff;\r\n\t\tborder-bottom: 1px solid #f0f0f0;\r\n\t\tposition: sticky;\r\n\t\ttop: 0;\r\n\t\tz-index: 100;\r\n\t\tbox-shadow: 0 2px 10px rgba(0, 0, 0, 0.03);\r\n\t}\r\n\r\n\t.nav-title {\r\n\t\tfont-size: 18px;\r\n\t\tfont-weight: 500;\r\n\t\tcolor: #333333;\r\n\t}\r\n\r\n\t.save-btn {\r\n\t\tcolor: #1890FF;\r\n\t\tfont-size: 16px;\r\n\t\tpadding: 6px 10px;\r\n\t\tborder-radius: 4px;\r\n\t\ttransition: background-color 0.2s;\r\n\t}\r\n\r\n\t.save-btn:active {\r\n\t\tbackground-color: #e6f7ff;\r\n\t}\r\n\r\n\t/* Tab导航 */\r\n\t.tab-nav {\r\n\t\tdisplay: flex;\r\n\t\theight: 48px;\r\n\t\tbackground-color: #ffffff;\r\n\t\tborder-bottom: 1px solid #f0f0f0;\r\n\t\tz-index: 99;\r\n\t}\r\n\r\n\t.tab-item {\r\n\t\tflex: 1;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tposition: relative;\r\n\t}\r\n\r\n\t.tab-item text {\r\n\t\tfont-size: 16px;\r\n\t\tcolor: #666666;\r\n\t\ttransition: color 0.2s;\r\n\t}\r\n\r\n\t.tab-item.active text {\r\n\t\tcolor: #1890FF;\r\n\t\tfont-weight: 500;\r\n\t}\r\n\r\n\t.tab-indicator {\r\n\t\twidth: 30px;\r\n\t\theight: 3px;\r\n\t\tbackground-color: #1890FF;\r\n\t\tborder-radius: 3px;\r\n\t\tposition: absolute;\r\n\t\tbottom: 0;\r\n\t\tleft: 50%;\r\n\t\ttransform: translateX(-50%);\r\n\t}\r\n\r\n\t/* Tab内容区域 */\r\n\t.tab-content {\r\n\t\tflex: 1;\r\n\t}\r\n\r\n\t.tab-panel {\r\n\t\twidth: 100%;\r\n\t}\r\n\r\n\t/* 溯源信息Tab样式（复用之前的样式） */\r\n\t.intro-card {\r\n\t\tbackground-color: #e6f7ff;\r\n\t\tborder-radius: 10px;\r\n\t\tpadding: 16px;\r\n\t\tmargin: 16px;\r\n\t\tdisplay: flex;\r\n\t\talign-items: flex-start;\r\n\t\tborder-left: 4px solid #1890FF;\r\n\t\tbox-shadow: 0 2px 8px rgba(24, 144, 255, 0.1);\r\n\t}\r\n\r\n\t.intro-icon {\r\n\t\tmargin-right: 12px;\r\n\t\tmargin-top: 2px;\r\n\t\tcolor: #1890FF;\r\n\t}\r\n\r\n\t.intro-title {\r\n\t\tfont-size: 16px;\r\n\t\tcolor: #1890FF;\r\n\t\tfont-weight: 500;\r\n\t\tmargin-bottom: 8px;\r\n\t}\r\n\r\n\t.intro-points {\r\n\t\tfont-size: 14px;\r\n\t\tcolor: #0050b3;\r\n\t\tline-height: 1.7;\r\n\t}\r\n\r\n\t.form-container {\r\n\t\tpadding: 0 16px;\r\n\t}\r\n\r\n\t.form-item {\r\n\t\tmargin-bottom: 16px;\r\n\t\tbackground-color: #ffffff;\r\n\t\tborder-radius: 10px;\r\n\t\toverflow: hidden;\r\n\t\tbox-shadow: 0 2px 10px rgba(0, 0, 0, 0.03);\r\n\t}\r\n\r\n\t.item-label {\r\n\t\tpadding: 14px 16px;\r\n\t\tfont-size: 15px;\r\n\t\tcolor: #333333;\r\n\t\tborder-bottom: 1px solid #f5f5f5;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t.required::before {\r\n\t\tcontent: '*';\r\n\t\tcolor: #ff4d4f;\r\n\t\tmargin-right: 4px;\r\n\t}\r\n\r\n\t.item-content {\r\n\t\tpadding: 16px;\r\n\t}\r\n\r\n\t.picker-view {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t\tpadding: 12px 14px;\r\n\t\tborder: 1px solid #e5e5e5;\r\n\t\tborder-radius: 6px;\r\n\t\tfont-size: 15px;\r\n\t\tcolor: #333333;\r\n\t\tbackground-color: #fafafa;\r\n\t\ttransition: all 0.2s;\r\n\t}\r\n\r\n\t/* 信息区域样式 */\r\n\t.info-section {\r\n\t\tbackground-color: #fafbfd;\r\n\t\tborder-radius: 8px;\r\n\t\tpadding: 14px;\r\n\t\tmargin-bottom: 12px;\r\n\t\tborder: 1px solid #f0f5ff;\r\n\t}\r\n\r\n\t.info-section.first-section {\r\n\t\tmargin-top: 5px;\r\n\t}\r\n\r\n\t.section-subtitle {\r\n\t\tfont-size: 14px;\r\n\t\tcolor: #1890FF;\r\n\t\tfont-weight: 500;\r\n\t\tmargin-bottom: 12px;\r\n\t\tpadding-left: 4px;\r\n\t\tborder-left: 3px solid #1890FF;\r\n\t}\r\n\r\n\t.info-grid {\r\n\t\tdisplay: grid;\r\n\t\tgrid-template-columns: 1fr 1fr;\r\n\t\tgap: 14px;\r\n\t}\r\n\r\n\t.info-item {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tgap: 6px;\r\n\t}\r\n\r\n\t.info-label {\r\n\t\tfont-size: 13px;\r\n\t\tcolor: #666666;\r\n\t\tfont-weight: 500;\r\n\t}\r\n\r\n\t.info-input input,\r\n\t.info-input .picker-view {\r\n\t\twidth: 100%;\r\n\t\tpadding: 11px 12px;\r\n\t\tborder: 1px solid #e5e5e5;\r\n\t\tborder-radius: 6px;\r\n\t\tfont-size: 14px;\r\n\t\tcolor: #333333;\r\n\t\tbackground-color: #ffffff;\r\n\t\ttransition: all 0.2s;\r\n\t}\r\n\r\n\ttextarea {\r\n\t\twidth: 100%;\r\n\t\tpadding: 14px;\r\n\t\tborder: 1px solid #e5e5e5;\r\n\t\tborder-radius: 8px;\r\n\t\tfont-size: 15px;\r\n\t\tcolor: #333333;\r\n\t\tmin-height: 160px;\r\n\t\tresize: vertical;\r\n\t\tbox-sizing: border-box;\r\n\t\tline-height: 1.7;\r\n\t\tbackground-color: #fafafa;\r\n\t}\r\n\r\n\t.word-count {\r\n\t\ttext-align: right;\r\n\t\tfont-size: 12px;\r\n\t\tcolor: #999999;\r\n\t\tmargin-top: 8px;\r\n\t}\r\n\r\n\t.info-hint {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tfont-size: 13px;\r\n\t\tcolor: #1890FF;\r\n\t\tmargin-top: 8px;\r\n\t\tpadding-top: 8px;\r\n\t\tborder-top: 1px dashed #e6f7ff;\r\n\t}\r\n\r\n\t/* 图片上传Tab样式 */\r\n\t.upload-guide-card {\r\n\t\tbackground-color: #e6f7ff;\r\n\t\tborder-radius: 10px;\r\n\t\tpadding: 14px 16px;\r\n\t\tmargin: 12px 16px;\r\n\t\tdisplay: flex;\r\n\t\talign-items: flex-start;\r\n\t}\r\n\r\n\t.guide-icon {\r\n\t\tmargin-right: 10px;\r\n\t\tmargin-top: 2px;\r\n\t\tcolor: #1890FF;\r\n\t}\r\n\r\n\t.guide-title {\r\n\t\tfont-size: 15px;\r\n\t\tcolor: #1890FF;\r\n\t\tfont-weight: 500;\r\n\t\tmargin-bottom: 6px;\r\n\t}\r\n\r\n\t.guide-points {\r\n\t\tfont-size: 13px;\r\n\t\tcolor: #0050b3;\r\n\t\tline-height: 1.6;\r\n\t}\r\n\r\n\t.image-category {\r\n\t\tpadding: 0 16px;\r\n\t\tbackground-color: #ffffff;\r\n\t}\r\n\r\n\t.category-scroll {\r\n\t\twhite-space: nowrap;\r\n\t\tpadding: 12px 0;\r\n\t}\r\n\r\n\t.category-item {\r\n\t\tdisplay: inline-block;\r\n\t\tpadding: 6px 14px;\r\n\t\tmargin-right: 10px;\r\n\t\tfont-size: 14px;\r\n\t\tborder-radius: 20px;\r\n\t\tbackground-color: #f5f5f5;\r\n\t\tcolor: #666666;\r\n\t\ttransition: all 0.2s;\r\n\t}\r\n\r\n\t.category-item.active {\r\n\t\tbackground-color: #1890FF;\r\n\t\tcolor: #ffffff;\r\n\t}\r\n\r\n\t.upload-container {\r\n\t\tpadding: 16px;\r\n\t}\r\n\r\n\t.image-grid {\r\n\t\tdisplay: grid;\r\n\t\tgrid-template-columns: repeat(3, 1fr);\r\n\t\tgap: 12px;\r\n\t\tmargin-bottom: 16px;\r\n\t}\r\n\r\n\t.upload-btn {\r\n\t\twidth: 100%;\r\n\t\taspect-ratio: 1/1;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tborder: 2px dashed #e5e5e5;\r\n\t\tborder-radius: 8px;\r\n\t\tcolor: #1890FF;\r\n\t\tfont-size: 14px;\r\n\t\tbackground-color: #fafafa;\r\n\t\ttransition: all 0.2s;\r\n\t}\r\n\r\n\t.upload-btn icon {\r\n\t\tmargin-bottom: 8px;\r\n\t}\r\n\r\n\t.image-item {\r\n\t\twidth: 100%;\r\n\t\taspect-ratio: 1/1;\r\n\t\tposition: relative;\r\n\t\tborder-radius: 8px;\r\n\t\toverflow: hidden;\r\n\t\tbox-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\r\n\t}\r\n\r\n\t.image-item image {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tobject-fit: cover;\r\n\t}\r\n\r\n\t.image-overlay {\r\n\t\tposition: absolute;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t\tbottom: 0;\r\n\t\ttop: 0;\r\n\t\tbackground: linear-gradient(transparent, rgba(0, 0, 0, 0.6));\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: flex-end;\r\n\t\tpadding: 8px;\r\n\t}\r\n\r\n\t.image-tag {\r\n\t\tcolor: #ffffff;\r\n\t\tfont-size: 12px;\r\n\t\tbackground-color: rgba(24, 144, 255, 0.8);\r\n\t\tpadding: 2px 6px;\r\n\t\tborder-radius: 3px;\r\n\t}\r\n\r\n\t.delete-icon {\r\n\t\tbackground-color: rgba(255, 77, 79, 0.9);\r\n\t\tborder-radius: 50%;\r\n\t\twidth: 28px;\r\n\t\theight: 28px;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t}\r\n\r\n\t.image-count {\r\n\t\tfont-size: 14px;\r\n\t\tcolor: #666666;\r\n\t\ttext-align: center;\r\n\t\tpadding: 8px 0;\r\n\t}\r\n\r\n\t.required-hint {\r\n\t\tcolor: #ff4d4f;\r\n\t\tfont-size: 13px;\r\n\t}\r\n\r\n\t.submit-btn {\r\n\t\twidth: calc(100% - 32px);\r\n\t\theight: 50px;\r\n\t\tbackground-color: #1890FF;\r\n\t\tcolor: #ffffff;\r\n\t\tborder: none;\r\n\t\tborder-radius: 10px;\r\n\t\tfont-size: 17px;\r\n\t\tfont-weight: 500;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tbox-shadow: 0 4px 12px rgba(24, 144, 255, 0.3);\r\n\t\ttransition: all 0.2s;\r\n\t}\r\n\r\n\r\n\r\n\t/* 响应式调整 */\r\n\t@media (max-width: 375px) {\r\n\t\t.info-grid {\r\n\t\t\tgrid-template-columns: 1fr;\r\n\t\t}\r\n\r\n\t\t.image-grid {\r\n\t\t\tgap: 10px;\r\n\t\t}\r\n\t}\r\n</style>","import MiniProgramPage from 'E:/小程序转app/xcbapp/subPackages/aHouseholder/Traceability/Traceability.vue'\nwx.createPage(MiniProgramPage)"],"names":["api","uni","data"],"mappings":"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"}