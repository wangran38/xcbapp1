{"version":3,"file":"rentalStorefront.js","sources":["subPackages/shoppingPageList/rentalStorefront/rentalStorefront.vue","D:/HBuilderX/plugins/uniapp-cli-vite/uniPage:/c3ViUGFja2FnZXNcc2hvcHBpbmdQYWdlTGlzdFxyZW50YWxTdG9yZWZyb250XHJlbnRhbFN0b3JlZnJvbnQudnVl"],"sourcesContent":["<template>\r\n  <view class=\"rental-page\">\r\n    <swiper class=\"swiper\" autoplay circular>\r\n      <swiper-item v-for=\"(img, index) in shop.images\" :key=\"index\">\r\n        <image :src=\"img\" mode=\"aspectFill\" class=\"swiper-img\" />\r\n      </swiper-item>\r\n    </swiper>\r\n\r\n    <view class=\"core-info\">\r\n      <view class=\"price-section\">\r\n        <text class=\"price\">¥{{ shop.rent }}/月</text>\r\n        <text class=\"area\">{{ shop.area }}㎡</text>\r\n      </view>\r\n      <view class=\"meta-info\">\r\n        <text class=\"location\">\r\n          <uni-icons type=\"location\" size=\"16\" color=\"#666\"/>\r\n          {{ shop.address }}\r\n        </text>\r\n        <text class=\"type\">{{ shop.type }}</text>\r\n      </view>\r\n    </view>\r\n\r\n    <uni-section title=\"房源信息\" type=\"line\">\r\n      <view class=\"detail-grid\">\r\n        <view class=\"grid-item\">\r\n          <text class=\"label\">层高</text>\r\n          <text class=\"value\">{{ shop.height }}m</text>\r\n        </view>\r\n        <view class=\"grid-item\">\r\n          <text class=\"label\">面宽</text>\r\n          <text class=\"value\">{{ shop.width }}m</text>\r\n        </view>\r\n        <view class=\"grid-item\">\r\n          <text class=\"label\">物业费</text>\r\n          <text class=\"value\">¥{{ shop.managementFee }}/月</text>\r\n        </view>\r\n        <view class=\"grid-item\">\r\n          <text class=\"label\">免租期</text>\r\n          <text class=\"value\">{{ shop.freeRentPeriod }}天</text>\r\n        </view>\r\n      </view>\r\n    </uni-section>\r\n\r\n    <!-- 全景看房 -->\r\n<!--    <uni-section title=\"全景看房\" type=\"line\">\r\n      <view class=\"panorama-box\">\r\n        <image \r\n          src=\"/static/panorama_cover.jpg\" \r\n          mode=\"aspectFill\"\r\n          class=\"panorama-img\"\r\n          @click=\"handleViewPanorama\"\r\n        />\r\n        <text class=\"panorama-tip\">点击查看360°全景</text>\r\n      </view>\r\n    </uni-section> -->\r\n\r\n    <uni-section title=\"位置信息\" type=\"line\">\r\n      <map \r\n        style=\"width: 100%; height: 300rpx;\"\r\n        show-location\r\n      ></map>\r\n    </uni-section>\r\n\r\n    <view class=\"booking-form\">\r\n      <uni-section title=\"预约看房\" type=\"line\"></uni-section>\r\n      <uni-forms :modelValue=\"formData\">\r\n        <uni-forms-item label=\"您的姓名\" required label-width=\"80\">\r\n          <uni-easyinput v-model=\"formData.name\" placeholder=\"请输入姓名\" />\r\n        </uni-forms-item>\r\n        <uni-forms-item label=\"联系电话\" required label-width=\"80\">\r\n          <uni-easyinput \r\n            v-model=\"formData.phone\" \r\n            type=\"number\" \r\n            placeholder=\"请输入手机号\"\r\n          />\r\n        </uni-forms-item>\r\n        <uni-forms-item label=\"预约时间\" required label-width=\"80\">\r\n          <uni-datetime-picker\r\n            type=\"datetime\"\r\n            v-model=\"formData.time\"\r\n          />\r\n        </uni-forms-item>\r\n      </uni-forms>\r\n    </view>\r\n\r\n    <view class=\"footer-bar\">\r\n      <button class=\"contact-btn\" @tap=\"handleCall\">\r\n        <uni-icons type=\"phone\" size=\"20\" color=\"#fff\"/>\r\n        立即联系\r\n      </button>\r\n      <button class=\"booking-btn\" @tap=\"handleSubmit\">\r\n        提交预约\r\n      </button>\r\n    </view>\r\n  </view>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      shop: {\r\n        id: 'SH2023',\r\n        rent: 15000,\r\n        area: 120,\r\n        address: '岳松路88号',\r\n        type: '临街商铺',\r\n        height: 5.8,\r\n        width: 8,\r\n        managementFee: 3.5,\r\n        freeRentPeriod: 30,\r\n        images: [\r\n          'https://img1.baidu.com/it/u=819157245,3100371643&fm=253&fmt=auto&app=138&f=JPEG?w=800&h=1067',\r\n          'https://img1.baidu.com/it/u=819157245,3100371643&fm=253&fmt=auto&app=138&f=JPEG?w=800&h=1067'\r\n        ],\r\n        location: {\r\n          latitude: 39.90923,\r\n          longitude: 116.42843\r\n        }\r\n      },\r\n      formData: {\r\n        name: '',\r\n        phone: '',\r\n        time: ''\r\n      },\r\n      markers: [{\r\n        id: 1,\r\n        latitude: 39.90923,\r\n        longitude: 116.42843,\r\n        iconPath: 'https://img1.baidu.com/it/u=819157245,3100371643&fm=253&fmt=auto&app=138&f=JPEG?w=800&h=1067',\r\n        width: 30,\r\n        height: 30\r\n      }]\r\n    }\r\n  },\r\n  methods: {\r\n    handleViewPanorama() {\r\n      uni.navigateTo({\r\n        url: '/pages/panorama/index?id=SH2023'\r\n      })\r\n    },\r\n    handleCall() {\r\n      uni.makePhoneCall({\r\n        phoneNumber: '400-1234-5678'\r\n      })\r\n    },\r\n    async handleSubmit() {\r\n      // 表单验证\r\n      if (!this.formData.name || !this.formData.phone) {\r\n        return uni.showToast({ title: '请填写完整信息', icon: 'none' })\r\n      }\r\n\r\n      // 提交预约\r\n      uni.showLoading({ title: '提交中...' })\r\n      try {\r\n        await this.$http.post('/booking', {\r\n          shopId: this.shop.id,\r\n          ...this.formData\r\n        })\r\n        uni.showToast({ title: '预约成功' })\r\n        this.formData = { name: '', phone: '', time: '' }\r\n      } catch (e) {\r\n        uni.showToast({ title: '提交失败', icon: 'none' })\r\n      } finally {\r\n        uni.hideLoading()\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.rental-page {\r\n  padding-bottom: 120rpx;\r\n\r\n  .swiper {\r\n    height: 500rpx;\r\n    \r\n    &-img {\r\n      width: 100%;\r\n      height: 100%;\r\n    }\r\n  }\r\n\r\n  .core-info {\r\n    padding: 30rpx;\r\n    background: #fff;\r\n    \r\n    .price-section {\r\n      display: flex;\r\n      align-items: baseline;\r\n      margin-bottom: 20rpx;\r\n      \r\n      .price {\r\n        color: #e4393c;\r\n        font-size: 48rpx;\r\n        font-weight: bold;\r\n        margin-right: 20rpx;\r\n      }\r\n      \r\n      .area {\r\n        color: #666;\r\n        font-size: 32rpx;\r\n      }\r\n    }\r\n\r\n    .meta-info {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      color: #666;\r\n      \r\n      .location {\r\n        flex: 1;\r\n      }\r\n    }\r\n  }\r\n\r\n  .detail-grid {\r\n    display: grid;\r\n    grid-template-columns: repeat(2, 1fr);\r\n    gap: 30rpx;\r\n    padding: 20rpx;\r\n    \r\n    .grid-item {\r\n      background: #f8f8f8;\r\n      border-radius: 8rpx;\r\n      padding: 20rpx;\r\n      \r\n      .label {\r\n        color: #999;\r\n        font-size: 24rpx;\r\n        display: block;\r\n        margin-bottom: 10rpx;\r\n      }\r\n      \r\n      .value {\r\n        font-size: 32rpx;\r\n        font-weight: 500;\r\n      }\r\n    }\r\n  }\r\n\r\n  .panorama-box {\r\n    position: relative;\r\n    height: 400rpx;\r\n    border-radius: 8rpx;\r\n    overflow: hidden;\r\n    \r\n    &-img {\r\n      width: 100%;\r\n      height: 100%;\r\n    }\r\n    \r\n    &-tip {\r\n      position: absolute;\r\n      bottom: 20rpx;\r\n      right: 20rpx;\r\n      color: #fff;\r\n      background: rgba(0,0,0,0.5);\r\n      padding: 8rpx 20rpx;\r\n      border-radius: 40rpx;\r\n    }\r\n  }\r\n\r\n  .booking-form {\r\n    background: #fff;\r\n    margin-top: 30rpx;\r\n    padding: 20rpx;\r\n  }\r\n\r\n  .footer-bar {\r\n    position: fixed;\r\n    bottom: 0;\r\n    left: 0;\r\n    right: 0;\r\n    height: 100rpx;\r\n    display: flex;\r\n    background: #fff;\r\n    box-shadow: 0 -2rpx 12rpx rgba(0,0,0,0.1);\r\n    \r\n    button {\r\n      flex: 1;\r\n      height: 100%;\r\n      border-radius: 0;\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      font-size: 32rpx;\r\n      \r\n      &.contact-btn {\r\n        background: #333;\r\n        color: #fff;\r\n      }\r\n      \r\n      &.booking-btn {\r\n        background: #e4393c;\r\n        color: #fff;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import MiniProgramPage from 'E:/小程序转app/xcbapp/subPackages/shoppingPageList/rentalStorefront/rentalStorefront.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni"],"mappings":";;AAkGA,MAAK,YAAU;AAAA,EACb,OAAO;AACL,WAAO;AAAA,MACL,MAAM;AAAA,QACJ,IAAI;AAAA,QACJ,MAAM;AAAA,QACN,MAAM;AAAA,QACN,SAAS;AAAA,QACT,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,eAAe;AAAA,QACf,gBAAgB;AAAA,QAChB,QAAQ;AAAA,UACN;AAAA,UACA;AAAA,QACD;AAAA,QACD,UAAU;AAAA,UACR,UAAU;AAAA,UACV,WAAW;AAAA,QACb;AAAA,MACD;AAAA,MACD,UAAU;AAAA,QACR,MAAM;AAAA,QACN,OAAO;AAAA,QACP,MAAM;AAAA,MACP;AAAA,MACD,SAAS,CAAC;AAAA,QACR,IAAI;AAAA,QACJ,UAAU;AAAA,QACV,WAAW;AAAA,QACX,UAAU;AAAA,QACV,OAAO;AAAA,QACP,QAAQ;AAAA,OACT;AAAA,IACH;AAAA,EACD;AAAA,EACD,SAAS;AAAA,IACP,qBAAqB;AACnBA,oBAAAA,MAAI,WAAW;AAAA,QACb,KAAK;AAAA,OACN;AAAA,IACF;AAAA,IACD,aAAa;AACXA,oBAAAA,MAAI,cAAc;AAAA,QAChB,aAAa;AAAA,OACd;AAAA,IACF;AAAA,IACD,MAAM,eAAe;AAEnB,UAAI,CAAC,KAAK,SAAS,QAAQ,CAAC,KAAK,SAAS,OAAO;AAC/C,eAAOA,cAAAA,MAAI,UAAU,EAAE,OAAO,WAAW,MAAM,QAAQ;AAAA,MACzD;AAGAA,oBAAAA,MAAI,YAAY,EAAE,OAAO,UAAU;AACnC,UAAI;AACF,cAAM,KAAK,MAAM,KAAK,YAAY;AAAA,UAChC,QAAQ,KAAK,KAAK;AAAA,UAClB,GAAG,KAAK;AAAA,SACT;AACDA,sBAAAA,MAAI,UAAU,EAAE,OAAO,OAAK,CAAG;AAC/B,aAAK,WAAW,EAAE,MAAM,IAAI,OAAO,IAAI,MAAM,GAAG;AAAA,MAClD,SAAS,GAAG;AACVA,sBAAG,MAAC,UAAU,EAAE,OAAO,QAAQ,MAAM,QAAQ;AAAA,MAC/C,UAAU;AACRA,sBAAAA,MAAI,YAAY;AAAA,MAClB;AAAA,IACF;AAAA,EACF;AACF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACvKA,GAAG,WAAW,eAAe;"}