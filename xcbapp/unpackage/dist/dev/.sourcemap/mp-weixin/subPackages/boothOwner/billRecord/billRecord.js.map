{"version":3,"file":"billRecord.js","sources":["subPackages/boothOwner/billRecord/billRecord.vue","D:/HBuilderX/plugins/uniapp-cli-vite/uniPage:/c3ViUGFja2FnZXNcYm9vdGhPd25lclxiaWxsUmVjb3JkXGJpbGxSZWNvcmQudnVl"],"sourcesContent":["<template>\r\n\t<view class=\"container\">\r\n\t\t<!-- 统计与筛选 -->\r\n\t\t<view class=\"header\">\r\n\t\t\t<text class=\"total-count\">共 {{ total }} 条提现记录</text>\r\n\t\t\t<picker @change=\"statusChange\" :range=\"filterOptions\">\r\n\t\t\t\t<view class=\"filter-btn\">\r\n\t\t\t\t\t{{ currentFilter }}\r\n\t\t\t\t\t<uni-icons type=\"arrowdown\" size=\"14\" color=\"#666\" />\r\n\t\t\t\t</view>\r\n\t\t\t</picker>\r\n\t\t</view>\r\n\r\n\t\t<!-- 记录列表 -->\r\n\t\t<scroll-view scroll-y class=\"record-list\" @scrolltolower=\"loadMore\">\r\n\t\t\t<view v-for=\"(item, index) in showList\" :key=\"item.id\" class=\"record-card\">\r\n\t\t\t\t<view class=\"card-content\">\r\n\t\t\t\t\t<view class=\"left-section\">\r\n\t\t\t\t\t\t<text class=\"time\">{{ initTime(item.createtime) }}</text>\r\n\t\t\t\t\t\t<text class=\"amount\">¥{{ item.shopmoney.toFixed(2) }}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"status\" :style=\"item.status == 1 ? 'background: #FFF3E0;color: #FFA726;':'background: #E8F5E9;color: #4CAF50;'\">\r\n\t\t\t\t\t\t{{ item.status === 1 ? '申请中' : '已完成' }}\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"load-more\">\r\n\t\t\t\t{{ loadStatus === 'loading' ? '正在加载...' : '没有更多数据了' }}\r\n\t\t\t</view>\r\n\t\t</scroll-view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tapi\r\n\t} from '@/api/index.js'\r\n\timport {\r\n\t\tmyMixin\r\n\t} from '@/utils/public.js'\r\n\r\n\texport default {\r\n\t\tmixins: [myMixin],\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tshowList: [],\r\n\t\t\t\tcurrentFilter: '全部',\r\n\t\t\t\tfilterOptions: ['全部', '申请中', '已完成'],\r\n\t\t\t\tpage: 1,\r\n\t\t\t\tpageSize: 10,\r\n\t\t\t\ttotal: 0,\r\n\t\t\t\tloadStatus: 'loading',\r\n\t\t\t\tquery: {\r\n\t\t\t\t\tpage: 1,\r\n\t\t\t\t\tlimit: 10,\r\n\t\t\t\t\tstatus: 0 // 默认0加载全部\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tmethods: {\r\n\t\t\t// 初始化模拟数据\r\n\t\t\tinitMockData() {\r\n\t\t\t\tthis.loadData()\r\n\t\t\t},\r\n\r\n\r\n\t\t\t// 状态筛选\r\n\t\t\tstatusChange(e) {\r\n\t\t\t\t// 清空原有数据\r\n\t\t\t\tthis.showList = []\r\n\t\t\t\tthis.currentFilter = this.filterOptions[e.detail.value]\r\n\t\t\t\tconsole.log(e.detail.value)\r\n\t\t\t\tswitch (e.detail.value){\r\n\t\t\t\t\tcase 0:\r\n\t\t\t\t\t\tthis.query.status= 0\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 1:\r\n\t\t\t\t\t\tthis.query.status= 1\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 2:\r\n\t\t\t\t\t\tthis.query.status= 2\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tthis.query.page = 1\r\n\t\t\t\tthis.loadData()\r\n\t\t\t},\r\n\r\n\t\t\t// 加载数据\r\n\t\t\tasync loadData() {\r\n\t\t\t\tlet res = await api.shopmoneylist(this.query)\r\n\t\t\t\tif (res.code == 200) {\r\n\t\t\t\t\tthis.total=res.data.totalnum\r\n\t\t\t\t\tthis.showList = [...this.showList, ...res.data.listdata]\r\n\t\t\t\t\tthis.loadStatus = res.data.listdata.length <this.query.limit ? 'more':'loading'\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t// 加载更多\r\n\t\t\tloadMore() {\r\n\t\t\t\tif (this.loadStatus !== 'more') return\r\n\t\t\t\tthis.query.page += 1\r\n\t\t\t\tthis.loadData()\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tthis.initMockData()\r\n\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t.container {\r\n\t\tpadding: 24rpx;\r\n\t\tbackground: #f8f9fa;\r\n\t\tmin-height: 100vh;\r\n\t}\r\n\r\n\t.header {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t\tmargin-bottom: 32rpx;\r\n\t\tpadding: 0 16rpx;\r\n\r\n\t\t.total-count {\r\n\t\t\tfont-size: 28rpx;\r\n\t\t\tcolor: #666;\r\n\t\t\tfont-weight: 500;\r\n\t\t}\r\n\r\n\t\t.filter-btn {\r\n\t\t\tbackground: #fff;\r\n\t\t\tpadding: 12rpx 32rpx;\r\n\t\t\tborder-radius: 40rpx;\r\n\t\t\tfont-size: 26rpx;\r\n\t\t\tcolor: #333;\r\n\t\t\tbox-shadow: 0 4rpx 12rpx rgba(0, 0, 0, 0.06);\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tgap: 8rpx;\r\n\t\t}\r\n\t}\r\n\r\n\t.record-list {\r\n\t\theight: calc(100vh - 160rpx);\r\n\r\n\t\t.record-card {\r\n\t\t\tbackground: #fff;\r\n\t\t\tborder-radius: 16rpx;\r\n\t\t\tmargin-bottom: 24rpx;\r\n\t\t\tpadding: 32rpx;\r\n\t\t\tbox-shadow: 0 4rpx 12rpx rgba(0, 0, 0, 0.04);\r\n\t\t\ttransition: transform 0.2s;\r\n\r\n\t\t\t&:active {\r\n\t\t\t\ttransform: scale(0.98);\r\n\t\t\t}\r\n\r\n\t\t\t.card-content {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tjustify-content: space-between;\r\n\t\t\t\talign-items: center;\r\n\r\n\t\t\t\t.left-section {\r\n\t\t\t\t\t.time {\r\n\t\t\t\t\t\tdisplay: block;\r\n\t\t\t\t\t\tfont-size: 26rpx;\r\n\t\t\t\t\t\tcolor: #909399;\r\n\t\t\t\t\t\tmargin-bottom: 12rpx;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.amount {\r\n\t\t\t\t\t\tfont-size: 36rpx;\r\n\t\t\t\t\t\tfont-weight: 600;\r\n\t\t\t\t\t\tcolor: #303133;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.status {\r\n\t\t\t\t\tpadding: 8rpx 24rpx;\r\n\t\t\t\t\tborder-radius: 40rpx;\r\n\t\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\t\tfont-weight: 500;\r\n\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.load-more {\r\n\t\t\ttext-align: center;\r\n\t\t\tpadding: 24rpx;\r\n\t\t\tcolor: #999;\r\n\t\t\tfont-size: 26rpx;\r\n\t\t}\r\n\t}\r\n\r\n\t/* 暗黑模式适配 */\r\n\t// @media (prefers-color-scheme: dark) {\r\n\t// \t.container {\r\n\t// \t\t// background: #121212;\r\n\r\n\t// \t\t.header {\r\n\t// \t\t\t.filter-btn {\r\n\t// \t\t\t\tbackground: #2d2d2d;\r\n\t// \t\t\t\tcolor: #ddd;\r\n\t// \t\t\t}\r\n\t// \t\t}\r\n\r\n\t// \t\t.record-card {\r\n\t// \t\t\tbackground: #242424;\r\n\r\n\t// \t\t\t.card-content {\r\n\t// \t\t\t\t.left-section {\r\n\t// \t\t\t\t\t.time {\r\n\t// \t\t\t\t\t\tcolor: #888;\r\n\t// \t\t\t\t\t}\r\n\r\n\t// \t\t\t\t\t.amount {\r\n\t// \t\t\t\t\t\tcolor: #eee;\r\n\t// \t\t\t\t\t}\r\n\t// \t\t\t\t}\r\n\t// \t\t\t}\r\n\t// \t\t}\r\n\t// \t}\r\n\t// }\r\n</style>","import MiniProgramPage from 'E:/小程序转app/xcbapp/subPackages/boothOwner/billRecord/billRecord.vue'\nwx.createPage(MiniProgramPage)"],"names":["myMixin","uni","api"],"mappings":";;;;AAyCC,MAAK,YAAU;AAAA,EACd,QAAQ,CAACA,aAAAA,OAAO;AAAA,EAChB,OAAO;AACN,WAAO;AAAA,MACN,UAAU,CAAE;AAAA,MACZ,eAAe;AAAA,MACf,eAAe,CAAC,MAAM,OAAO,KAAK;AAAA,MAClC,MAAM;AAAA,MACN,UAAU;AAAA,MACV,OAAO;AAAA,MACP,YAAY;AAAA,MACZ,OAAO;AAAA,QACN,MAAM;AAAA,QACN,OAAO;AAAA,QACP,QAAQ;AAAA;AAAA,MACR;AAAA,IACF;AAAA,EACA;AAAA,EAED,SAAS;AAAA;AAAA,IAER,eAAe;AACd,WAAK,SAAS;AAAA,IACd;AAAA;AAAA,IAID,aAAa,GAAG;AAEf,WAAK,WAAW,CAAC;AACjB,WAAK,gBAAgB,KAAK,cAAc,EAAE,OAAO,KAAK;AACtDC,iGAAY,EAAE,OAAO,KAAK;AAC1B,cAAQ,EAAE,OAAO,OAAK;AAAA,QACrB,KAAK;AACJ,eAAK,MAAM,SAAQ;AACnB;AAAA,QACD,KAAK;AACJ,eAAK,MAAM,SAAQ;AACnB;AAAA,QACD,KAAK;AACJ,eAAK,MAAM,SAAQ;AACnB;AAAA,MACF;AACA,WAAK,MAAM,OAAO;AAClB,WAAK,SAAS;AAAA,IACd;AAAA;AAAA,IAGD,MAAM,WAAW;AAChB,UAAI,MAAM,MAAMC,UAAAA,IAAI,cAAc,KAAK,KAAK;AAC5C,UAAI,IAAI,QAAQ,KAAK;AACpB,aAAK,QAAM,IAAI,KAAK;AACpB,aAAK,WAAW,CAAC,GAAG,KAAK,UAAU,GAAG,IAAI,KAAK,QAAQ;AACvD,aAAK,aAAa,IAAI,KAAK,SAAS,SAAQ,KAAK,MAAM,QAAQ,SAAO;AAAA,MACvE;AAAA,IACA;AAAA;AAAA,IAGD,WAAW;AACV,UAAI,KAAK,eAAe;AAAQ;AAChC,WAAK,MAAM,QAAQ;AACnB,WAAK,SAAS;AAAA,IACf;AAAA,EACA;AAAA,EACD,UAAU;AACT,SAAK,aAAa;AAAA,EAEnB;AACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC5GD,GAAG,WAAW,eAAe;"}