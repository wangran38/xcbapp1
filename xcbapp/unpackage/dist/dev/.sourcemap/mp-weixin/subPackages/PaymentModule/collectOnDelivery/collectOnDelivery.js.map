{"version":3,"file":"collectOnDelivery.js","sources":["subPackages/PaymentModule/collectOnDelivery/collectOnDelivery.vue","D:/HBuilderX/plugins/uniapp-cli-vite/uniPage:/c3ViUGFja2FnZXNcUGF5bWVudE1vZHVsZVxjb2xsZWN0T25EZWxpdmVyeVxjb2xsZWN0T25EZWxpdmVyeS52dWU"],"sourcesContent":["<template>\r\n\t<view class=\"order-detail-page\">\r\n\t\t<!-- 顶部标题栏 -->\r\n\t\t<view class=\"header\">\r\n\t\t\t<view class=\"back-btn\" @click=\"goBack\"><text class=\"iconfont icon-fanhui\"></text></view>\r\n\t\t\t<text class=\"title\">订单详情</text>\r\n\t\t</view>\r\n\t\t<!-- 订单基础信息展示区 -->\r\n\t\t<view class=\"order-base-info\">\r\n\t\t\t<view>\r\n\t\t\t\t<text class=\"info-label\">订单编号：</text>\r\n\t\t\t\t<text class=\"order-id\">{{out_trade_no}}</text>\r\n\t\t\t</view>\r\n\r\n\t\t\t<view>\r\n\t\t\t\t<text class=\"info-label\">下单时间：</text>\r\n\t\t\t\t<text class=\"order-time\">{{initTime(createtime)}}</text>\r\n\t\t\t</view>\r\n\r\n\t\t</view>\r\n\t\t<!-- 菜品信息展示区 -->\r\n\t\t<view class=\"product-info\">\r\n\t\t\t<view class=\"product-list\">\r\n\t\t\t\t<view class=\"product-item\" v-for=\"(product, index) in productList\" :key=\"index\">\r\n\t\t\t\t\t<image :src=\"product.imglogo\" class=\"product-img\"></image>\r\n\t\t\t\t\t<view class=\"product-details\">\r\n\t\t\t\t\t\t<text class=\"product-name\">{{product.goodsname}}</text>\r\n\t\t\t\t\t\t<!--  <text class=\"product-quantity\">{{product.goodsnum}}×{{product.price}}</text> -->\r\n\t\t\t\t\t\t<text class=\"product-quantity\">{{product.price}}￥×{{product.goodsnum}}斤</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- 订单金额信息展示区 -->\r\n\t\t<view class=\"order-amount-info\">\r\n\t\t\t<view class=\"total-price\">\r\n\t\t\t\t<text class=\"amount-label\">菜品总价：</text>\r\n\t\t\t\t<text class=\"price-value\">{{totalPrice}} 元</text>\r\n\t\t\t</view>\r\n\r\n\t\t\t<view class=\"other-fees\">\r\n\t\t\t\t<text class=\"amount-label\">其他费用：</text>\r\n\t\t\t\t<text class=\"price-value\">{{otherFees}} 元</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"total-amount\">\r\n\t\t\t\t<text class=\"amount-label\">应付总额：</text>\r\n\t\t\t\t<text class=\"price-value amount-total\">{{totalAmount}} 元</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- 支付方式选择区 -->\r\n\t\t<view class=\"payment-methods\">\r\n\t\t\t<view class=\"payment-method-item\" v-for=\"(method, index) in paymentMethods\" :key=\"index\"\r\n\t\t\t\t@click=\"selectPaymentMethod(method)\" :class=\"{ 'active': selectedPaymentMethod === method.code }\">\r\n\t\t\t\t<uni-icons fontFamily=\"MyIconFont\" :size=\"26\" v-if=\"method.title=='积分支付'\" color=\"#ee6770;\">\r\n\t\t\t\t\t&#xe614;\r\n\t\t\t\t</uni-icons>\r\n\t\t\t\t<uni-icons fontFamily=\"MyIconFont\" :size=\"26\" v-if=\"method.title=='微信支付'\" color=\"#09bb07;\">\r\n\t\t\t\t\t&#xe600;\r\n\t\t\t\t</uni-icons>\r\n\r\n\t\t\t\t<uni-icons fontFamily=\"MyIconFont\" :size=\"26\" v-if=\"method.title=='数字人民币'\" color=\"#ffd345;\">\r\n\t\t\t\t\t&#xe78c;\r\n\t\t\t\t</uni-icons>\r\n\t\t\t\t<text class=\"payment-name\">{{method.title}}</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- 支付按钮区 -->\r\n\t\t<view class=\"payment-btn-area\">\r\n\t\t\t<button type=\"primary\" @tap=\"prepay\" :disabled=\"isTimeOut ||!selectedPaymentMethod\"\r\n\t\t\t\topen-type=\"getAuthorize\">{{isPayment?'已支付':'立即付款'}}</button>\r\n\t\t</view>\r\n\t\t<!-- 支付提示区 -->\r\n\t\t<view class=\"payment-tips\">\r\n\t\t\t<text>请在{{countDownTime}}分钟内完成支付，逾期未支付订单将自动取消哦~</text>\r\n\t\t</view>\r\n\t\t<!-- 倒计时展示区 -->\r\n\t\t<view class=\"countdown-area\">\r\n\t\t\t<text class=\"countdown-text\">剩余时间：{{formattedCountDown}}</text>\r\n\t\t</view>\r\n\r\n\t</view>\r\n</template>\r\n<script>\r\n\timport {\r\n\t\tapi\r\n\t} from '@/api';\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tisPayment: false,\r\n\t\t\t\tout_trade_no: null, // 这里先写示例编号，实际由后端生成返回\r\n\t\t\t\tcreatetime: null, // 示例下单时间，实际由后端传递\r\n\t\t\t\tproductList: [],\r\n\t\t\t\ttotalPrice: 0, // 根据菜品单价和数量计算得出，示例价格\r\n\t\t\t\totherFees: 0, // 其他费用\r\n\t\t\t\ttotalAmount: 0, // 最终价格\r\n\t\t\t\tcountDownTime: 15, // 设置倒计时时长，单位为分钟，可根据实际需求调整\r\n\t\t\t\tcountDown: null, // 存储倒计时定时器实例\r\n\t\t\t\tisTimeOut: false, // 是否超时标志\r\n\t\t\t\tformattedCountDown: '', // 格式化后的倒计时显示文本\r\n\t\t\t\tPaymentTimer: null,\r\n\t\t\t\tpaymentMethods: [{\r\n\t\t\t\t\t\ttitle: '微信支付',\r\n\t\t\t\t\t\tcode: 1\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: '积分支付',\r\n\t\t\t\t\t\tcode: 2\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: '数字人民币',\r\n\t\t\t\t\t\tcode: 3\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\tselectedPaymentMethod: 2, // 用户选择的支付方式\r\n\t\t\t\tsupportMethod: [1, 2] // 目前支付的支付方式\r\n\t\t\t};\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tthis.startCountDown();\r\n\t\t\tthis.PaymentTimer = setInterval(async () => {\r\n\t\t\t\tlet {\r\n\t\t\t\t\tdata\r\n\t\t\t\t} = await api.getorderinfo({\r\n\t\t\t\t\tout_trade_no: this.out_trade_no\r\n\t\t\t\t})\r\n\t\t\t\tif (data.is_pay == 2 && data.success_time != '') {\r\n\t\t\t\t\tclearInterval(this.PaymentTimer);\r\n\t\t\t\t\tuni.redirectTo({\r\n\t\t\t\t\t\turl: `/pages/orders/orders?orderStatus=3`\r\n\t\t\t\t\t});\r\n\t\t\t\t\t// 关闭定时器\r\n\r\n\t\t\t\t}\r\n\t\t\t}, 2500)\r\n\r\n\t\t},\r\n\t\tbeforeDestroy() {\r\n\t\t\tthis.clearCountDown();\r\n\t\t},\r\n\t\tasync onLoad(value) {\r\n\t\t\t// 加载订单号\r\n\t\t\tthis.out_trade_no = value.out_trade_no\r\n\t\t\tlet res = await api.myorders(value)\r\n\t\t\tif (res.code == 200) {\r\n\t\t\t\tlet data = res.data.listdata[0]\r\n\t\t\t\tthis.createtime = data.createtime\r\n\t\t\t\tthis.productList = data.list_arr\r\n\t\t\t\tthis.totalPrice = data.price\r\n\t\t\t\tthis.totalAmount = this.totalPrice + this.otherFees\r\n\t\t\t} else {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: res.msg || res.message,\r\n\r\n\t\t\t\t})\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\tonUnload() {\r\n\t\t\tclearInterval(this.PaymentTimer);\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t/**\r\n\t\t\t * 格式化时间\r\n\t\t\t */\r\n\t\t\tinitTime(str) {\r\n\t\t\t\tlet timestamp = new Date(str).getTime()\r\n\t\t\t\tvar time = String(timestamp).length === 10 ? new Date(parseInt(timestamp) * 1000) : new Date(parseInt(\r\n\t\t\t\t\ttimestamp))\r\n\t\t\t\tvar y = time.getFullYear() // 年\r\n\t\t\t\tvar m = time.getMonth() + 1 // 月\r\n\t\t\t\tif (m < 10) {\r\n\t\t\t\t\tm = '0' + m\r\n\t\t\t\t}\r\n\t\t\t\tvar d = time.getDate() // 日\r\n\t\t\t\tif (d < 10) {\r\n\t\t\t\t\td = '0' + d\r\n\t\t\t\t}\r\n\t\t\t\tvar h = time.getHours() // 时\r\n\t\t\t\tif (h < 10) {\r\n\t\t\t\t\th = '0' + h\r\n\t\t\t\t}\r\n\t\t\t\tvar mm = time.getMinutes() // 分\r\n\t\t\t\tif (mm < 10) {\r\n\t\t\t\t\tmm = '0' + mm\r\n\t\t\t\t}\r\n\t\t\t\tvar s = time.getSeconds() // 秒\r\n\t\t\t\tif (s < 10) {\r\n\t\t\t\t\ts = '0' + s\r\n\t\t\t\t}\r\n\t\t\t\tvar timeStr = y + '-' + m + '-' + d + ' ' + h + ':' + mm + ':' + s\r\n\t\t\t\treturn timeStr\r\n\t\t\t},\r\n\t\t\tgoBack() {\r\n\t\t\t\t// 实现返回上一页的逻辑，例如在uni-app中可以使用uni.navigateBack()\r\n\t\t\t\tuni.navigateBack();\r\n\t\t\t},\r\n\r\n\t\t\t// 选择支付方式\r\n\t\t\tselectPaymentMethod(method) {\r\n\t\t\t\tthis.selectedPaymentMethod = method.code;\r\n\t\t\t},\r\n\r\n\t\t\t// 调用微信支付方法\r\n\t\t\tasync startPayment(out_trade_no) {\r\n\t\t\t\t// 获取微信支付需要的参数\r\n\t\t\t\tlet data = await api.wechatpay({\r\n\t\t\t\t\tout_trade_no: this.out_trade_no\r\n\t\t\t\t})\r\n\t\t\t\tif (data.code == 200) {\r\n\t\t\t\t\tdata.data.timeStamp += ''\r\n\t\t\t\t\tuni.requestPayment({\r\n\t\t\t\t\t\t...data.data,\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\t} else if (data.code == 202) { // 未绑定uid就自动绑定并重新支付\r\n\t\t\t\t\tuni.login({\r\n\t\t\t\t\t\tprovider: 'true',\r\n\t\t\t\t\t\tsuccess: async res => {\r\n\t\t\t\t\t\t\t// 绑定openid\r\n\t\t\t\t\t\t\tlet idReseponse = await api.bindingOpenid({\r\n\t\t\t\t\t\t\t\tcode: res.code\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\tconsole.log(idReseponse, data)\r\n\t\t\t\t\t\t\tif (idReseponse.code == 200) {\r\n\t\t\t\t\t\t\t\tlet data = await api.wechatpay({\r\n\t\t\t\t\t\t\t\t\tout_trade_no: this.out_trade_no\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\tif (data.code == 200) {\r\n\t\t\t\t\t\t\t\t\tdata.data.timeStamp += ''\r\n\t\t\t\t\t\t\t\t\t// 重新支付\r\n\t\t\t\t\t\t\t\t\tuni.requestPayment({\r\n\t\t\t\t\t\t\t\t\t\t...data.data,\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\ttitle: data.message,\r\n\t\t\t\t\t\t\t\t\t\ticon: 'error'\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: idReseponse.message,\r\n\t\t\t\t\t\t\t\t\ticon: 'error'\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: data.msg || data.message,\r\n\t\t\t\t\t\ticon: 'error'\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t// 支付\r\n\t\t\tasync prepay() {\r\n\t\t\t\tif (this.supportMethod.includes(this.selectedPaymentMethod)) {\r\n\t\t\t\t\tswitch (this.selectedPaymentMethod) {\r\n\t\t\t\t\t\t// 微信支付\r\n\t\t\t\t\t\tcase 1:\r\n\t\t\t\t\t\t\tthis.startPayment(this.out_trade_no)\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\t// 积分支付\r\n\t\t\t\t\t\tcase 2:\r\n\t\t\t\t\t\t\t//#ifdef  MP-WEIXIN\r\n\t\t\t\t\t\t\t/**\r\n\t\t\t\t\t\t\t * \r\n\t\t\t\t\t\t\t * 用户订阅消息\r\n\t\t\t\t\t\t\t */\r\n\t\t\t\t\t\t\tuni.getSetting({\r\n\t\t\t\t\t\t\t\twithSubscriptions: true, // 同时获取用户的订阅消息状态\r\n\t\t\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\t\t\tif (!res.subscriptionsSetting.mainSwitch) {\r\n\t\t\t\t\t\t\t\t\t\t// 开启订阅消息\r\n\t\t\t\t\t\t\t\t\t\t// uni.requestSubscribeMessage({\r\n\t\t\t\t\t\t\t\t\t\t// \ttmplIds: [\r\n\t\t\t\t\t\t\t\t\t\t// \t\t'PN8Vc4Z5rWUHi05A6F-J73TkkpF4iHxkEtA6bIoFUPw'],\r\n\t\t\t\t\t\t\t\t\t\t// \tsuccess: (res) => {\r\n\t\t\t\t\t\t\t\t\t\t// \t\tif (res[\r\n\t\t\t\t\t\t\t\t\t\t// \t\t\t\t'PN8Vc4Z5rWUHi05A6F-J73TkkpF4iHxkEtA6bIoFUPw'] ==\r\n\t\t\t\t\t\t\t\t\t\t// \t\t\t'accept') {\r\n\t\t\t\t\t\t\t\t\t\t// \t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t// \t\t}\r\n\t\t\t\t\t\t\t\t\t\t// \t},\r\n\t\t\t\t\t\t\t\t\t\t// \tfail: (err) => {\r\n\t\t\t\t\t\t\t\t\t\t// \t\tconsole.log(err)\r\n\t\t\t\t\t\t\t\t\t\t// \t},\r\n\t\t\t\t\t\t\t\t\t\t// })\r\n\t\t\t\t\t\t\t\t\t\t// 如果没有订阅就弹窗提醒用户订阅\r\n\t\t\t\t\t\t\t\t\t\tuni.openSetting({\r\n\t\t\t\t\t\t\t\t\t\t\twithSubscriptions: true, // 这里设置为true，以便获取订阅消息的设置状态\r\n\t\t\t\t\t\t\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tconsole.log(res.subscriptionsSetting);\r\n\t\t\t\t\t\t\t\t\t\t\t\t// 根据res.subscriptionsSetting判断用户是否已经开启了订阅消息\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tconsole.log(\"用户已订阅\")\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t//#endif\r\n\r\n\r\n\t\t\t\t\t\t\tlet response = await api.payscore({\r\n\t\t\t\t\t\t\t\tout_trade_no: this.out_trade_no\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\tconsole.log(response)\r\n\t\t\t\t\t\t\tif (response.code == 200) {\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: \"支付成功\",\r\n\t\t\t\t\t\t\t\t\ticon: 'success'\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t// 设置支付状态，为true\r\n\t\t\t\t\t\t\t\tthis.isPayment = true\r\n\t\t\t\t\t\t\t\tthis.clearCountDown() // 清空定时器\r\n\r\n\t\t\t\t\t\t\t\tclearInterval(this.PaymentTimer);\r\n\t\t\t\t\t\t\t\tuni.redirectTo({\r\n\t\t\t\t\t\t\t\t\turl: `/pages/orders/orders?orderStatus=3`\r\n\t\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: response.msg || response.message,\r\n\t\t\t\t\t\t\t\t\ticon: 'error'\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 3:\r\n\t\t\t\t\t\t\tconsole.log(\"数字人民币\")\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '暂未开通' + this.paymentMethods[this.selectedPaymentMethod - 1].title,\r\n\t\t\t\t\t\ticon: 'error'\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\t\t\tstartCountDown() {\r\n\t\t\t\tlet totalSeconds = this.countDownTime * 60;\r\n\t\t\t\tthis.countDown = setInterval(async () => {\r\n\t\t\t\t\tif (totalSeconds <= 0) {\r\n\t\t\t\t\t\tthis.isTimeOut = true;\r\n\t\t\t\t\t\tthis.clearCountDown();\r\n\t\t\t\t\t\tconsole.log('订单超时，已自动取消');\r\n\t\t\t\t\t\t// 这里可以添加实际取消订单的业务逻辑，比如向后端发送请求告知订单取消等\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconst minutes = Math.floor(totalSeconds / 60);\r\n\t\t\t\t\tconst seconds = totalSeconds % 60;\r\n\t\t\t\t\tthis.formattedCountDown = `${this.padZero(minutes)}:${this.padZero(seconds)}`;\r\n\t\t\t\t\ttotalSeconds--;\r\n\t\t\t\t}, 1000);\r\n\t\t\t},\r\n\t\t\t// 清空定时器\r\n\t\t\tclearCountDown() {\r\n\t\t\t\tif (this.countDown) {\r\n\t\t\t\t\tclearInterval(this.countDown);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tpadZero(num) {\r\n\t\t\t\treturn num < 10 ? `0${num}` : num.toString();\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n</script>\r\n\r\n<style>\r\n\t@font-face {\r\n\t\tfont-family: MyIconFont;\r\n\t\tsrc: url('../../../static/paymentMethodIcon/iconfont.ttf');\r\n\t}\r\n\r\n\t.iconfont {\r\n\t\tfont-family: \"MyIconFont\";\r\n\t\tfont-size: 16px;\r\n\t\tfont-style: normal;\r\n\t\t-webkit-font-smoothing: antialiased;\r\n\t\t-moz-osx-font-smoothing: grayscale;\r\n\t}\r\n\r\n\t.order-detail-page {\r\n\t\tbackground-color: #f8f8f8;\r\n\t\tpadding: 0;\r\n\t\tmargin: 0;\r\n\t\tmin-height: 100vh;\r\n\t}\r\n\r\n\t.header {\r\n\t\tbackground-color: #007bff;\r\n\t\tcolor: white;\r\n\t\tpadding: 20rpx;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t.back-btn {\r\n\t\ttext-decoration: none;\r\n\t\tcolor: white;\r\n\t\tmargin-right: 20rpx;\r\n\t}\r\n\r\n\t.title {\r\n\t\tfont-size: 40rpx;\r\n\t\tmargin: 0;\r\n\t}\r\n\r\n\t.order-base-info {\r\n\t\tbackground-color: white;\r\n\t\tpadding: 40rpx;\r\n\t\tmargin: 40rpx;\r\n\t\tborder-radius: 10rpx;\r\n\t\tbox-shadow: 0 0 10rpx rgba(0, 0, 0, 0.1);\r\n\r\n\t}\r\n\r\n\t.info-label {\r\n\t\tfont-size: 32rpx;\r\n\t\tcolor: #666;\r\n\t\tmargin-right: 20rpx;\r\n\t}\r\n\r\n\t.order-id {\r\n\t\tfont-size: 32rpx;\r\n\t\tfont-weight: bold;\r\n\t\tcolor: #333;\r\n\t}\r\n\r\n\t.order-time {\r\n\t\tfont-size: 32rpx;\r\n\t\tcolor: #333;\r\n\t}\r\n\r\n\t.product-info {\r\n\t\tbackground-color: white;\r\n\t\tpadding: 40rpx;\r\n\t\tmargin: 40rpx;\r\n\t\tborder-radius: 10rpx;\r\n\t\tbox-shadow: 0 0 10rpx rgba(0, 0, 0, 0.1);\r\n\t}\r\n\r\n\t.product-list {\r\n\t\tmargin-bottom: 40rpx;\r\n\t}\r\n\r\n\t.product-item {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tmargin-bottom: 20rpx;\r\n\t}\r\n\r\n\t.product-img {\r\n\t\twidth: 160rpx;\r\n\t\theight: 160rpx;\r\n\t\tborder-radius: 10rpx;\r\n\t\tmargin-right: 20rpx;\r\n\t}\r\n\r\n\t.product-details {\r\n\t\tflex: 1;\r\n\t}\r\n\r\n\t.product-name {\r\n\t\tfont-size: 32rpx;\r\n\t\tmargin: 0;\r\n\t}\r\n\r\n\t.product-spec {\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #666;\r\n\t\tmargin: 0;\r\n\t}\r\n\r\n\t.product-quantity {\r\n\t\tfont-weight: bold;\r\n\t\tfont-size: 28rpx;\r\n\t}\r\n\r\n\t.order-amount-info {\r\n\t\tbackground-color: white;\r\n\t\tpadding: 40rpx;\r\n\t\tmargin: 40rpx;\r\n\t\tborder-radius: 10rpx;\r\n\t\tbox-shadow: 0 0 10rpx rgba(0, 0, 0, 0.1);\r\n\t}\r\n\r\n\t.order-amount-info div {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\tmargin-bottom: 20rpx;\r\n\t}\r\n\r\n\t.amount-label {\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #666;\r\n\t}\r\n\r\n\t.price-value {\r\n\t\tfont-weight: bold;\r\n\t\tfont-size: 32rpx;\r\n\t}\r\n\r\n\t.amount-total {\r\n\t\tcolor: red;\r\n\t\tfont-size: 40rpx;\r\n\t}\r\n\r\n\t.payment-methods {\r\n\t\tbackground-color: white;\r\n\t\tpadding: 40rpx;\r\n\t\tmargin: 40rpx;\r\n\t\tborder-radius: 10rpx;\r\n\t\tbox-shadow: 0 0 10rpx rgba(0, 0, 0, 0.1);\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-around;\r\n\t}\r\n\r\n\t.payment-method-item {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t\tcursor: pointer;\r\n\t\tpadding: 20rpx;\r\n\t}\r\n\r\n\t.payment-method-item.active {\r\n\t\tborder: 4rpx solid #007bff;\r\n\t\tborder-radius: 10rpx;\r\n\t}\r\n\r\n\t.payment-icon {\r\n\t\twidth: 80rpx;\r\n\t\theight: 80rpx;\r\n\t\tmargin-bottom: 10rpx;\r\n\t}\r\n\r\n\t.payment-name {\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #333;\r\n\t}\r\n\r\n\r\n\t.payment-btn-area {\r\n\t\tmargin: 40rpx;\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t.payment-tips {\r\n\t\tbackground-color: white;\r\n\t\tpadding: 40rpx;\r\n\t\tmargin: 40rpx;\r\n\t\tborder-radius: 10rpx;\r\n\t\tbox-shadow: 0 0 10rpx rgba(0, 0, 0, 0.1);\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t.countdown-area {\r\n\t\tbackground-color: white;\r\n\t\tpadding: 40rpx;\r\n\t\tmargin: 40rpx;\r\n\t\tborder-radius: 10rpx;\r\n\t\tbox-shadow: 0 0 10rpx rgba(0, 0, 0, 0.1);\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t.countdown-text {\r\n\t\tfont-size: 32rpx;\r\n\t\tcolor: #333;\r\n\t}\r\n\r\n\t.shipping-info {\r\n\t\tbackground-color: white;\r\n\t\tpadding: 40rpx;\r\n\t\tmargin: 40rpx;\r\n\t\tborder-radius: 10rpx;\r\n\t\tbox-shadow: 0 0 10rpx rgba(0, 0, 0, 0.1);\r\n\t}\r\n\r\n\t.shipping-address {\r\n\t\tfont-size: 32rpx;\r\n\t\tcolor: #333;\r\n\t\tmargin-bottom: 20rpx;\r\n\t}\r\n\r\n\t.receiver {\r\n\t\tfont-size: 32rpx;\r\n\t\tcolor: #333;\r\n\t\tmargin-bottom: 20rpx;\r\n\t}\r\n\r\n\t.phone {\r\n\t\tfont-size: 32rpx;\r\n\t\tcolor: #333;\r\n\t}\r\n</style>","import MiniProgramPage from 'E:/小程序转app/xcbapp/subPackages/PaymentModule/collectOnDelivery/collectOnDelivery.vue'\nwx.createPage(MiniProgramPage)"],"names":["api","uni","data","res"],"mappings":"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"}