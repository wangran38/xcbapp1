{"version":3,"file":"Settrecords.js","sources":["pages/Settrecords/Settrecords.vue","D:/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvU2V0dHJlY29yZHMvU2V0dHJlY29yZHMudnVl"],"sourcesContent":["<template>\n\t<view class=\"me-container\">\n\t\t<!-- 页面标题 -->\n\t\t<view class=\"page-title\">积分结算记录</view>\n\t\t\n\t\t<!-- 表格容器 -->\n\t\t<view class=\"table-container\">\n\t\t\t<!-- 表头 -->\n\t\t\t<view class=\"table-header\">\n\t\t\t\t<view class=\"table-col time-col\">时间</view>\n\t\t\t\t<view class=\"table-col amount-col\">金额</view>\n\t\t\t\t<view class=\"table-col status-col\">状态</view>\n\t\t\t</view>\n\t\t\t\n\t\t\t<!-- 内容滚动区 -->\n\t\t\t<scroll-view \n\t\t\t\tclass=\"table-body\" \n\t\t\t\tscroll-y=\"true\" \n\t\t\t\t@scrolltolower=\"handleScrollToLower\"\n\t\t\t\t:style=\"{ height: 'calc(100vh - 200rpx)'}\"\n\t\t\t>\n\t\t\t\t<!-- 加载状态 -->\n\t\t\t\t<view v-if=\"isLoading\" class=\"loading\">\n\t\t\t\t\t<view class=\"spinner\"></view>\n\t\t\t\t\t<text>加载中...</text>\n\t\t\t\t</view>\n\t\t\t\t\n\t\t\t\t<!-- 空状态 -->\n\t\t\t\t<view v-if=\"!isLoading && pageData.length === 0\" class=\"empty-state\">\n\t\t\t\t\t<image src=\"/static/empty.png\" mode=\"widthFix\" class=\"empty-img\"></image>\n\t\t\t\t\t<text>暂无结算记录</text>\n\t\t\t\t</view>\n\t\t\t\t\n\t\t\t\t<!-- 数据列表 -->\n\t\t\t\t<view class=\"table-row\" v-for=\"(item, index) in pageData\" :key=\"item.id\">\n\t\t\t\t\t<view class=\"table-col time-col\">\n\t\t\t\t\t\t<text class=\"date\">{{ formatDate(item.Created).split(' ')[0] }}</text>\n\t\t\t\t\t\t<text class=\"time\">{{ formatDate(item.Created).split(' ')[1] }}</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"table-col amount-col\">\n\t\t\t\t\t\t<text class=\"amount\">{{ item.shopscore/10 }}</text>\n\t\t\t\t\t\t<text class=\"unit\">元</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"table-col status-col\">\n\t\t\t\t\t\t<view class=\"status-tag\" :class=\"item.status === 1 ? 'pending' : 'completed'\">\n\t\t\t\t\t\t\t{{ getStatusLabel(item.status) }}\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t\n\t\t\t\t<!-- 加载更多 -->\n\t\t\t\t<view v-if=\"hasMore\" class=\"load-more\">\n\t\t\t\t\t<view class=\"spinner small\"></view>\n\t\t\t\t\t<text>加载更多...</text>\n\t\t\t\t</view>\n\t\t\t</scroll-view>\n\t\t</view>\n\t</view>\n</template>\n\n<script>\n\timport {api} from '@/api';\n\timport usePage from '@/hooks/usePage';\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tpageData: [],\r\n\t\t\t\tisLoading:false\n\t\t\t}\n\t\t},\n\t\tonShow() {\n\t\t\tthis.reloadData()\n\t\t},\n\t\tmixins: [usePage],\n\t\tmethods: {\n\t\t\tasync fetchData(params) {\n\t\t\t\tconst response = await api.shopsorcelist(params)\n\t\t\t\treturn response.data\t\t\n\t\t\t},\n\t\t\tformatDate(dateString) {\n\t\t\t  return dateString.replace(/T/, ' ').replace(/(\\+\\d{2}:\\d{2})/, '');\n\t\t\t},\n\t\t\tgetStatusLabel(status) {\n\t\t\t        switch (status) {\n\t\t\t            case 1:\n\t\t\t                return '申请中';\n\t\t\t            case 2:\n\t\t\t                return '已结算';\n\t\t\t            default:\n\t\t\t                return '';\n\t\t\t        }\n\t\t\t    },\n\t\t}\n\t}\n</script>\n\n<style>\n\t/* 基础样式 */\n\t.me-container {\n\t\twidth: 100%;\n\t\tmin-height: 100vh;\n\t\tbackground-color: #f7f8fa;\n\t\tpadding: 0 20rpx;\n\t\tbox-sizing: border-box;\n\t}\n\t\n\t/* 页面标题 */\n\t.page-title {\n\t\theight: 100rpx;\n\t\tline-height: 100rpx;\n\t\ttext-align: center;\n\t\tfont-size: 36rpx;\n\t\tcolor: #333;\n\t\tfont-weight: 500;\n\t\tborder-bottom: 1px solid #eee;\n\t\tbackground-color: #fff;\n\t\tmargin-bottom: 20rpx;\n\t}\n\t\n\t/* 表格容器 */\n\t.table-container {\n\t\twidth: 100%;\n\t\tbackground-color: #fff;\n\t\tborder-radius: 12rpx;\n\t\toverflow: hidden;\n\t\tbox-shadow: 0 2rpx 10rpx rgba(0,0,0,0.03);\n\t}\n\t\n\t/* 表头样式 */\n\t.table-header {\n\t\tdisplay: flex;\n\t\theight: 80rpx;\n\t\tbackground-color: #fafafa;\n\t\tborder-bottom: 1px solid #eee;\n\t}\n\t\n\t/* 列样式（核心对齐控制） */\n\t.table-col {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tfont-size: 28rpx;\n\t}\n\t\n\t/* 固定列宽比例，确保表头与内容对齐 */\n\t.time-col {\n\t\twidth: 40%;\n\t\tpadding: 0 20rpx;\n\t\tjustify-content: flex-start !important; /* 时间列左对齐 */\n\t}\n\t\n\t.amount-col {\n\t\twidth: 30%;\n\t\tjustify-content: center !important; /* 金额列居中 */\n\t}\n\t\n\t.status-col {\n\t\twidth: 30%;\n\t\tjustify-content: center !important; /* 状态列居中 */\n\t}\n\t\n\t/* 表头文字样式 */\n\t.table-header .table-col {\n\t\tcolor: #666;\n\t\tfont-weight: 500;\n\t}\n\t\n\t/* 表格内容区 */\n\t.table-body {\n\t\twidth: 100%;\n\t}\n\t\n\t/* 数据行样式 */\n\t.table-row {\n\t\tdisplay: flex;\n\t\theight: 120rpx;\n\t\tborder-bottom: 1px solid #f5f5f5;\n\t\ttransition: background-color 0.2s;\n\t}\n\t\n\t.table-row:last-child {\n\t\tborder-bottom: none;\n\t}\n\t\n\t.table-row:active {\n\t\tbackground-color: #f9f9f9;\n\t}\n\t\n\t/* 时间列内容样式 */\n\t.time-col .date {\n\t\tcolor: #333;\n\t\tfont-size: 28rpx;\n\t\tdisplay: block;\n\t}\n\t\n\t.time-col .time {\n\t\tcolor: #999;\n\t\tfont-size: 24rpx;\n\t\tdisplay: block;\n\t}\n\t\n\t/* 金额列内容样式 */\n\t.amount-col .amount {\n\t\tcolor: #e53e3e;\n\t\tfont-size: 30rpx;\n\t\tfont-weight: 500;\n\t}\n\t\n\t.amount-col .unit {\n\t\tcolor: #666;\n\t\tfont-size: 26rpx;\n\t\tmargin-left: 5rpx;\n\t}\n\t\n\t/* 状态标签样式 */\n\t.status-tag {\n\t\tpadding: 8rpx 24rpx;\n\t\tborder-radius: 20rpx;\n\t\tfont-size: 26rpx;\n\t}\n\t\n\t.status-tag.pending {\n\t\tbackground-color: #fff1f0;\n\t\tcolor: #cf1322;\n\t}\n\t\n\t.status-tag.completed {\n\t\tbackground-color: #f0fff4;\n\t\tcolor: #137333;\n\t}\n\t\n\t/* 加载状态 */\n\t.loading, .load-more {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tpadding: 40rpx 0;\n\t\tcolor: #999;\n\t\tfont-size: 26rpx;\n\t}\n\t\n\t.spinner {\n\t\twidth: 28rpx;\n\t\theight: 28rpx;\n\t\tborder: 3rpx solid rgba(0,0,0,0.1);\n\t\tborder-radius: 50%;\n\t\tborder-top-color: #666;\n\t\tanimation: spin 1s linear infinite;\n\t\tmargin-right: 15rpx;\n\t}\n\t\n\t.spinner.small {\n\t\twidth: 24rpx;\n\t\theight: 24rpx;\n\t}\n\t\n\t/* 空状态 */\n\t.empty-state {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tpadding: 150rpx 0;\n\t\tcolor: #999;\n\t\tfont-size: 28rpx;\n\t}\n\t\n\t.empty-img {\n\t\twidth: 180rpx;\n\t\theight: 180rpx;\n\t\tmargin-bottom: 30rpx;\n\t\topacity: 0.5;\n\t}\n\t\n\t/* 动画 */\n\t@keyframes spin {\n\t\tto { transform: rotate(360deg); }\n\t}\n</style>","import MiniProgramPage from 'E:/小程序转app/xcbapp/pages/Settrecords/Settrecords.vue'\nwx.createPage(MiniProgramPage)"],"names":["usePage","api"],"mappings":";;;;;AA+DC,MAAK,YAAU;AAAA,EACd,OAAO;AACN,WAAO;AAAA,MACN,UAAU,CAAE;AAAA,MACZ,WAAU;AAAA,IACX;AAAA,EACA;AAAA,EACD,SAAS;AACR,SAAK,WAAW;AAAA,EAChB;AAAA,EACD,QAAQ,CAACA,cAAAA,OAAO;AAAA,EAChB,SAAS;AAAA,IACR,MAAM,UAAU,QAAQ;AACvB,YAAM,WAAW,MAAMC,cAAI,cAAc,MAAM;AAC/C,aAAO,SAAS;AAAA,IAChB;AAAA,IACD,WAAW,YAAY;AACrB,aAAO,WAAW,QAAQ,KAAK,GAAG,EAAE,QAAQ,mBAAmB,EAAE;AAAA,IAClE;AAAA,IACD,eAAe,QAAQ;AACf,cAAQ,QAAM;AAAA,QACV,KAAK;AACD,iBAAO;AAAA,QACX,KAAK;AACD,iBAAO;AAAA,QACX;AACI,iBAAO;AAAA,MACf;AAAA,IACH;AAAA,EACN;AACD;;;;;;;;;;;;;;;;;;;;;;;;;AC5FD,GAAG,WAAW,eAAe;"}