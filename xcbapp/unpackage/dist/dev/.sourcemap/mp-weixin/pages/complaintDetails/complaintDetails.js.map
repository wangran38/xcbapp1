{"version":3,"file":"complaintDetails.js","sources":["pages/complaintDetails/complaintDetails.vue","D:/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvY29tcGxhaW50RGV0YWlscy9jb21wbGFpbnREZXRhaWxzLnZ1ZQ"],"sourcesContent":["<template>\r\n\t<view class=\"detail-container\">\r\n\r\n\t\t<!-- 内容区域 -->\r\n\t\t<scroll-view scroll-y class=\"content-wrapper\">\r\n\t\t\t<!-- 状态信息 -->\r\n\t\t\t<view class=\"status-box\">\r\n\t\t\t\t<view class=\"status-tag\" :style=\"[tagStyle(detail.status-1)]\">{{ statusTypes[detail.status-1] }}</view>\r\n\t\t\t\t<view class=\"status-info\">\r\n\t\t\t\t\t<text class=\"info-item\">提交时间：{{ initTime(detail.createtime) }}</text>\r\n\t\t\t\t\t<text class=\"info-item\">联系电话：{{ detail.phone }}</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<!-- 投诉内容 -->\r\n\t\t\t<view class=\"content-box\">\r\n\t\t\t\t<view class=\"section-title\">投诉内容</view>\r\n\t\t\t\t<view class=\"content-text\">{{ detail.content }}</view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<!-- 图片凭证 -->\r\n\t\t\t<view class=\"image-box\">\r\n\t\t\t\t<view class=\"section-title\">上传凭证（{{ detail.complaint_img.length }}张）</view>\r\n\t\t\t\t\r\n\t\t\t\t<view class=\"image-list\">\r\n\t\t\t\t\t<view v-for=\"(img, index) in detail.complaint_img\" :key=\"index\" class=\"image-item\"\r\n\t\t\t\t\t\t@click=\"previewImage(index)\">\r\n\t\t\t\t\t\t<image :src=\"img\" mode=\"aspectFill\" class=\"image\" />\r\n\t\t\t\t\t\t<view class=\"image-overlay\" />\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<text v-if=\"detail.complaint_img.length<=0\" style=\"color: gray; font-size: 23rpx;\">暂无图片</text>\r\n\t\t\t</view>\r\n\r\n\t\t</scroll-view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tmyMixin\r\n\t} from '@/utils/public.js'\r\n\texport default {\r\n\t\tmixins: [myMixin],\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tstatusTypes: ['处理中', '已受理', '调解中', '已完结'],\r\n\t\t\t\tdetail: {\r\n\t\t\t\t\tid: \"TS20231015001\",\r\n\t\t\t\t\tstatus: 0, // 0-待处理 1-处理中 2-已完成   \r\n\t\t\t\t\tcreateTime: \"2023-10-15 14:30:45\",\r\n\t\t\t\t\tphone: \"138****1234\",\r\n\t\t\t\t\tcontent: \"购买的菜品质量不行，还有商家的态度极差\",\r\n\t\t\t\t\timages: []\r\n\t\t\t\t},\r\n\t\t\t\tprocessSteps: [{\r\n\t\t\t\t\t\ttitle: \"处理中\",\r\n\t\t\t\t\t\ttime: \"2023-10-15 14:30\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: \"已受理\",\r\n\t\t\t\t\t\ttime: \"2023-10-15 15:15\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: \"调解中\",\r\n\t\t\t\t\t\ttime: \"2023-10-16 09:30\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: '已完结',\r\n\t\t\t\t\t\ttime: \"2023-10-17 14:00\"\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\tstatusColors: ['#FF9F43', '#2E86DE', '#10AC84', '#8395A7'],\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad({\r\n\t\t\tstrJsonData\r\n\t\t}) {\r\n\t\t\tif (strJsonData) {\r\n\t\t\t\tlet data = JSON.parse(strJsonData)\r\n\t\t\t\t// 处理图片\r\n\t\t\t\tif (data.complaint_img) {\r\n\t\t\t\t\tdata.complaint_img = data.complaint_img.split(',')\r\n\t\t\t\t}\r\n\t\t\t\tthis.detail = data\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t// 标签样式\r\n\t\t\ttagStyle(status) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tbackground: this.statusColors[status] + '15',\r\n\t\t\t\t\tColor: this.statusColors[status]\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tgoBack() {\r\n\t\t\t\tuni.navigateBack()\r\n\t\t\t},\r\n\t\t\tpreviewImage(index) {\r\n\t\t\t\tuni.previewImage({\r\n\t\t\t\t\tcurrent: index,\r\n\t\t\t\t\turls: this.detail.complaint_img\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t.detail-container {\r\n\t\tbackground: #f8f9fa;\r\n\t\tmin-height: 100vh;\r\n\t}\r\n\r\n\t.nav-bar {\r\n\t\theight: 88rpx;\r\n\t\tpadding: 0 30rpx;\r\n\t\tbackground: #fff;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: space-between;\r\n\t\tborder-bottom: 1rpx solid #eee;\r\n\r\n\t\t.title {\r\n\t\t\tfont-size: 34rpx;\r\n\t\t\tfont-weight: 500;\r\n\t\t\tcolor: #333;\r\n\t\t}\r\n\r\n\t\t.placeholder {\r\n\t\t\twidth: 44rpx;\r\n\t\t}\r\n\t}\r\n\r\n\t.content-wrapper {\r\n\t\tpadding: 30rpx;\r\n\t\theight: calc(100vh - 88rpx);\r\n\t}\r\n\r\n\t.status-box {\r\n\t\tbackground: #fff;\r\n\t\tborder-radius: 16rpx;\r\n\t\tpadding: 30rpx;\r\n\t\tmargin-bottom: 30rpx;\r\n\t\tborder-left: 8rpx solid orange;\r\n\r\n\t\t&.status-pending {\r\n\t\t\tborder-color: #FFB020;\r\n\r\n\t\t\t.status-tag {\r\n\t\t\t\tbackground: orange;\r\n\t\t\t\tcolor: #FFB020;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t&.status-processing {\r\n\t\t\tborder-color: #007AFF;\r\n\r\n\t\t\t.status-tag {\r\n\t\t\t\tbackground: #E6F3FF;\r\n\t\t\t\tcolor: #007AFF;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t&.status-completed {\r\n\t\t\tborder-color: #00C853;\r\n\r\n\t\t\t.status-tag {\r\n\t\t\t\tbackground: #E6F7E6;\r\n\t\t\t\tcolor: #00C853;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.status-tag {\r\n\t\t\tdisplay: inline-block;\r\n\t\t\tpadding: 8rpx 20rpx;\r\n\t\t\tborder-radius: 8rpx;\r\n\t\t\tfont-size: 24rpx;\r\n\t\t\tmargin-bottom: 20rpx;\r\n\t\t}\r\n\r\n\t\t.status-info {\r\n\t\t\tfont-size: 28rpx;\r\n\t\t\tcolor: #666;\r\n\r\n\t\t\t.info-item {\r\n\t\t\t\tdisplay: block;\r\n\t\t\t\tmargin: 12rpx 0;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t.section-title {\r\n\t\tfont-size: 30rpx;\r\n\t\tfont-weight: 500;\r\n\t\tcolor: #333;\r\n\t\tmargin-bottom: 30rpx;\r\n\t}\r\n\r\n\t.content-box {\r\n\t\tbackground: #fff;\r\n\t\tborder-radius: 16rpx;\r\n\t\tpadding: 30rpx;\r\n\t\tmargin-bottom: 30rpx;\r\n\r\n\t\t.content-text {\r\n\t\t\tfont-size: 28rpx;\r\n\t\t\tcolor: #666;\r\n\t\t\tline-height: 1.6;\r\n\t\t}\r\n\t}\r\n\r\n\t.image-box {\r\n\t\tbackground: #fff;\r\n\t\tborder-radius: 16rpx;\r\n\t\tpadding: 30rpx;\r\n\t\tmargin-bottom: 30rpx;\r\n\r\n\t\t.image-list {\r\n\t\t\tdisplay: grid;\r\n\t\t\tgrid-template-columns: repeat(3, 1fr);\r\n\t\t\tgap: 20rpx;\r\n\r\n\t\t\t.image-item {\r\n\t\t\t\tposition: relative;\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\theight: 0;\r\n\t\t\t\tpadding-bottom: 100%;\r\n\t\t\t\tborder-radius: 8rpx;\r\n\t\t\t\toverflow: hidden;\r\n\r\n\t\t\t\t.image {\r\n\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\theight: 100%;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.image-overlay {\r\n\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\theight: 100%;\r\n\t\t\t\t\tbackground: rgba(0, 0, 0, 0.02);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t.process-box {\r\n\t\tbackground: #fff;\r\n\t\tborder-radius: 16rpx;\r\n\t\tpadding: 30rpx;\r\n\r\n\t\t.timeline {\r\n\t\t\tposition: relative;\r\n\t\t\tpadding-left: 40rpx;\r\n\r\n\t\t\t&::before {\r\n\t\t\t\tcontent: '';\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\tleft: 14rpx;\r\n\t\t\t\ttop: 24rpx;\r\n\t\t\t\tbottom: 24rpx;\r\n\t\t\t\twidth: 2rpx;\r\n\t\t\t\tbackground: #eee;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.timeline-item {\r\n\t\t\tposition: relative;\r\n\t\t\tpadding: 30rpx 0 30rpx 40rpx;\r\n\r\n\t\t\t&.active {\r\n\t\t\t\t.timeline-dot {\r\n\t\t\t\t\tbackground: #7A9D7E;\r\n\t\t\t\t\tborder-color: #7A9D7E;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.step-title {\r\n\t\t\t\t\tcolor: #333;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.timeline-dot {\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\tleft: -34rpx;\r\n\t\t\t\ttop: 40rpx;\r\n\t\t\t\twidth: 24rpx;\r\n\t\t\t\theight: 24rpx;\r\n\t\t\t\tborder: 4rpx solid #ddd;\r\n\t\t\t\tborder-radius: 50%;\r\n\t\t\t\tbackground: #fff;\r\n\t\t\t\tz-index: 2;\r\n\t\t\t}\r\n\r\n\t\t\t.timeline-content {\r\n\t\t\t\t.step-title {\r\n\t\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\t\tcolor: #999;\r\n\t\t\t\t\tmargin-bottom: 10rpx;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.step-time {\r\n\t\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\t\tcolor: #ccc;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>","import MiniProgramPage from 'E:/小程序转app/xcbapp/pages/complaintDetails/complaintDetails.vue'\nwx.createPage(MiniProgramPage)"],"names":["myMixin","uni"],"mappings":";;;AA0CC,MAAK,YAAU;AAAA,EACd,QAAQ,CAACA,aAAAA,OAAO;AAAA,EAChB,OAAO;AACN,WAAO;AAAA,MACN,aAAa,CAAC,OAAO,OAAO,OAAO,KAAK;AAAA,MACxC,QAAQ;AAAA,QACP,IAAI;AAAA,QACJ,QAAQ;AAAA;AAAA,QACR,YAAY;AAAA,QACZ,OAAO;AAAA,QACP,SAAS;AAAA,QACT,QAAQ,CAAC;AAAA,MACT;AAAA,MACD,cAAc;AAAA,QAAC;AAAA,UACb,OAAO;AAAA,UACP,MAAM;AAAA,QACN;AAAA,QACD;AAAA,UACC,OAAO;AAAA,UACP,MAAM;AAAA,QACN;AAAA,QACD;AAAA,UACC,OAAO;AAAA,UACP,MAAM;AAAA,QACN;AAAA,QACD;AAAA,UACC,OAAO;AAAA,UACP,MAAM;AAAA,QACP;AAAA,MACA;AAAA,MACD,cAAc,CAAC,WAAW,WAAW,WAAW,SAAS;AAAA,IAC1D;AAAA,EACA;AAAA,EACD,OAAO;AAAA,IACN;AAAA,EACD,GAAG;AACF,QAAI,aAAa;AAChB,UAAI,OAAO,KAAK,MAAM,WAAW;AAEjC,UAAI,KAAK,eAAe;AACvB,aAAK,gBAAgB,KAAK,cAAc,MAAM,GAAG;AAAA,MAClD;AACA,WAAK,SAAS;AAAA,IACf;AAAA,EACA;AAAA,EACD,SAAS;AAAA;AAAA,IAER,SAAS,QAAQ;AAChB,aAAO;AAAA,QACN,YAAY,KAAK,aAAa,MAAM,IAAI;AAAA,QACxC,OAAO,KAAK,aAAa,MAAM;AAAA,MAChC;AAAA,IACA;AAAA,IACD,SAAS;AACRC,oBAAAA,MAAI,aAAa;AAAA,IACjB;AAAA,IACD,aAAa,OAAO;AACnBA,oBAAAA,MAAI,aAAa;AAAA,QAChB,SAAS;AAAA,QACT,MAAM,KAAK,OAAO;AAAA,OAClB;AAAA,IACF;AAAA,EACD;AACD;;;;;;;;;;;;;;;;;;;;ACxGD,GAAG,WAAW,eAAe;"}