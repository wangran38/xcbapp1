{"version":3,"file":"weChatCashwWithdrawal.js","sources":["pages/weChatCashwWithdrawal/weChatCashwWithdrawal.vue","D:/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvd2VDaGF0Q2FzaHdXaXRoZHJhd2FsL3dlQ2hhdENhc2h3V2l0aGRyYXdhbC52dWU"],"sourcesContent":["<template>\r\n\t<view class=\"container\">\r\n\t\t<!-- 账户信息 -->\r\n\t\t<view class=\"balance-box\">\r\n\t\t\t<text class=\"title\">可提现余额</text>\r\n\t\t\t<view class=\"amount\">{{ shopmoney }}元</view>\r\n\t\t</view>\r\n\r\n\t\t<view class=\"input-section\" style=\"position: relative;\">\r\n\t\t\t<view style=\"position: absolute; right: 20rpx; top: 43%; font-size: 26rpx; z-index: 1000;\" @click=\"amount = shopmoney\">全部</view>\r\n\t\t\t<text class=\"label\">提现金额（元）</text>\r\n\t\t\t<input class=\"input\" type=\"digit\" v-model=\"amount\" placeholder=\"请输入提现金额\" @input=\"validateAmount\" />\r\n\t\t\t<view class=\"hint\">单笔限额1-50000元</view>\r\n\t\t</view>\r\n\r\n\t\t<!-- 提现方式选择 -->\r\n\t\t<view class=\"method-section\">\r\n\t\t\t<text class=\"section-title\">提现到</text>\r\n\t\t\t<radio-group @change=\"selectMethod\">\r\n\t\t\t\t<label class=\"method-item\" v-for=\"item in methods\" :key=\"item.value\">\r\n\t\t\t\t\t<view style=\"display: flex; width: 100%; justify-content:space-between\">\r\n\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t<uni-icons v-if=\"item.value == 'wechat'\" fontFamily=\"MyIconFont\" :size=\"26\"\r\n\t\t\t\t\t\t\t\tcolor=\"#09bb07;\">\r\n\t\t\t\t\t\t\t\t&#xe600;\r\n\t\t\t\t\t\t\t</uni-icons>\r\n\t\t\t\t\t\t\t<uni-icons v-if=\"item.value == 'card'\" fontFamily=\"MyIconFont\" :size=\"26\">\r\n\t\t\t\t\t\t\t\t&#xe605;\r\n\t\t\t\t\t\t\t</uni-icons>\r\n\t\t\t\t\t\t\t<text\r\n\t\t\t\t\t\t\t\tstyle=\"margin: 7rpx 0 0 10rpx; font-size: 30rpx; position: absolute;\">{{item.label}}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t<radio :value=\"item.value\" :checked=\"method === item.value\" />\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t</label>\r\n\t\t\t</radio-group>\r\n\t\t</view>\r\n\r\n\t\t<!-- 提交按钮 -->\r\n\t\t<button class=\"submit-btn\" :disabled=\"disabled\" @click=\"submitWithdraw\">立即提现</button>\r\n\r\n\t\t<!-- 温馨提示 -->\r\n\t\t<view class=\"notice\">\r\n\t\t\t<text class=\"notice-title\">温馨提示：</text>\r\n\t\t\t<view>\r\n\t\t\t\t1. 提现申请将在1-3个工作日内到账;\r\n\t\t\t</view>\r\n\t\t\t<!-- \t\t\t<view>\r\n\t\t\t\t2. 单笔手续费{{ feeRate }}%（最低{{ minFee }}元）\r\n\t\t\t</view> -->\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tapi\r\n\t} from '@/api/index.js'\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tamount: null, // 输入金额\r\n\t\t\t\tmethod: 'wechat', // 默认选择微信\r\n\t\t\t\tdisabled: true,\r\n\t\t\t\tmethods: [{\r\n\t\t\t\t\t\tvalue: 'wechat',\r\n\t\t\t\t\t\tlabel: '微信零钱',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvalue: 'card',\r\n\t\t\t\t\t\tlabel: '银行卡',\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\tfeeRate: 0.1, // 手续费率\r\n\t\t\t\tminFee: 1.00, // 最低手续费\r\n\t\t\t\tshopmoney: null,   // 需要替换\r\n\t\t\t\tmymoney: null   // 需要替换\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad() {\r\n\t\t\tthis.updateMoney()\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\tamount(newValue, oldValue) {\r\n\t\t\t\t// !!!!!!!  需要替换\r\n\t\t\t\tif (newValue <= this.shopmoney && newValue >= 1) {\r\n\t\t\t\t\tthis.disabled = false\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.disabled = true\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tupdateMoney(){\r\n\t\t\t\tapi.mymoney({}).then((({\r\n\t\t\t\t\tdata\r\n\t\t\t\t}) => {\r\n\t\t\t\t\tthis.mymoney = data.mymoney\r\n\t\t\t\t\tthis.shopmoney = data.shopmoney\r\n\t\t\t\t}))\r\n\t\t\t},\r\n\t\t\t// 金额校验\r\n\t\t\tvalidateAmount() {\r\n\t\t\t\tthis.amount = this.amount.replace(/[^\\d.]/g, '')\r\n\t\t\t},\r\n\r\n\t\t\t// 选择提现方式\r\n\t\t\tselectMethod(e) {\r\n\t\t\t\tthis.method = e.detail.value\r\n\t\t\t},\r\n\r\n\t\t\t// 提交申请\r\n\t\t\tasync submitWithdraw() {\r\n\t\t\t\tswitch (this.method) {\r\n\t\t\t\t\tcase 'wechat':\r\n\t\t\t\t\t\t// 微信支付暂不支持\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ticon:'error',\r\n\t\t\t\t\t\t\ttitle:'提现至微信暂不支持'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\tcase 'card':\r\n\t\t\t\t\t\t// 银行卡支付\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tlet data = await api.amount({mymoney: parseFloat(this.amount)})\r\n\t\t\t\tif(data.code == 200){\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ticon:'success',\r\n\t\t\t\t\t\ttitle:data.message\r\n\t\t\t\t\t})\r\n\t\t\t\t\tthis.updateMoney()\r\n\t\t\t\t}else{\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ticon:'error',\r\n\t\t\t\t\t\ttitle:data.message\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped>\r\n\t@font-face {\r\n\t\tfont-family: MyIconFont;\r\n\t\tsrc: url('../../static/paymentMethodIcon/iconfont.ttf');\r\n\t}\r\n\r\n\ticonfont {\r\n\t\tfont-family: \"MyIconFont\";\r\n\t\tfont-size: 16px;\r\n\t\tfont-style: normal;\r\n\t\t-webkit-font-smoothing: antialiased;\r\n\t\t-moz-osx-font-smoothing: grayscale;\r\n\t}\r\n\r\n\t.container {\r\n\t\tpadding: 20rpx 30rpx;\r\n\t\tbackground: #f5f5f5;\r\n\t\tmin-height: 100vh;\r\n\t}\r\n\r\n\t.balance-box {\r\n\t\tbackground: #fff;\r\n\t\tborder-radius: 16rpx;\r\n\t\tpadding: 40rpx;\r\n\t\tmargin-bottom: 30rpx;\r\n\t}\r\n\r\n\t.title {\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #999;\r\n\t}\r\n\r\n\t.amount {\r\n\t\tfont-size: 40rpx;\r\n\t\t/* color: #07b9b9; */\r\n\t\tfont-weight: bold;\r\n\t}\r\n\r\n\t.input-section {\r\n\t\tbackground: #fff;\r\n\t\tpadding: 30rpx;\r\n\t\tborder-radius: 16rpx;\r\n\t}\r\n\r\n\t.label {\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #333;\r\n\t}\r\n\r\n\t.input {\r\n\t\theight: 100rpx;\r\n\t\tfont-size: 40rpx;\r\n\t\tborder-bottom: 2rpx solid #eee;\r\n\t\tmargin: 20rpx 0;\r\n\t}\r\n\r\n\t.hint {\r\n\t\tfont-size: 24rpx;\r\n\t\tcolor: #999;\r\n\t}\r\n\r\n\t.method-section {\r\n\t\tbackground: #fff;\r\n\t\tpadding: 30rpx;\r\n\t\tborder-radius: 16rpx;\r\n\t\tmargin-top: 30rpx;\r\n\t}\r\n\r\n\t.section-title {\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #333;\r\n\t\tdisplay: block;\r\n\t\tmargin-bottom: 30rpx;\r\n\t}\r\n\r\n\t.method-item {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tpadding: 30rpx 0;\r\n\t\tborder-bottom: 2rpx solid #f5f5f5;\r\n\t}\r\n\r\n\t.icon {\r\n\t\twidth: 50rpx;\r\n\t\theight: 50rpx;\r\n\t\tmargin-right: 20rpx;\r\n\t}\r\n\r\n\t.name {\r\n\t\tflex: 1;\r\n\t\tfont-size: 32rpx;\r\n\t}\r\n\r\n\t.submit-btn {\r\n\t\tbackground: #07b9b9;\r\n\t\tcolor: #fff;\r\n\t\tmargin: 50rpx 0;\r\n\t\tborder-radius: 50rpx;\r\n\t}\r\n\r\n\t.submit-btn[disabled] {\r\n\t\tbackground: #ccc;\r\n\t}\r\n\r\n\t.notice {\r\n\t\tpadding: 30rpx;\r\n\t\tfont-size: 24rpx;\r\n\t\tcolor: #999;\r\n\t\tline-height: 1.6;\r\n\t}\r\n</style>","import MiniProgramPage from 'E:/小程序转app/xcbapp/pages/weChatCashwWithdrawal/weChatCashwWithdrawal.vue'\nwx.createPage(MiniProgramPage)"],"names":["api","uni"],"mappings":";;;AA6DC,MAAK,YAAU;AAAA,EACd,OAAO;AACN,WAAO;AAAA,MACN,QAAQ;AAAA;AAAA,MACR,QAAQ;AAAA;AAAA,MACR,UAAU;AAAA,MACV,SAAS;AAAA,QAAC;AAAA,UACR,OAAO;AAAA,UACP,OAAO;AAAA,QACP;AAAA,QACD;AAAA,UACC,OAAO;AAAA,UACP,OAAO;AAAA,QACR;AAAA,MACA;AAAA,MACD,SAAS;AAAA;AAAA,MACT,QAAQ;AAAA;AAAA,MACR,WAAW;AAAA;AAAA,MACX,SAAS;AAAA;AAAA,IACV;AAAA,EACA;AAAA,EACD,SAAS;AACR,SAAK,YAAY;AAAA,EACjB;AAAA,EACD,OAAO;AAAA,IACN,OAAO,UAAU,UAAU;AAE1B,UAAI,YAAY,KAAK,aAAa,YAAY,GAAG;AAChD,aAAK,WAAW;AAAA,aACV;AACN,aAAK,WAAW;AAAA,MACjB;AAAA,IACD;AAAA,EACA;AAAA,EACD,SAAS;AAAA,IACR,cAAa;AACZA,gBAAAA,IAAI,QAAQ,EAAE,EAAE,KAAM,CAAC;AAAA,QACtB;AAAA,YACK;AACL,aAAK,UAAU,KAAK;AACpB,aAAK,YAAY,KAAK;AAAA,MACvB,CAAE;AAAA,IACF;AAAA;AAAA,IAED,iBAAiB;AAChB,WAAK,SAAS,KAAK,OAAO,QAAQ,WAAW,EAAE;AAAA,IAC/C;AAAA;AAAA,IAGD,aAAa,GAAG;AACf,WAAK,SAAS,EAAE,OAAO;AAAA,IACvB;AAAA;AAAA,IAGD,MAAM,iBAAiB;AACtB,cAAQ,KAAK,QAAM;AAAA,QAClB,KAAK;AAEJC,wBAAAA,MAAI,UAAU;AAAA,YACb,MAAK;AAAA,YACL,OAAM;AAAA,WACN;AACD;AAAA,MAIF;AACA,UAAI,OAAO,MAAMD,UAAG,IAAC,OAAO,EAAC,SAAS,WAAW,KAAK,MAAM,EAAC,CAAC;AAC9D,UAAG,KAAK,QAAQ,KAAI;AACnBC,sBAAAA,MAAI,UAAU;AAAA,UACb,MAAK;AAAA,UACL,OAAM,KAAK;AAAA,SACX;AACD,aAAK,YAAY;AAAA,aACb;AACJA,sBAAAA,MAAI,UAAU;AAAA,UACb,MAAK;AAAA,UACL,OAAM,KAAK;AAAA,SACX;AAAA,MACF;AAAA,IAED;AAAA,EACD;AACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/ID,GAAG,WAAW,eAAe;"}