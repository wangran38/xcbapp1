{"version":3,"file":"myComplaint.js","sources":["pages/myComplaint/myComplaint.vue","D:/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvbXlDb21wbGFpbnQvbXlDb21wbGFpbnQudnVl"],"sourcesContent":["<template>\r\n\t<view class=\"container\">\r\n\t\t<!-- 数据概览 -->\r\n\t\t<view class=\"data-panel\">\r\n\t\t\t<view class=\"stats-card gradient-purple\">\r\n\t\t\t\t<text class=\"stats-number\">{{ total }}</text>\r\n\t\t\t\t<text class=\"stats-label\">总投诉量</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<!-- 投诉记录 -->\r\n\t\t<scroll-view scroll-y class=\"record-list\" @scrolltolower=\"changePageAndGetData\">\r\n\t\t\t<view v-for=\"(item, index) in records\" :key=\"item.id\" class=\"record-card\" :class=\"'status-' + item.status\"\r\n\t\t\t\t  :style=\"cardStyle[index]\"  @click=\"viewDetail(item)\">\r\n\r\n\t\t\t\t<view class=\"card-content\">\r\n\t\t\t\t\t<text class=\"title\">{{ item.title }}</text>\r\n\r\n\t\t\t\t\t<view class=\"info-row\">\r\n\t\t\t\t\t\t<view class=\"time-info\">\r\n\t\t\t\t\t\t\t<uni-icons type=\"calendar\" size=\"16\" color=\"#999\" />\r\n\t\t\t\t\t\t\t<text>{{ initTime(item.created) }}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"status-tag\" :style=\"[tagStyle(item.status-1)]\">\r\n\t\t\t\t\t\t\t{{ statusLabels[item.status-1] }}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t<view class=\"progress-bar\">\r\n\t\t\t\t\t\t<view class=\"progress-fill\" :style=\"{width: progressWidth(item.status)}\"></view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<!-- 空状态 -->\r\n\t\t\t<view v-if=\"records.length === 0\" class=\"empty-state\">\r\n\t\t\t\t<image src=\"/static/empty-state.svg\" class=\"empty-image\" />\r\n\t\t\t\t<text class=\"empty-text\">暂无投诉记录</text>\r\n\t\t\t</view>\r\n\t\t</scroll-view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tmyMixin\r\n\t} from '@/utils/public.js'\r\n\timport {\r\n\t\tapi\r\n\t} from '@/api/index.js'\r\n\texport default {\r\n\t\tmixins: [myMixin],\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\ttotal: null,\r\n\t\t\t\tprocessing: 3,\r\n\t\t\t\trecords: [],\r\n\t\t\t\tquery: {\r\n\t\t\t\t\tpage: 1,\r\n\t\t\t\t\tlimit: 10\r\n\t\t\t\t},\r\n\t\t\t\tlock:false,\r\n\t\t\t\tstatusLabels: ['处理中', '已受理', '调解中', '已完结'],\r\n\t\t\t\tstatusColors: ['#FF9F43', '#2E86DE', '#10AC84', '#8395A7'],\r\n\t\t\t\tcardStyle: {}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad() {\r\n\t\t\tthis.getData()\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tviewDetail(item){\r\n\t\t\t\t// console.log(item)\r\n\t\t\t\tlet strJsonData =  JSON.stringify(item)\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl:`/pages/complaintDetails/complaintDetails?strJsonData=${strJsonData}`\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tchangePageAndGetData(){\r\n\t\t\t\tif (!this.lock){\r\n\t\t\t\t\tthis.query.page+=1\r\n\t\t\t\t\tthis.getData()\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\t\t\tasync getData() {\r\n\t\t\t\tlet data = await api.mylist(this.query)\r\n\t\t\t\tif (data.code == 200) {\r\n\t\t\t\t\tif (data.data.listdata<this.query.limit){\r\n\t\t\t\t\t\tthis.lock = true\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.total  = data.data.totalnum\r\n\t\t\t\t\tthis.records = [...this.records, ...data.data.listdata]\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\t\t\t// 进度条宽度\r\n\t\t\tprogressWidth(status) {\r\n\t\t\t\treturn ['30%', '60%', '100%', '0%'][status - 1]\r\n\t\t\t},\r\n\t\t\t// 标签样式\r\n\t\t\ttagStyle(status) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tbackground: this.statusColors[status] + '15',\r\n\t\t\t\t\tColor: this.statusColors[status]\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t/* 容器布局 */\r\n\t.container {\r\n\t\tbackground: linear-gradient(180deg, #F8F9FA 0%, #FFFFFF 100%);\r\n\t\tmin-height: 100vh;\r\n\t\tpadding: 30rpx;\r\n\t}\r\n\r\n\t/* 数据面板 */\r\n\t.data-panel {\r\n\t\tdisplay: grid;\r\n\t\tgrid-template-columns: repeat(1, 1fr);\r\n\t\tgap: 20rpx;\r\n\t\tmargin-bottom: 40rpx;\r\n\r\n\t\t.stats-card {\r\n\t\t\tpadding: 40rpx;\r\n\t\t\tborder-radius: 20rpx;\r\n\t\t\ttext-align: center;\r\n\r\n\t\t\t.stats-number {\r\n\t\t\t\tdisplay: block;\r\n\t\t\t\tfont-size: 56rpx;\r\n\t\t\t\tfont-weight: 700;\r\n\t\t\t\tmargin-bottom: 10rpx;\r\n\t\t\t}\r\n\r\n\t\t\t.stats-label {\r\n\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\tcolor: rgba(255, 255, 255, 0.9);\r\n\t\t\t}\r\n\r\n\t\t\t&.gradient-purple {\r\n\t\t\t\tbackground: linear-gradient(135deg, #A569BD 0%, #6C5CE7 100%);\r\n\t\t\t}\r\n\r\n\t\t\t&.gradient-blue {\r\n\t\t\t\tbackground: linear-gradient(135deg, #2E86DE 0%, #54A0FF 100%);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/* 投诉卡片 */\r\n\t.record-card {\r\n\t\tbackground: #fff;\r\n\t\tborder-radius: 24rpx;\r\n\t\tpadding: 30rpx;\r\n\t\tmargin-bottom: 30rpx;\r\n\t\tposition: relative;\r\n\t\ttransition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\r\n\t\tbox-shadow: 0 8rpx 24rpx rgba(0, 0, 0, 0.05);\r\n\r\n\t\t.status-flag {\r\n\t\t\tposition: absolute;\r\n\t\t\ttop: -12rpx;\r\n\t\t\tright: -12rpx;\r\n\t\t\tbackground: #fff;\r\n\t\t\tborder-radius: 50%;\r\n\t\t\tpadding: 8rpx;\r\n\t\t\tbox-shadow: 0 4rpx 12rpx rgba(0, 0, 0, 0.1);\r\n\t\t}\r\n\r\n\t\t.card-content {\r\n\t\t\t.title {\r\n\t\t\t\tfont-size: 32rpx;\r\n\t\t\t\tcolor: #2D3436;\r\n\t\t\t\tline-height: 1.4;\r\n\t\t\t\tmargin-bottom: 20rpx;\r\n\t\t\t}\r\n\r\n\t\t\t.info-row {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tjustify-content: space-between;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tmargin-bottom: 24rpx;\r\n\r\n\t\t\t\t.time-info {\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t\tcolor: #999;\r\n\t\t\t\t\tfont-size: 26rpx;\r\n\r\n\t\t\t\t\tuni-icons {\r\n\t\t\t\t\t\tmargin-right: 8rpx;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.status-tag {\r\n\t\t\t\t\tpadding: 6rpx 24rpx;\r\n\t\t\t\t\tborder-radius: 40rpx;\r\n\t\t\t\t\tfont-size: 26rpx;\r\n\t\t\t\t\tfont-weight: 500;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.progress-bar {\r\n\t\t\t\theight: 8rpx;\r\n\t\t\t\tbackground: #eee;\r\n\t\t\t\tborder-radius: 4rpx;\r\n\t\t\t\toverflow: hidden;\r\n\r\n\t\t\t\t.progress-fill {\r\n\t\t\t\t\theight: 100%;\r\n\t\t\t\t\tborder-radius: 4rpx;\r\n\t\t\t\t\ttransition: width 0.6s ease;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// 动态进度条颜色\r\n\t\t&.status-0 .progress-fill {\r\n\t\t\tbackground: #FF9F43;\r\n\t\t}\r\n\r\n\t\t&.status-1 .progress-fill {\r\n\t\t\tbackground: #2E86DE;\r\n\t\t}\r\n\r\n\t\t&.status-2 .progress-fill {\r\n\t\t\tbackground: #10AC84;\r\n\t\t}\r\n\r\n\t\t&.status-3 .progress-fill {\r\n\t\t\tbackground: #8395A7;\r\n\t\t}\r\n\t}\r\n\r\n\t/* 空状态 */\r\n\t.empty-state {\r\n\t\ttext-align: center;\r\n\t\tpadding: 100rpx 0;\r\n\r\n\t\t.empty-image {\r\n\t\t\twidth: 400rpx;\r\n\t\t\theight: 400rpx;\r\n\t\t\topacity: 0.8;\r\n\t\t\tmargin-bottom: 40rpx;\r\n\t\t}\r\n\r\n\t\t.empty-text {\r\n\t\t\tcolor: #666;\r\n\t\t\tfont-size: 32rpx;\r\n\t\t\tletter-spacing: 2rpx;\r\n\t\t}\r\n\t}\r\n</style>","import MiniProgramPage from 'E:/小程序转app/xcbapp/pages/myComplaint/myComplaint.vue'\nwx.createPage(MiniProgramPage)"],"names":["myMixin","uni","api"],"mappings":";;;;;AAkDC,MAAK,YAAU;AAAA,EACd,QAAQ,CAACA,aAAAA,OAAO;AAAA,EAChB,OAAO;AACN,WAAO;AAAA,MACN,OAAO;AAAA,MACP,YAAY;AAAA,MACZ,SAAS,CAAE;AAAA,MACX,OAAO;AAAA,QACN,MAAM;AAAA,QACN,OAAO;AAAA,MACP;AAAA,MACD,MAAK;AAAA,MACL,cAAc,CAAC,OAAO,OAAO,OAAO,KAAK;AAAA,MACzC,cAAc,CAAC,WAAW,WAAW,WAAW,SAAS;AAAA,MACzD,WAAW,CAAC;AAAA,IACb;AAAA,EACA;AAAA,EACD,SAAS;AACR,SAAK,QAAQ;AAAA,EACb;AAAA,EACD,SAAS;AAAA,IACR,WAAW,MAAK;AAEf,UAAI,cAAe,KAAK,UAAU,IAAI;AACtCC,oBAAAA,MAAI,WAAW;AAAA,QACd,KAAI,wDAAwD,WAAW;AAAA,OACvE;AAAA,IACD;AAAA,IACD,uBAAsB;AACrB,UAAI,CAAC,KAAK,MAAK;AACd,aAAK,MAAM,QAAM;AACjB,aAAK,QAAQ;AAAA,MACd;AAAA,IAEA;AAAA,IACD,MAAM,UAAU;AACf,UAAI,OAAO,MAAMC,UAAAA,IAAI,OAAO,KAAK,KAAK;AACtC,UAAI,KAAK,QAAQ,KAAK;AACrB,YAAI,KAAK,KAAK,WAAS,KAAK,MAAM,OAAM;AACvC,eAAK,OAAO;AAAA,QACb;AACA,aAAK,QAAS,KAAK,KAAK;AACxB,aAAK,UAAU,CAAC,GAAG,KAAK,SAAS,GAAG,KAAK,KAAK,QAAQ;AAAA,MACvD;AAAA,IAEA;AAAA;AAAA,IAED,cAAc,QAAQ;AACrB,aAAO,CAAC,OAAO,OAAO,QAAQ,IAAI,EAAE,SAAS,CAAC;AAAA,IAC9C;AAAA;AAAA,IAED,SAAS,QAAQ;AAChB,aAAO;AAAA,QACN,YAAY,KAAK,aAAa,MAAM,IAAI;AAAA,QACxC,OAAO,KAAK,aAAa,MAAM;AAAA,MAChC;AAAA,IACA;AAAA,EACF;AACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC3GD,GAAG,WAAW,eAAe;"}