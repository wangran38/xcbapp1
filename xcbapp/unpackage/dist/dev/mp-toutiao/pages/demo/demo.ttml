<view class="container data-v-eae40a34"><view class="header data-v-eae40a34"><text class="title data-v-eae40a34">幸运大抽奖</text><text class="points data-v-eae40a34">{{"剩余积分: "+userPoints}}</text></view><view class="main-content data-v-eae40a34"><view class="wheel-container data-v-eae40a34"><view data-ref="wheel" class="wheel data-v-eae40a34 vue-ref" style="{{'transform:'+('rotate('+wheelRotate+'deg)')+';'}}"><block tt:for="{{prizes}}" tt:for-item="prize" tt:for-index="index" tt:key="id"><view class="prize-item data-v-eae40a34" style="{{'transform:'+('rotate('+360/prizes.length*index+'deg)')+';'+('background:'+(prize.bgColor)+';')}}"><view class="prize-content data-v-eae40a34" style="{{'transform:'+('rotate('+-360/prizes.length*index+'deg)')+';'}}"><image class="prize-icon data-v-eae40a34" src="{{prize.imgUrl}}" mode="aspectFit"></image><text class="prize-name data-v-eae40a34">{{prize.name}}</text></view></view></block><view data-event-opts="{{[['tap',[['startLottery',['$event']]]]]}}" class="wheel-center data-v-eae40a34" bindtap="__e"><text class="center-text data-v-eae40a34">开始</text></view></view><view class="wheel-pointer data-v-eae40a34"><image src="/static/pointer.png" mode="aspectFit" class="data-v-eae40a34"></image></view></view><button class="lottery-btn data-v-eae40a34" disabled="{{isLottering}}" data-event-opts="{{[['tap',[['startLottery',['$event']]]]]}}" bindtap="__e">{{''+(isLottering?'抽奖中...':'开始抽奖')+''}}</button></view><view class="prize-history data-v-eae40a34"><text class="history-title data-v-eae40a34">最近中奖记录</text><scroll-view class="history-list data-v-eae40a34" scroll-y="{{true}}"><block tt:for="{{prizeHistory}}" tt:for-item="item" tt:for-index="index" tt:key="index"><view class="history-item data-v-eae40a34"><text class="history-name data-v-eae40a34">{{item.name}}</text><text class="history-time data-v-eae40a34">{{item.time}}</text></view></block></scroll-view></view><block tt:if="{{showResultModal}}"><view class="result-modal data-v-eae40a34"><view class="modal-content data-v-eae40a34"><view class="modal-header data-v-eae40a34"><text class="modal-title data-v-eae40a34">{{resultTitle}}</text><view data-event-opts="{{[['tap',[['closeResultModal',['$event']]]]]}}" class="close-btn data-v-eae40a34" bindtap="__e">×</view></view><view class="modal-body data-v-eae40a34"><image class="result-img data-v-eae40a34" src="{{resultPrizeImg}}" mode="aspectFit"></image><text class="result-text data-v-eae40a34">{{resultMessage}}</text></view><view class="modal-footer data-v-eae40a34"><button data-event-opts="{{[['tap',[['closeResultModal',['$event']]]]]}}" class="modal-btn data-v-eae40a34" bindtap="__e">确定</button></view></view></view></block></view>